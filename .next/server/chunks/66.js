exports.id=66;exports.ids=[66];exports.modules={1470:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setup=void 0;const r=n(91645);const i=n(71271);const s=n(86777);const o=n(5674);const a=n(26786);const c=n(31359);const l="ip_resolver";function u(e){c.trace(i.LogVerbosity.DEBUG,l,e)}const d="ipv4";const f="ipv6";const h=443;class p{constructor(e,t,n){var o;this.listener=t;this.addresses=[];this.error=null;this.hasReturnedResult=false;u("Resolver constructed for target "+(0,a.uriToString)(e));const c=[];if(!(e.scheme===d||e.scheme===f)){this.error={code:i.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new s.Metadata};return}const l=e.path.split(",");for(const t of l){const n=(0,a.splitHostPort)(t);if(n===null){this.error={code:i.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new s.Metadata};return}if(e.scheme===d&&!(0,r.isIPv4)(n.host)||e.scheme===f&&!(0,r.isIPv6)(n.host)){this.error={code:i.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new s.Metadata};return}c.push({host:n.host,port:(o=n.port)!==null&&o!==void 0?o:h})}this.addresses=c;u("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){if(!this.hasReturnedResult){this.hasReturnedResult=true;process.nextTick(()=>{if(this.error){this.listener.onError(this.error)}else{this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}})}}destroy(){this.hasReturnedResult=false}static getDefaultAuthority(e){return e.path.split(",")[0]}}function m(){(0,o.registerResolver)(d,p);(0,o.registerResolver)(f,p)}t.setup=m},1532:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:true});t.setup=t.OutlierDetectionLoadBalancer=t.OutlierDetectionLoadBalancingConfig=void 0;const i=n(18155);const s=n(71271);const o=n(80324);const a=n(76250);const c=n(86239);const l=n(72309);const u=n(72910);const d=n(43356);const f=n(4719);const h=n(31359);const p="outlier_detection";function m(e){h.trace(s.LogVerbosity.DEBUG,p,e)}const g="outlier_detection";const y=((r=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&r!==void 0?r:"true")==="true";const v={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100};const b={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function w(e,t,n,r){if(t in e&&typeof e[t]!==n){const i=r?`${r}.${t}`:t;throw new Error(`outlier detection config ${i} parse error: expected ${n}, got ${typeof e[t]}`)}}function E(e,t,n){const r=n?`${n}.${t}`:t;if(t in e){if(!(0,o.isDuration)(e[t])){throw new Error(`outlier detection config ${r} parse error: expected Duration, got ${typeof e[t]}`)}if(!(e[t].seconds>=0&&e[t].seconds<=315576e6&&e[t].nanos>=0&&e[t].nanos<=0x3b9ac9ff)){throw new Error(`outlier detection config ${r} parse error: values out of range for non-negative Duaration`)}}}function _(e,t,n){const r=n?`${n}.${t}`:t;w(e,t,"number",n);if(t in e&&!(e[t]>=0&&e[t]<=100)){throw new Error(`outlier detection config ${r} parse error: value out of range for percentage (0-100)`)}}class S{constructor(e,t,n,r,i,s,o){this.childPolicy=o;if(o.length>0&&o[0].getLoadBalancerName()==="pick_first"){throw new Error("outlier_detection LB policy cannot have a pick_first child policy")}this.intervalMs=e!==null&&e!==void 0?e:1e4;this.baseEjectionTimeMs=t!==null&&t!==void 0?t:3e4;this.maxEjectionTimeMs=n!==null&&n!==void 0?n:3e5;this.maxEjectionPercent=r!==null&&r!==void 0?r:10;this.successRateEjection=i?Object.assign(Object.assign({},v),i):null;this.failurePercentageEjection=s?Object.assign(Object.assign({},b),s):null}getLoadBalancerName(){return g}toJsonObject(){return{interval:(0,o.msToDuration)(this.intervalMs),base_ejection_time:(0,o.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,o.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(e=>e.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(e){return new S(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,e)}static createFromJson(e){var t;E(e,"interval");E(e,"base_ejection_time");E(e,"max_ejection_time");_(e,"max_ejection_percent");if("success_rate_ejection"in e){if(typeof e.success_rate_ejection!=="object"){throw new Error("outlier detection config success_rate_ejection must be an object")}w(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection");_(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection");w(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection");w(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e){if(typeof e.failure_percentage_ejection!=="object"){throw new Error("outlier detection config failure_percentage_ejection must be an object")}_(e.failure_percentage_ejection,"threshold","failure_percentage_ejection");_(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection");w(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection");w(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new S(e.interval?(0,o.durationToMs)(e.interval):null,e.base_ejection_time?(0,o.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,o.durationToMs)(e.max_ejection_time):null,(t=e.max_ejection_percent)!==null&&t!==void 0?t:null,e.success_rate_ejection,e.failure_percentage_ejection,e.child_policy.map(c.validateLoadBalancingConfig))}}t.OutlierDetectionLoadBalancingConfig=S;class T extends f.BaseSubchannelWrapper{constructor(e,t){super(e);this.mapEntry=t;this.stateListeners=[];this.ejected=false;this.refCount=0;this.childSubchannelState=e.getConnectivityState();e.addConnectivityStateListener((e,t,n,r)=>{this.childSubchannelState=n;if(!this.ejected){for(const e of this.stateListeners){e(this,t,n,r)}}})}getConnectivityState(){if(this.ejected){return i.ConnectivityState.TRANSIENT_FAILURE}else{return this.childSubchannelState}}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){const t=this.stateListeners.indexOf(e);if(t>-1){this.stateListeners.splice(t,1)}}ref(){this.child.ref();this.refCount+=1}unref(){this.child.unref();this.refCount-=1;if(this.refCount<=0){if(this.mapEntry){const e=this.mapEntry.subchannelWrappers.indexOf(this);if(e>=0){this.mapEntry.subchannelWrappers.splice(e,1)}}}}eject(){this.ejected=true;for(const e of this.stateListeners){e(this,this.childSubchannelState,i.ConnectivityState.TRANSIENT_FAILURE,-1)}}uneject(){this.ejected=false;for(const e of this.stateListeners){e(this,i.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function C(){return{success:0,failure:0}}class I{constructor(){this.activeBucket=C();this.inactiveBucket=C()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket;this.activeBucket=C()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class R{constructor(e,t){this.wrappedPicker=e;this.countCalls=t}pick(e){const t=this.wrappedPicker.pick(e);if(t.pickResultType===u.PickResultType.COMPLETE){const e=t.subchannel;const n=e.getMapEntry();if(n){let r=t.onCallEnded;if(this.countCalls){r=e=>{var r;if(e===s.Status.OK){n.counter.addSuccess()}else{n.counter.addFailure()}(r=t.onCallEnded)===null||r===void 0?void 0:r.call(t,e)}}return Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel(),onCallEnded:r})}else{return Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel()})}}else{return t}}}class O{constructor(e){this.addressMap=new Map;this.latestConfig=null;this.timerStartTime=null;this.childBalancer=new l.ChildLoadBalancerHandler((0,a.createChildChannelControlHelper)(e,{createSubchannel:(t,n)=>{const r=e.createSubchannel(t,n);const i=this.addressMap.get((0,d.subchannelAddressToString)(t));const s=new T(r,i);if((i===null||i===void 0?void 0:i.currentEjectionTimestamp)!==null){s.eject()}i===null||i===void 0?void 0:i.subchannelWrappers.push(s);return s},updateState:(t,n)=>{if(t===i.ConnectivityState.READY){e.updateState(t,new R(n,this.isCountingEnabled()))}else{e.updateState(t,n)}}}));this.ejectionTimer=setInterval(()=>{},0);clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(const t of this.addressMap.values()){if(t.currentEjectionTimestamp!==null){e+=1}}return e*100/this.addressMap.size}runSuccessRateCheck(e){if(!this.latestConfig){return}const t=this.latestConfig.getSuccessRateEjectionConfig();if(!t){return}m("Running success rate check");const n=t.request_volume;let r=0;const i=[];for(const[e,t]of this.addressMap){const s=t.counter.getLastSuccesses();const o=t.counter.getLastFailures();m("Stats for "+e+": successes="+s+" failures="+o+" targetRequestVolume="+n);if(s+o>=n){r+=1;i.push(s/(s+o))}}m("Found "+r+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+i+"]");if(r<t.minimum_hosts){return}const s=i.reduce((e,t)=>e+t)/i.length;let o=0;for(const e of i){const t=e-s;o+=t*t}const a=o/i.length;const c=Math.sqrt(a);const l=s-c*(t.stdev_factor/1e3);m("stdev="+c+" ejectionThreshold="+l);for(const[r,i]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent()){break}const s=i.counter.getLastSuccesses();const o=i.counter.getLastFailures();if(s+o<n){continue}const a=s/(s+o);m("Checking candidate "+r+" successRate="+a);if(a<l){const n=Math.random()*100;m("Candidate "+r+" randomNumber="+n+" enforcement_percentage="+t.enforcement_percentage);if(n<t.enforcement_percentage){m("Ejecting candidate "+r);this.eject(i,e)}}}}runFailurePercentageCheck(e){if(!this.latestConfig){return}const t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t){return}m("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let n=0;for(const e of this.addressMap.values()){const r=e.counter.getLastSuccesses();const i=e.counter.getLastFailures();if(r+i>=t.request_volume){n+=1}}if(n<t.minimum_hosts){return}for(const[n,r]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent()){break}const i=r.counter.getLastSuccesses();const s=r.counter.getLastFailures();m("Candidate successes="+i+" failures="+s);if(i+s<t.request_volume){continue}const o=s*100/(s+i);if(o>t.threshold){const i=Math.random()*100;m("Candidate "+n+" randomNumber="+i+" enforcement_percentage="+t.enforcement_percentage);if(i<t.enforcement_percentage){m("Ejecting candidate "+n);this.eject(r,e)}}}}eject(e,t){e.currentEjectionTimestamp=new Date;e.ejectionTimeMultiplier+=1;for(const t of e.subchannelWrappers){t.eject()}}uneject(e){e.currentEjectionTimestamp=null;for(const t of e.subchannelWrappers){t.uneject()}}switchAllBuckets(){for(const e of this.addressMap.values()){e.counter.switchBuckets()}}startTimer(e){var t,n;this.ejectionTimer=setTimeout(()=>this.runChecks(),e);(n=(t=this.ejectionTimer).unref)===null||n===void 0?void 0:n.call(t)}runChecks(){const e=new Date;m("Ejection timer running");this.switchAllBuckets();if(!this.latestConfig){return}this.timerStartTime=e;this.startTimer(this.latestConfig.getIntervalMs());this.runSuccessRateCheck(e);this.runFailurePercentageCheck(e);for(const[e,t]of this.addressMap.entries()){if(t.currentEjectionTimestamp===null){if(t.ejectionTimeMultiplier>0){t.ejectionTimeMultiplier-=1}}else{const n=this.latestConfig.getBaseEjectionTimeMs();const r=this.latestConfig.getMaxEjectionTimeMs();const i=new Date(t.currentEjectionTimestamp.getTime());i.setMilliseconds(i.getMilliseconds()+Math.min(n*t.ejectionTimeMultiplier,Math.max(n,r)));if(i<new Date){m("Unejecting "+e);this.uneject(t)}}}}updateAddressList(e,t,n){if(!(t instanceof S)){return}const r=new Set;for(const t of e){r.add((0,d.subchannelAddressToString)(t))}for(const e of r){if(!this.addressMap.has(e)){m("Adding map entry for "+e);this.addressMap.set(e,{counter:new I,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]})}}for(const e of this.addressMap.keys()){if(!r.has(e)){m("Removing map entry for "+e);this.addressMap.delete(e)}}const i=(0,c.getFirstUsableConfig)(t.getChildPolicy(),true);this.childBalancer.updateAddressList(e,i,n);if(t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig()){if(this.timerStartTime){m("Previous timer existed. Replacing timer");clearTimeout(this.ejectionTimer);const e=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(e)}else{m("Starting new timer");this.timerStartTime=new Date;this.startTimer(t.getIntervalMs());this.switchAllBuckets()}}else{m("Counting disabled. Cancelling timer.");this.timerStartTime=null;clearTimeout(this.ejectionTimer);for(const e of this.addressMap.values()){this.uneject(e);e.ejectionTimeMultiplier=0}}this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer);this.childBalancer.destroy()}getTypeName(){return g}}t.OutlierDetectionLoadBalancer=O;function A(){if(y){(0,a.registerLoadBalancerType)(g,O,S)}}t.setup=A},1765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"HTTPAccessErrorFallback",{enumerable:true,get:function(){return a}});const r=n(72639);const i=n(37413);const s=r._(n(61120));const o={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},desc:{display:"inline-block"},h1:{display:"inline-block",margin:"0 20px 0 0",padding:"0 23px 0 0",fontSize:24,fontWeight:500,verticalAlign:"top",lineHeight:"49px"},h2:{fontSize:14,fontWeight:400,lineHeight:"49px",margin:0}};function a(e){let{status:t,message:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("title",{children:t+": "+n}),(0,i.jsx)("div",{style:o.error,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("style",{dangerouslySetInnerHTML:{__html:"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}),(0,i.jsx)("h1",{className:"next-error-h1",style:o.h1,children:t}),(0,i.jsx)("div",{style:o.desc,children:(0,i.jsx)("h2",{style:o.h2,children:n})})]})})]})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},3076:(e,t,n)=>{"use strict";e.exports=a;var r=n(77968);((a.prototype=Object.create(r.prototype)).constructor=a).className="Service";var i=n(71202),s=n(93107),o=n(27236);function a(e,t){r.call(this,e,t);this.methods={};this._methodsArray=null}a.fromJSON=function e(e,t){var n=new a(e,t.options);if(t.methods)for(var r=Object.keys(t.methods),s=0;s<r.length;++s)n.add(i.fromJSON(r[s],t.methods[r[s]]));if(t.nested)n.addJSON(t.nested);if(t.edition)n._edition=t.edition;n.comment=t.comment;n._defaultEdition="proto3";return n};a.prototype.toJSON=function e(e){var t=r.prototype.toJSON.call(this,e);var n=e?Boolean(e.keepComments):false;return s.toObject(["edition",this._editionToJSON(),"options",t&&t.options||undefined,"methods",r.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||undefined,"comment",n?this.comment:undefined])};Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}});function c(e){e._methodsArray=null;return e}a.prototype.get=function e(e){return this.methods[e]||r.prototype.get.call(this,e)};a.prototype.resolveAll=function e(){if(!this._needsRecursiveResolve)return this;r.prototype.resolve.call(this);var e=this.methodsArray;for(var t=0;t<e.length;++t)e[t].resolve();return this};a.prototype._resolveFeaturesRecursive=function e(e){if(!this._needsRecursiveFeatureResolution)return this;e=this._edition||e;r.prototype._resolveFeaturesRecursive.call(this,e);this.methodsArray.forEach(t=>{t._resolveFeaturesRecursive(e)});return this};a.prototype.add=function e(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof i){this.methods[e.name]=e;e.parent=this;return c(this)}return r.prototype.add.call(this,e)};a.prototype.remove=function e(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);delete this.methods[e.name];e.parent=null;return c(this)}return r.prototype.remove.call(this,e)};a.prototype.create=function e(e,t,n){var r=new o.Service(e,t,n);for(var i=0,a;i<this.methodsArray.length;++i){var c=s.lcFirst((a=this._methodsArray[i]).resolve().name).replace(/[^$\w_]/g,"");r[c]=s.codegen(["r","c"],s.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:a,q:a.resolvedRequestType.ctor,s:a.resolvedResponseType.ctor})}return r}},3416:(e,t,n)=>{"use strict";n.d(t,{sG:()=>m,hO:()=>g});var r=n(43210);var i=n(51215);var s=n(98599);var o=n(60687);var a=r.forwardRef((e,t)=>{const{children:n,...i}=e;const s=r.Children.toArray(n);const a=s.find(u);if(a){const e=a.props.children;const n=s.map(t=>{if(t===a){if(r.Children.count(e)>1)return r.Children.only(null);return r.isValidElement(e)?e.props.children:null}else{return t}});return(0,o.jsx)(c,{...i,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,o.jsx)(c,{...i,ref:t,children:n})});a.displayName="Slot";var c=r.forwardRef((e,t)=>{const{children:n,...i}=e;if(r.isValidElement(n)){const e=f(n);const o=d(i,n.props);if(n.type!==r.Fragment){o.ref=t?(0,s.t)(t,e):e}return r.cloneElement(n,o)}return r.Children.count(n)>1?r.Children.only(null):null});c.displayName="SlotClone";var l=({children:e})=>{return(0,o.jsx)(o.Fragment,{children:e})};function u(e){return r.isValidElement(e)&&e.type===l}function d(e,t){const n={...t};for(const r in t){const i=e[r];const s=t[r];const o=/^on[A-Z]/.test(r);if(o){if(i&&s){n[r]=(...e)=>{s(...e);i(...e)}}else if(i){n[r]=i}}else if(r==="style"){n[r]={...i,...s}}else if(r==="className"){n[r]=[i,s].filter(Boolean).join(" ")}}return{...e,...n}}function f(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get;let n=t&&"isReactWarning"in t&&t.isReactWarning;if(n){return e.ref}t=Object.getOwnPropertyDescriptor(e,"ref")?.get;n=t&&"isReactWarning"in t&&t.isReactWarning;if(n){return e.props.ref}return e.props.ref||e.ref}var h=null&&a;var p=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"];var m=p.reduce((e,t)=>{const n=r.forwardRef((e,n)=>{const{asChild:r,...i}=e;const s=r?a:t;if(typeof window!=="undefined"){window[Symbol.for("radix-ui")]=true}return(0,o.jsx)(s,{...i,ref:n})});n.displayName=`Primitive.${t}`;return{...e,[t]:n}},{});function g(e,t){if(e)i.flushSync(()=>e.dispatchEvent(t))}var y=null&&m},3712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getInterceptingCall=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.InterceptorConfigurationError=void 0;const r=n(86777);const i=n(60070);const s=n(71271);const o=n(60776);class a extends Error{constructor(e){super(e);this.name="InterceptorConfigurationError";Error.captureStackTrace(this,a)}}t.InterceptorConfigurationError=a;class c{constructor(){this.metadata=undefined;this.message=undefined;this.status=undefined}withOnReceiveMetadata(e){this.metadata=e;return this}withOnReceiveMessage(e){this.message=e;return this}withOnReceiveStatus(e){this.status=e;return this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}t.ListenerBuilder=c;class l{constructor(){this.start=undefined;this.message=undefined;this.halfClose=undefined;this.cancel=undefined}withStart(e){this.start=e;return this}withSendMessage(e){this.message=e;return this}withHalfClose(e){this.halfClose=e;return this}withCancel(e){this.cancel=e;return this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}t.RequesterBuilder=l;const u={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveStatus:(e,t)=>{t(e)}};const d={start:(e,t,n)=>{n(e,t)},sendMessage:(e,t)=>{t(e)},halfClose:e=>{e()},cancel:e=>{e()}};class f{constructor(e,t){var n,r,i,s;this.nextCall=e;this.processingMetadata=false;this.pendingMessageContext=null;this.processingMessage=false;this.pendingHalfClose=false;if(t){this.requester={start:(n=t.start)!==null&&n!==void 0?n:d.start,sendMessage:(r=t.sendMessage)!==null&&r!==void 0?r:d.sendMessage,halfClose:(i=t.halfClose)!==null&&i!==void 0?i:d.halfClose,cancel:(s=t.cancel)!==null&&s!==void 0?s:d.cancel}}else{this.requester=d}}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){if(this.pendingMessageContext){this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage);this.pendingMessageContext=null;this.pendingMessage=null}}processPendingHalfClose(){if(this.pendingHalfClose){this.nextCall.halfClose()}}start(e,t){var n,r,s,o,a,c;const l={onReceiveMetadata:(r=(n=t===null||t===void 0?void 0:t.onReceiveMetadata)===null||n===void 0?void 0:n.bind(t))!==null&&r!==void 0?r:e=>{},onReceiveMessage:(o=(s=t===null||t===void 0?void 0:t.onReceiveMessage)===null||s===void 0?void 0:s.bind(t))!==null&&o!==void 0?o:e=>{},onReceiveStatus:(c=(a=t===null||t===void 0?void 0:t.onReceiveStatus)===null||a===void 0?void 0:a.bind(t))!==null&&c!==void 0?c:e=>{}};this.processingMetadata=true;this.requester.start(e,l,(e,t)=>{var n,r,s;this.processingMetadata=false;let o;if((0,i.isInterceptingListener)(t)){o=t}else{const e={onReceiveMetadata:(n=t.onReceiveMetadata)!==null&&n!==void 0?n:u.onReceiveMetadata,onReceiveMessage:(r=t.onReceiveMessage)!==null&&r!==void 0?r:u.onReceiveMessage,onReceiveStatus:(s=t.onReceiveStatus)!==null&&s!==void 0?s:u.onReceiveStatus};o=new i.InterceptingListenerImpl(e,l)}this.nextCall.start(e,o);this.processPendingMessage();this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=true;this.requester.sendMessage(t,n=>{this.processingMessage=false;if(this.processingMetadata){this.pendingMessageContext=e;this.pendingMessage=t}else{this.nextCall.sendMessageWithContext(e,n);this.processPendingHalfClose()}})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{if(this.processingMetadata||this.processingMessage){this.pendingHalfClose=true}else{this.nextCall.halfClose()}})}}t.InterceptingCall=f;function h(e,t,n){var r,i;const s=(r=n.deadline)!==null&&r!==void 0?r:Infinity;const o=n.host;const a=(i=n.parent)!==null&&i!==void 0?i:null;const c=n.propagate_flags;const l=n.credentials;const u=e.createCall(t,s,o,a,c);if(l){u.setCredentials(l)}return u}class p{constructor(e,t){this.call=e;this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let n;try{n=this.methodDefinition.requestSerialize(t)}catch(e){this.call.cancelWithStatus(s.Status.INTERNAL,`Request message serialization failure: ${(0,o.getErrorMessage)(e)}`);return}this.call.sendMessageWithContext(e,n)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let n=null;this.call.start(e,{onReceiveMetadata:e=>{var n;(n=t===null||t===void 0?void 0:t.onReceiveMetadata)===null||n===void 0?void 0:n.call(t,e)},onReceiveMessage:e=>{var i;let a;try{a=this.methodDefinition.responseDeserialize(e)}catch(e){n={code:s.Status.INTERNAL,details:`Response message parsing error: ${(0,o.getErrorMessage)(e)}`,metadata:new r.Metadata};this.call.cancelWithStatus(n.code,n.details);return}(i=t===null||t===void 0?void 0:t.onReceiveMessage)===null||i===void 0?void 0:i.call(t,a)},onReceiveStatus:e=>{var r,i;if(n){(r=t===null||t===void 0?void 0:t.onReceiveStatus)===null||r===void 0?void 0:r.call(t,n)}else{(i=t===null||t===void 0?void 0:t.onReceiveStatus)===null||i===void 0?void 0:i.call(t,e)}}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class m extends p{constructor(e,t){super(e,t)}start(e,t){var n,r;let i=false;const s={onReceiveMetadata:(r=(n=t===null||t===void 0?void 0:t.onReceiveMetadata)===null||n===void 0?void 0:n.bind(t))!==null&&r!==void 0?r:e=>{},onReceiveMessage:e=>{var n;i=true;(n=t===null||t===void 0?void 0:t.onReceiveMessage)===null||n===void 0?void 0:n.call(t,e)},onReceiveStatus:e=>{var n,r;if(!i){(n=t===null||t===void 0?void 0:t.onReceiveMessage)===null||n===void 0?void 0:n.call(t,null)}(r=t===null||t===void 0?void 0:t.onReceiveStatus)===null||r===void 0?void 0:r.call(t,e)}};super.start(e,s);this.call.startRead()}}class g extends p{}function y(e,t,n){const r=h(e,n.path,t);if(n.responseStream){return new g(r,n)}else{return new m(r,n)}}function v(e,t,n,r){if(e.clientInterceptors.length>0&&e.clientInterceptorProviders.length>0){throw new a("Both interceptors and interceptor_providers were passed as options "+"to the client constructor. Only one of these is allowed.")}if(e.callInterceptors.length>0&&e.callInterceptorProviders.length>0){throw new a("Both interceptors and interceptor_providers were passed as call "+"options. Only one of these is allowed.")}let i=[];if(e.callInterceptors.length>0||e.callInterceptorProviders.length>0){i=[].concat(e.callInterceptors,e.callInterceptorProviders.map(e=>e(t))).filter(e=>e)}else{i=[].concat(e.clientInterceptors,e.clientInterceptorProviders.map(e=>e(t))).filter(e=>e)}const s=Object.assign({},n,{method_definition:t});const o=i.reduceRight((e,t)=>{return n=>t(n,e)},e=>y(r,e,t));return o(s)}t.getInterceptingCall=v},4227:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Server=void 0;const r=n(73496);const i=n(71271);const s=n(17492);const o=n(19420);const a=n(5674);const c=n(31359);const l=n(43356);const u=n(26786);const d=n(66827);const f=~(1<<31);const h=~(1<<31);const p=2e4;const{HTTP2_HEADER_PATH:m}=r.constants;const g="server";function y(){}function v(e){return{code:i.Status.UNIMPLEMENTED,details:`The server does not implement the method ${e}`}}function b(e,t){const n=v(t);switch(e){case"unary":return(e,t)=>{t(n,null)};case"clientStream":return(e,t)=>{t(n,null)};case"serverStream":return e=>{e.emit("error",n)};case"bidi":return e=>{e.emit("error",n)};default:throw new Error(`Invalid handlerType ${e}`)}}class w{constructor(e){var t,n,r,i;this.http2ServerList=[];this.handlers=new Map;this.sessions=new Map;this.started=false;this.shutdown=false;this.serverAddressString="null";this.channelzEnabled=true;this.channelzTrace=new d.ChannelzTrace;this.callTracker=new d.ChannelzCallTracker;this.listenerChildrenTracker=new d.ChannelzChildrenTracker;this.sessionChildrenTracker=new d.ChannelzChildrenTracker;this.options=e!==null&&e!==void 0?e:{};if(this.options["grpc.enable_channelz"]===0){this.channelzEnabled=false}this.channelzRef=(0,d.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled);if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Server created")}this.maxConnectionAgeMs=(t=this.options["grpc.max_connection_age_ms"])!==null&&t!==void 0?t:f;this.maxConnectionAgeGraceMs=(n=this.options["grpc.max_connection_age_grace_ms"])!==null&&n!==void 0?n:f;this.keepaliveTimeMs=(r=this.options["grpc.keepalive_time_ms"])!==null&&r!==void 0?r:h;this.keepaliveTimeoutMs=(i=this.options["grpc.keepalive_timeout_ms"])!==null&&i!==void 0?i:p;this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(e){return()=>{var t,n,r;const i=this.sessions.get(e);const s=e.socket;const o=s.remoteAddress?(0,l.stringToSubchannelAddress)(s.remoteAddress,s.remotePort):null;const a=s.localAddress?(0,l.stringToSubchannelAddress)(s.localAddress,s.localPort):null;let c;if(e.encrypted){const e=s;const n=e.getCipher();const r=e.getCertificate();const i=e.getPeerCertificate();c={cipherSuiteStandardName:(t=n.standardName)!==null&&t!==void 0?t:null,cipherSuiteOtherName:n.standardName?null:n.name,localCertificate:r&&"raw"in r?r.raw:null,remoteCertificate:i&&"raw"in i?i.raw:null}}else{c=null}const u={remoteAddress:o,localAddress:a,security:c,remoteName:null,streamsStarted:i.streamTracker.callsStarted,streamsSucceeded:i.streamTracker.callsSucceeded,streamsFailed:i.streamTracker.callsFailed,messagesSent:i.messagesSent,messagesReceived:i.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:i.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:i.lastMessageSentTimestamp,lastMessageReceivedTimestamp:i.lastMessageReceivedTimestamp,localFlowControlWindow:(n=e.state.localWindowSize)!==null&&n!==void 0?n:null,remoteFlowControlWindow:(r=e.state.remoteWindowSize)!==null&&r!==void 0?r:null};return u}}trace(e){c.trace(i.LogVerbosity.DEBUG,g,"("+this.channelzRef.id+") "+e)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,t){if(e===null||typeof e!=="object"||t===null||typeof t!=="object"){throw new Error("addService() requires two objects as arguments")}const n=Object.keys(e);if(n.length===0){throw new Error("Cannot add an empty service to a server")}n.forEach(n=>{const r=e[n];let i;if(r.requestStream){if(r.responseStream){i="bidi"}else{i="clientStream"}}else{if(r.responseStream){i="serverStream"}else{i="unary"}}let s=t[n];let o;if(s===undefined&&typeof r.originalName==="string"){s=t[r.originalName]}if(s!==undefined){o=s.bind(t)}else{o=b(i,n)}const a=this.register(r.path,o,r.responseSerialize,r.requestDeserialize,i);if(a===false){throw new Error(`Method handler for ${r.path} already provided.`)}})}removeService(e){if(e===null||typeof e!=="object"){throw new Error("removeService() requires object as argument")}const t=Object.keys(e);t.forEach(t=>{const n=e[t];this.unregister(n.path)})}bind(e,t){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,n){if(this.started===true){throw new Error("server is already started")}if(this.shutdown){throw new Error("bindAsync called after shutdown")}if(typeof e!=="string"){throw new TypeError("port must be a string")}if(t===null||!(t instanceof o.ServerCredentials)){throw new TypeError("creds must be a ServerCredentials object")}if(typeof n!=="function"){throw new TypeError("callback must be a function")}const s=(0,u.parseUri)(e);if(s===null){throw new Error(`Could not parse port "${e}"`)}const f=(0,a.mapUriDefaultScheme)(s);if(f===null){throw new Error(`Could not get a default scheme for port "${e}"`)}const h={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};if("grpc-node.max_session_memory"in this.options){h.maxSessionMemory=this.options["grpc-node.max_session_memory"]}else{h.maxSessionMemory=Number.MAX_SAFE_INTEGER}if("grpc.max_concurrent_streams"in this.options){h.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}}const p=(e,t)=>{process.nextTick(()=>n(e,t))};const m=()=>{let e;if(t._isSecure()){const n=Object.assign(h,t._getSettings());n.enableTrace=this.options["grpc-node.tls_enable_trace"]===1;e=r.createSecureServer(n);e.on("secureConnection",e=>{e.on("error",e=>{this.trace("An incoming TLS connection closed with error: "+e.message)})})}else{e=r.createServer(h)}e.setTimeout(0,y);this._setupHandlers(e);return e};const g=(e,t,n)=>{if(e.length===0){return Promise.resolve({port:t,count:n})}return Promise.all(e.map(e=>{this.trace("Attempting to bind "+(0,l.subchannelAddressToString)(e));let n;if((0,l.isTcpSubchannelAddress)(e)){n={host:e.host,port:t}}else{n=e}const r=m();return new Promise((i,s)=>{const o=t=>{this.trace("Failed to bind "+(0,l.subchannelAddressToString)(e)+" with error "+t.message);i(t)};r.once("error",o);r.listen(n,()=>{if(this.shutdown){r.close();i(new Error("bindAsync failed because server is shutdown"));return}const e=r.address();let n;if(typeof e==="string"){n={path:e}}else{n={host:e.address,port:e.port}}const s=(0,d.registerChannelzSocket)((0,l.subchannelAddressToString)(n),()=>{return{localAddress:n,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}},this.channelzEnabled);if(this.channelzEnabled){this.listenerChildrenTracker.refChild(s)}this.http2ServerList.push({server:r,channelzRef:s});this.trace("Successfully bound "+(0,l.subchannelAddressToString)(n));i("port"in n?n.port:t);r.removeListener("error",o)})})})).then(e=>{let r=0;for(const n of e){if(typeof n==="number"){r+=1;if(n!==t){throw new Error("Invalid state: multiple port numbers added from single address")}}}return{port:t,count:r+n}})};const v=e=>{if(e.length===0){return Promise.resolve({port:0,count:0})}const t=e[0];const n=m();return new Promise((r,i)=>{const s=n=>{this.trace("Failed to bind "+(0,l.subchannelAddressToString)(t)+" with error "+n.message);r(v(e.slice(1)))};n.once("error",s);n.listen(t,()=>{if(this.shutdown){n.close();r({port:0,count:0});return}const t=n.address();const i={host:t.address,port:t.port};const o=(0,d.registerChannelzSocket)((0,l.subchannelAddressToString)(i),()=>{return{localAddress:i,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}},this.channelzEnabled);if(this.channelzEnabled){this.listenerChildrenTracker.refChild(o)}this.http2ServerList.push({server:n,channelzRef:o});this.trace("Successfully bound "+(0,l.subchannelAddressToString)(i));r(g(e.slice(1),t.port,1));n.removeListener("error",s)})})};const b={onSuccessfulResolution:(t,n,r)=>{b.onSuccessfulResolution=()=>{};if(this.shutdown){p(new Error(`bindAsync failed because server is shutdown`),0)}if(t.length===0){p(new Error(`No addresses resolved for port ${e}`),0);return}let s;if((0,l.isTcpSubchannelAddress)(t[0])){if(t[0].port===0){s=v(t)}else{s=g(t,t[0].port,0)}}else{s=g(t,1,0)}s.then(e=>{if(e.count===0){const e=`No address added out of total ${t.length} resolved`;c.log(i.LogVerbosity.ERROR,e);p(new Error(e),0)}else{if(e.count<t.length){c.log(i.LogVerbosity.INFO,`WARNING Only ${e.count} addresses added out of total ${t.length} resolved`)}p(null,e.port)}},e=>{const n=`No address added out of total ${t.length} resolved`;c.log(i.LogVerbosity.ERROR,n);p(new Error(n),0)})},onError:e=>{p(new Error(e.details),0)}};const w=(0,a.createResolver)(f,b,this.options);w.updateResolution()}forceShutdown(){for(const{server:e,channelzRef:t}of this.http2ServerList){if(e.listening){e.close(()=>{if(this.channelzEnabled){this.listenerChildrenTracker.unrefChild(t);(0,d.unregisterChannelzRef)(t)}})}}this.started=false;this.shutdown=true;this.sessions.forEach((e,t)=>{t.destroy(r.constants.NGHTTP2_CANCEL)});this.sessions.clear();if(this.channelzEnabled){(0,d.unregisterChannelzRef)(this.channelzRef)}}register(e,t,n,r,i){if(this.handlers.has(e)){return false}this.handlers.set(e,{func:t,serialize:n,deserialize:r,type:i,path:e});return true}unregister(e){return this.handlers.delete(e)}start(){if(this.http2ServerList.length===0||this.http2ServerList.every(({server:e})=>e.listening!==true)){throw new Error("server must be bound in order to start")}if(this.started===true){throw new Error("server is already started")}if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Starting")}this.started=true}tryShutdown(e){const t=t=>{if(this.channelzEnabled){(0,d.unregisterChannelzRef)(this.channelzRef)}e(t)};let n=0;function r(){n--;if(n===0){t()}}this.started=false;this.shutdown=true;for(const{server:e,channelzRef:t}of this.http2ServerList){if(e.listening){n++;e.close(()=>{if(this.channelzEnabled){this.listenerChildrenTracker.unrefChild(t);(0,d.unregisterChannelzRef)(t)}r()})}}this.sessions.forEach((e,t)=>{if(!t.closed){n+=1;t.close(r)}});if(n===0){t()}}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,t){const n=t[r.constants.HTTP2_HEADER_CONTENT_TYPE];if(typeof n!=="string"||!n.startsWith("application/grpc")){e.respond({[r.constants.HTTP2_HEADER_STATUS]:r.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:true});return false}return true}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);const t=this.handlers.get(e);if(t===undefined){this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status.");return null}return t}_respondWithError(e,t,n=null){const r=new s.Http2ServerCallStream(t,null,this.options);if(e.code===undefined){e.code=i.Status.INTERNAL}if(this.channelzEnabled){this.callTracker.addCallFailed();n===null||n===void 0?void 0:n.streamTracker.addCallFailed()}r.sendError(e)}_channelzHandler(e,t){const n=this.sessions.get(e.session);this.callTracker.addCallStarted();n===null||n===void 0?void 0:n.streamTracker.addCallStarted();if(!this._verifyContentType(e,t)){this.callTracker.addCallFailed();n===null||n===void 0?void 0:n.streamTracker.addCallFailed();return}const r=t[m];const o=this._retrieveHandler(r);if(!o){this._respondWithError(v(r),e,n);return}const a=new s.Http2ServerCallStream(e,o,this.options);a.once("callEnd",e=>{if(e===i.Status.OK){this.callTracker.addCallSucceeded()}else{this.callTracker.addCallFailed()}});if(n){a.once("streamEnd",e=>{if(e){n.streamTracker.addCallSucceeded()}else{n.streamTracker.addCallFailed()}});a.on("sendMessage",()=>{n.messagesSent+=1;n.lastMessageSentTimestamp=new Date});a.on("receiveMessage",()=>{n.messagesReceived+=1;n.lastMessageReceivedTimestamp=new Date})}if(!this._runHandlerForCall(a,o,t)){this.callTracker.addCallFailed();n===null||n===void 0?void 0:n.streamTracker.addCallFailed();a.sendError({code:i.Status.INTERNAL,details:`Unknown handler type: ${o.type}`})}}_streamHandler(e,t){if(this._verifyContentType(e,t)!==true){return}const n=t[m];const r=this._retrieveHandler(n);if(!r){this._respondWithError(v(n),e,null);return}const o=new s.Http2ServerCallStream(e,r,this.options);if(!this._runHandlerForCall(o,r,t)){o.sendError({code:i.Status.INTERNAL,details:`Unknown handler type: ${r.type}`})}}_runHandlerForCall(e,t,n){var r;const i=e.receiveMetadata(n);const s=(r=i.get("grpc-encoding")[0])!==null&&r!==void 0?r:"identity";i.remove("grpc-encoding");const{type:o}=t;if(o==="unary"){E(e,t,i,s)}else if(o==="clientStream"){_(e,t,i,s)}else if(o==="serverStream"){S(e,t,i,s)}else if(o==="bidi"){T(e,t,i,s)}else{return false}return true}_setupHandlers(e){if(e===null){return}const t=e.address();let n="null";if(t){if(typeof t==="string"){n=t}else{n=t.address+":"+t.port}}this.serverAddressString=n;const i=this.channelzEnabled?this._channelzHandler:this._streamHandler;e.on("stream",i.bind(this));e.on("session",e=>{var t,n,i,s,o;if(!this.started){e.destroy();return}const a=(0,d.registerChannelzSocket)((t=e.socket.remoteAddress)!==null&&t!==void 0?t:"unknown",this.getChannelzSessionInfoGetter(e),this.channelzEnabled);const c={ref:a,streamTracker:new d.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(e,c);const l=e.socket.remoteAddress;if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Connection established by client "+l);this.sessionChildrenTracker.refChild(a)}let u=null;let h=null;let p=false;if(this.maxConnectionAgeMs!==f){const t=this.maxConnectionAgeMs/10;const s=Math.random()*t*2-t;u=(i=(n=setTimeout(()=>{var t,n;p=true;if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+l)}try{e.goaway(r.constants.NGHTTP2_NO_ERROR,~(1<<31),Buffer.from("max_age"))}catch(t){e.destroy();return}e.close();if(this.maxConnectionAgeGraceMs!==f){h=(n=(t=setTimeout(()=>{e.destroy()},this.maxConnectionAgeGraceMs)).unref)===null||n===void 0?void 0:n.call(t)}},this.maxConnectionAgeMs+s)).unref)===null||i===void 0?void 0:i.call(n)}const m=(o=(s=setInterval(()=>{var t,n;const r=(n=(t=setTimeout(()=>{p=true;if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+l)}e.close()},this.keepaliveTimeoutMs)).unref)===null||n===void 0?void 0:n.call(t);try{e.ping((e,t,n)=>{clearTimeout(r)})}catch(t){e.destroy()}},this.keepaliveTimeMs)).unref)===null||o===void 0?void 0:o.call(s);e.on("close",()=>{if(this.channelzEnabled){if(!p){this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+l)}this.sessionChildrenTracker.unrefChild(a);(0,d.unregisterChannelzRef)(a)}if(u){clearTimeout(u)}if(h){clearTimeout(h)}if(m){clearTimeout(m)}this.sessions.delete(e)})})}}t.Server=w;async function E(e,t,n,r){try{const i=await e.receiveUnaryMessage(r);if(i===undefined||e.cancelled){return}const o=new s.ServerUnaryCallImpl(e,n,i);t.func(o,(t,n,r,i)=>{e.sendUnaryMessage(t,n,r,i)})}catch(t){e.sendError(t)}}function _(e,t,n,r){const i=new s.ServerReadableStreamImpl(e,n,t.deserialize,r);function o(t,n,r,s){i.destroy();e.sendUnaryMessage(t,n,r,s)}if(e.cancelled){return}i.on("error",o);t.func(i,o)}async function S(e,t,n,r){try{const i=await e.receiveUnaryMessage(r);if(i===undefined||e.cancelled){return}const o=new s.ServerWritableStreamImpl(e,n,t.serialize,i);t.func(o)}catch(t){e.sendError(t)}}function T(e,t,n,r){const i=new s.ServerDuplexStreamImpl(e,n,t.serialize,t.deserialize,r);if(e.cancelled){return}t.func(i)}},4363:(e,t,n)=>{"use strict";n.d(t,{Cl:()=>s,Tt:()=>o,fX:()=>_});var r=function(e,t){r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))e[n]=t[n]};return r(e,t)};function i(e,t){if(typeof t!=="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){s=Object.assign||function e(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++){if(t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i]))n[r[i]]=e[r[i]]}return n}function a(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)if(o=e[a])s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s;return i>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function l(e,t,n,r,i,s){function o(e){if(e!==void 0&&typeof e!=="function")throw new TypeError("Function expected");return e}var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value";var l=!t&&e?r["static"]?e:e.prototype:null;var u=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{});var d,f=false;for(var h=n.length-1;h>=0;h--){var p={};for(var m in r)p[m]=m==="access"?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(e){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(e||null))};var g=(0,n[h])(a==="accessor"?{get:u.get,set:u.set}:u[c],p);if(a==="accessor"){if(g===void 0)continue;if(g===null||typeof g!=="object")throw new TypeError("Object expected");if(d=o(g.get))u.get=d;if(d=o(g.set))u.set=d;if(d=o(g.init))i.unshift(d)}else if(d=o(g)){if(a==="field")i.unshift(d);else u[c]=d}}if(l)Object.defineProperty(l,r.name,u);f=true};function u(e,t,n){var r=arguments.length>2;for(var i=0;i<t.length;i++){n=r?t[i].call(e,n):t[i].call(e)}return r?n:void 0};function d(e){return typeof e==="symbol"?e:"".concat(e)};function f(e,t,n){if(typeof t==="symbol")t=t.description?"[".concat(t.description,"]"):"";return Object.defineProperty(e,"name",{configurable:true,value:n?"".concat(n," ",t):t})};function h(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)}function p(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r["throw"](e))}catch(e){s(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,a)}c((r=r.apply(e,t||[])).next())})}function m(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator==="function"?Iterator:Object).prototype);return o.next=a(0),o["throw"]=a(1),o["return"]=a(2),typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(a){if(r)throw new TypeError("Generator is already executing.");while(o&&(o=0,a[0]&&(n=0)),n)try{if(r=1,i&&(s=a[0]&2?i["return"]:a[0]?i["throw"]||((s=i["return"])&&s.call(i),0):i.next)&&!(s=s.call(i,a[1])).done)return s;if(i=0,s)a=[a[0]&2,s.value];switch(a[0]){case 0:case 1:s=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(s=n.trys,s=s.length>0&&s[s.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!s||a[1]>s[0]&&a[1]<s[3])){n.label=a[1];break}if(a[0]===6&&n.label<s[1]){n.label=s[1];s=a;break}if(s&&n.label<s[2]){n.label=s[2];n.ops.push(a);break}if(s[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];i=0}finally{r=s=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}}var g=Object.create?function(e,t,n,r){if(r===undefined)r=n;var i=Object.getOwnPropertyDescriptor(t,n);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[n]}}}Object.defineProperty(e,r,i)}:function(e,t,n,r){if(r===undefined)r=n;e[r]=t[n]};function y(e,t){for(var n in e)if(n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n))g(t,e,n)}function v(e){var t=typeof Symbol==="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var n=typeof Symbol==="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{while((t===void 0||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(e){o={error:e}}finally{try{if(i&&!i.done&&(n=r["return"]))n.call(r)}finally{if(o)throw o.error}}return s}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function E(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function _(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++){if(s||!(r in t)){if(!s)s=Array.prototype.slice.call(t,0,r);s[r]=t[r]}}return e.concat(s||Array.prototype.slice.call(t))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function T(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator==="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(e){return function(t){return Promise.resolve(t).then(e,d)}}function a(e,t){if(r[e]){i[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||c(e,t)})};if(t)i[e]=t(i[e])}}function c(e,t){try{l(r[e](t))}catch(e){f(s[0][3],e)}}function l(e){e.value instanceof S?Promise.resolve(e.value.v).then(u,d):f(s[0][2],e)}function u(e){c("next",e)}function d(e){c("throw",e)}function f(e,t){if(e(t),s.shift(),s.length)c(s[0][0],s[0][1])}}function C(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:S(e[r](t)),done:false}:i?i(t):t}:i}}function I(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof v==="function"?v(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(t){n[t]=e[t]&&function(n){return new Promise(function(r,s){n=e[t](n),i(r,s,n.done,n.value)})}}function i(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}}function R(e,t){if(Object.defineProperty){Object.defineProperty(e,"raw",{value:t})}else{e.raw=t}return e};var O=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t};var A=function(e){A=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))t[t.length]=n;return t};return A(e)};function k(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var n=A(e),r=0;r<n.length;r++)if(n[r]!=="default")g(t,e,n[r])}O(t,e);return t}function x(e){return e&&e.__esModule?e:{default:e}}function P(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t==="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function N(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t==="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function D(e,t){if(t===null||typeof t!=="object"&&typeof t!=="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e==="function"?t===e:e.has(t)}function M(e,t,n){if(t!==null&&t!==void 0){if(typeof t!=="object"&&typeof t!=="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose];if(n)i=r}if(typeof r!=="function")throw new TypeError("Object not disposable.");if(i)r=function(){try{i.call(this)}catch(e){return Promise.reject(e)}};e.stack.push({value:t,dispose:r,async:n})}else if(n){e.stack.push({async:true})}return t}var L=typeof SuppressedError==="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function j(e){function t(t){e.error=e.hasError?new L(t,e.error,"An error was suppressed during disposal."):t;e.hasError=true}var n,r=0;function i(){while(n=e.stack.pop()){try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(e){t(e);return i()})}else r|=1}catch(e){t(e)}}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function F(e,t){if(typeof e==="string"&&/^\.\.?\//.test(e)){return e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,n,r,i,s){return n?t?".jsx":".js":r&&(!i||!s)?e:r+i+"."+s.toLowerCase()+"js"})}return e}var B={__extends:i,__assign:s,__rest:o,__decorate:a,__param:c,__esDecorate:l,__runInitializers:u,__propKey:d,__setFunctionName:f,__metadata:h,__awaiter:p,__generator:m,__createBinding:g,__exportStar:y,__values:v,__read:b,__spread:w,__spreadArrays:E,__spreadArray:_,__await:S,__asyncGenerator:T,__asyncDelegator:C,__asyncValues:I,__makeTemplateObject:R,__importStar:k,__importDefault:x,__classPrivateFieldGet:P,__classPrivateFieldSet:N,__classPrivateFieldIn:D,__addDisposableResource:M,__disposeResources:j,__rewriteRelativeImportExtension:F}},4719:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BaseSubchannelWrapper=void 0;class n{constructor(e){this.child=e}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}}t.BaseSubchannelWrapper=n},4871:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{IconKeys:function(){return i},ViewportMetaKeys:function(){return r}});const r={width:"width",height:"height",initialScale:"initial-scale",minimumScale:"minimum-scale",maximumScale:"maximum-scale",viewportFit:"viewport-fit",userScalable:"user-scalable",interactiveWidget:"interactive-widget"};const i=["icon","shortcut","apple","other"]},5674:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mapUriDefaultScheme=t.getDefaultAuthority=t.createResolver=t.registerDefaultScheme=t.registerResolver=void 0;const r=n(26786);const i={};let s=null;function o(e,t){i[e]=t}t.registerResolver=o;function a(e){s=e}t.registerDefaultScheme=a;function c(e,t,n){if(e.scheme!==undefined&&e.scheme in i){return new i[e.scheme](e,t,n)}else{throw new Error(`No resolver could be created for target ${(0,r.uriToString)(e)}`)}}t.createResolver=c;function l(e){if(e.scheme!==undefined&&e.scheme in i){return i[e.scheme].getDefaultAuthority(e)}else{throw new Error(`Invalid target ${(0,r.uriToString)(e)}`)}}t.getDefaultAuthority=l;function u(e){if(e.scheme===undefined||!(e.scheme in i)){if(s!==null){return{scheme:s,authority:undefined,path:(0,r.uriToString)(e)}}else{return null}}return e}t.mapUriDefaultScheme=u},6255:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"interopDefault",{enumerable:true,get:function(){return n}});function n(e){return e.default||e}},7308:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{formatServerError:function(){return o},getStackWithoutErrorMessage:function(){return s}});const r=["useDeferredValue","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useReducer","useRef","useState","useSyncExternalStore","useTransition","experimental_useOptimistic","useOptimistic"];function i(e,t){e.message=t;if(e.stack){const n=e.stack.split("\n");n[0]=t;e.stack=n.join("\n")}}function s(e){const t=e.stack;if(!t)return"";return t.replace(/^[^\n]*\n/,"")}function o(e){if(typeof(e==null?void 0:e.message)!=="string")return;if(e.message.includes("Class extends value undefined is not a constructor or null")){const t="This might be caused by a React Class Component being rendered in a Server Component, React Class Components only works in Client Components. Read more: https://nextjs.org/docs/messages/class-component-in-server-component";if(e.message.includes(t))return;i(e,`${e.message}

${t}`);return}if(e.message.includes("createContext is not a function")){i(e,'createContext only works in Client Components. Add the "use client" directive at the top of the file to use it. Read more: https://nextjs.org/docs/messages/context-in-server-component');return}for(const t of r){const n=new RegExp(`\\b${t}\\b.*is not a function`);if(n.test(e.message)){i(e,`${t} only works in Client Components. Add the "use client" directive at the top of the file to use it. Read more: https://nextjs.org/docs/messages/react-client-hook-in-server-component`);return}}}},7775:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Client=void 0;const r=n(24168);const i=n(18453);const s=n(18155);const o=n(71271);const a=n(86777);const c=n(3712);const l=Symbol();const u=Symbol();const d=Symbol();const f=Symbol();function h(e){return typeof e==="function"}function p(e){return e.stack.split("\n").slice(1).join("\n")}class m{constructor(e,t,n={}){var r,s;n=Object.assign({},n);this[u]=(r=n.interceptors)!==null&&r!==void 0?r:[];delete n.interceptors;this[d]=(s=n.interceptor_providers)!==null&&s!==void 0?s:[];delete n.interceptor_providers;if(this[u].length>0&&this[d].length>0){throw new Error("Both interceptors and interceptor_providers were passed as options "+"to the client constructor. Only one of these is allowed.")}this[f]=n.callInvocationTransformer;delete n.callInvocationTransformer;if(n.channelOverride){this[l]=n.channelOverride}else if(n.channelFactoryOverride){const r=n.channelFactoryOverride;delete n.channelFactoryOverride;this[l]=r(e,t,n)}else{this[l]=new i.ChannelImplementation(e,t,n)}}close(){this[l].close()}getChannel(){return this[l]}waitForReady(e,t){const n=r=>{if(r){t(new Error("Failed to connect before the deadline"));return}let i;try{i=this[l].getConnectivityState(true)}catch(e){t(new Error("The channel has been closed"));return}if(i===s.ConnectivityState.READY){t()}else{try{this[l].watchConnectivityState(i,e,n)}catch(e){t(new Error("The channel has been closed"))}}};setImmediate(n)}checkOptionalUnaryResponseArguments(e,t,n){if(h(e)){return{metadata:new a.Metadata,options:{},callback:e}}else if(h(t)){if(e instanceof a.Metadata){return{metadata:e,options:{},callback:t}}else{return{metadata:new a.Metadata,options:e,callback:t}}}else{if(!(e instanceof a.Metadata&&t instanceof Object&&h(n))){throw new Error("Incorrect arguments passed")}return{metadata:e,options:t,callback:n}}}makeUnaryRequest(e,t,n,i,s,a,h){var m,g;const y=this.checkOptionalUnaryResponseArguments(s,a,h);const v={path:e,requestStream:false,responseStream:false,requestSerialize:t,responseDeserialize:n};let b={argument:i,metadata:y.metadata,call:new r.ClientUnaryCallImpl,channel:this[l],methodDefinition:v,callOptions:y.options,callback:y.callback};if(this[f]){b=this[f](b)}const w=b.call;const E={clientInterceptors:this[u],clientInterceptorProviders:this[d],callInterceptors:(m=b.callOptions.interceptors)!==null&&m!==void 0?m:[],callInterceptorProviders:(g=b.callOptions.interceptor_providers)!==null&&g!==void 0?g:[]};const _=(0,c.getInterceptingCall)(E,b.methodDefinition,b.callOptions,b.channel);w.call=_;let S=null;let T=false;let C=new Error;_.start(b.metadata,{onReceiveMetadata:e=>{w.emit("metadata",e)},onReceiveMessage(e){if(S!==null){_.cancelWithStatus(o.Status.INTERNAL,"Too many responses received")}S=e},onReceiveStatus(e){if(T){return}T=true;if(e.code===o.Status.OK){if(S===null){const t=p(C);b.callback((0,r.callErrorFromStatus)({code:o.Status.INTERNAL,details:"No message received",metadata:e.metadata},t))}else{b.callback(null,S)}}else{const t=p(C);b.callback((0,r.callErrorFromStatus)(e,t))}C=null;w.emit("status",e)}});_.sendMessage(i);_.halfClose();return w}makeClientStreamRequest(e,t,n,i,s,a){var h,m;const g=this.checkOptionalUnaryResponseArguments(i,s,a);const y={path:e,requestStream:true,responseStream:false,requestSerialize:t,responseDeserialize:n};let v={metadata:g.metadata,call:new r.ClientWritableStreamImpl(t),channel:this[l],methodDefinition:y,callOptions:g.options,callback:g.callback};if(this[f]){v=this[f](v)}const b=v.call;const w={clientInterceptors:this[u],clientInterceptorProviders:this[d],callInterceptors:(h=v.callOptions.interceptors)!==null&&h!==void 0?h:[],callInterceptorProviders:(m=v.callOptions.interceptor_providers)!==null&&m!==void 0?m:[]};const E=(0,c.getInterceptingCall)(w,v.methodDefinition,v.callOptions,v.channel);b.call=E;let _=null;let S=false;let T=new Error;E.start(v.metadata,{onReceiveMetadata:e=>{b.emit("metadata",e)},onReceiveMessage(e){if(_!==null){E.cancelWithStatus(o.Status.INTERNAL,"Too many responses received")}_=e},onReceiveStatus(e){if(S){return}S=true;if(e.code===o.Status.OK){if(_===null){const t=p(T);v.callback((0,r.callErrorFromStatus)({code:o.Status.INTERNAL,details:"No message received",metadata:e.metadata},t))}else{v.callback(null,_)}}else{const t=p(T);v.callback((0,r.callErrorFromStatus)(e,t))}T=null;b.emit("status",e)}});return b}checkMetadataAndOptions(e,t){let n;let r;if(e instanceof a.Metadata){n=e;if(t){r=t}else{r={}}}else{if(e){r=e}else{r={}}n=new a.Metadata}return{metadata:n,options:r}}makeServerStreamRequest(e,t,n,i,s,a){var h,m;const g=this.checkMetadataAndOptions(s,a);const y={path:e,requestStream:false,responseStream:true,requestSerialize:t,responseDeserialize:n};let v={argument:i,metadata:g.metadata,call:new r.ClientReadableStreamImpl(n),channel:this[l],methodDefinition:y,callOptions:g.options};if(this[f]){v=this[f](v)}const b=v.call;const w={clientInterceptors:this[u],clientInterceptorProviders:this[d],callInterceptors:(h=v.callOptions.interceptors)!==null&&h!==void 0?h:[],callInterceptorProviders:(m=v.callOptions.interceptor_providers)!==null&&m!==void 0?m:[]};const E=(0,c.getInterceptingCall)(w,v.methodDefinition,v.callOptions,v.channel);b.call=E;let _=false;let S=new Error;E.start(v.metadata,{onReceiveMetadata(e){b.emit("metadata",e)},onReceiveMessage(e){b.push(e)},onReceiveStatus(e){if(_){return}_=true;b.push(null);if(e.code!==o.Status.OK){const t=p(S);b.emit("error",(0,r.callErrorFromStatus)(e,t))}S=null;b.emit("status",e)}});E.sendMessage(i);E.halfClose();return b}makeBidiStreamRequest(e,t,n,i,s){var a,h;const m=this.checkMetadataAndOptions(i,s);const g={path:e,requestStream:true,responseStream:true,requestSerialize:t,responseDeserialize:n};let y={metadata:m.metadata,call:new r.ClientDuplexStreamImpl(t,n),channel:this[l],methodDefinition:g,callOptions:m.options};if(this[f]){y=this[f](y)}const v=y.call;const b={clientInterceptors:this[u],clientInterceptorProviders:this[d],callInterceptors:(a=y.callOptions.interceptors)!==null&&a!==void 0?a:[],callInterceptorProviders:(h=y.callOptions.interceptor_providers)!==null&&h!==void 0?h:[]};const w=(0,c.getInterceptingCall)(b,y.methodDefinition,y.callOptions,y.channel);v.call=w;let E=false;let _=new Error;w.start(y.metadata,{onReceiveMetadata(e){v.emit("metadata",e)},onReceiveMessage(e){v.push(e)},onReceiveStatus(e){if(E){return}E=true;v.push(null);if(e.code!==o.Status.OK){const t=p(_);v.emit("error",(0,r.callErrorFromStatus)(e,t))}_=null;v.emit("status",e)}});return v}}t.Client=m},7797:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{StaticGenBailoutError:function(){return i},isStaticGenBailoutError:function(){return s}});const r="NEXT_STATIC_GEN_BAILOUT";class i extends Error{constructor(...e){super(...e),this.code=r}}function s(e){if(typeof e!=="object"||e===null||!("code"in e)){return false}return e.code===r}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},8670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{ROOT_SEGMENT_KEY:function(){return o},convertSegmentPathToStaticExportFilename:function(){return u},encodeChildSegmentKey:function(){return a},encodeSegment:function(){return s}});const i=n(35499);function s(e){if(typeof e==="string"){if(e.startsWith(i.PAGE_SEGMENT_KEY)){return i.PAGE_SEGMENT_KEY}const t=e==="/_not-found"?"_not-found":l(e);return t}const t=e[0];const n=e[1];const r=e[2];const s=l(t);const o=l(n);const a="$"+r+"$"+s+"$"+o;return a}const o="";function a(e,t,n){const r=t==="children"?n:"@"+l(t)+"/"+n;return e+"/"+r}const c=/^[a-zA-Z0-9\-_@]+$/;function l(e){if(c.test(e)){return e}const t=btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");return"!"+t}function u(e){return"__next"+e.replace(/\//g,".")+".txt"}},8681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{isRequestAPICallableInsideAfter:function(){return l},throwForSearchParamsAccessInUseCache:function(){return c},throwWithStaticGenerationBailoutError:function(){return o},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return a}});const i=n(7797);const s=n(3295);function o(e,t){throw Object.defineProperty(new i.StaticGenBailoutError(`Route ${e} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E576",enumerable:false,configurable:true})}function a(e,t){throw Object.defineProperty(new i.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:false,configurable:true})}function c(e){const t=Object.defineProperty(new Error(`Route ${e.route} used "searchParams" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "searchParams" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E634",enumerable:false,configurable:true});e.invalidUsageError??=t;throw t}function l(){const e=s.afterTaskAsyncStorage.getStore();return(e==null?void 0:e.rootTaskSpawnPhase)==="action"}},8704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{HTTPAccessErrorStatus:function(){return r},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return s},getAccessFallbackErrorTypeByStatus:function(){return c},getAccessFallbackHTTPStatus:function(){return a},isHTTPAccessFallbackError:function(){return o}});const r={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401};const i=new Set(Object.values(r));const s="NEXT_HTTP_ERROR_FALLBACK";function o(e){if(typeof e!=="object"||e===null||!("digest"in e)||typeof e.digest!=="string"){return false}const[t,n]=e.digest.split(";");return t===s&&i.has(Number(n))}function a(e){const t=e.digest.split(";")[1];return Number(t)}function c(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},8707:function(e,t,n){"use strict";var r=t;r.asPromise=n(75108);r.base64=n(35108);r.EventEmitter=n(84553);r.float=n(13127);r.inquire=n(89644);r.utf8=n(61996);r.pool=n(83273);r.LongBits=n(31156);r.isNode=Boolean(typeof global!=="undefined"&&global&&global.process&&global.process.versions&&global.process.versions.node);r.global=r.isNode&&global||typeof window!=="undefined"&&window||typeof self!=="undefined"&&self||this;r.emptyArray=Object.freeze?Object.freeze([]):[];r.emptyObject=Object.freeze?Object.freeze({}):{};r.isInteger=Number.isInteger||function e(e){return typeof e==="number"&&isFinite(e)&&Math.floor(e)===e};r.isString=function e(e){return typeof e==="string"||e instanceof String};r.isObject=function e(e){return e&&typeof e==="object"};r.isset=r.isSet=function e(e,t){var n=e[t];if(n!=null&&e.hasOwnProperty(t))return typeof n!=="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0;return false};r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}();r._Buffer_from=null;r._Buffer_allocUnsafe=null;r.newBuffer=function e(e){return typeof e==="number"?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):typeof Uint8Array==="undefined"?e:new Uint8Array(e)};r.Array=typeof Uint8Array!=="undefined"?Uint8Array:Array;r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long");r.key2Re=/^true|false|0|1$/;r.key32Re=/^-?(?:0|[1-9][0-9]*)$/;r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;r.longToHash=function e(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash};r.longFromHash=function e(e,t){var n=r.LongBits.fromHash(e);if(r.Long)return r.Long.fromBits(n.lo,n.hi,t);return n.toNumber(Boolean(t))};function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)if(e[r[i]]===undefined||!n)e[r[i]]=t[r[i]];return e}r.merge=i;r.lcFirst=function e(e){return e.charAt(0).toLowerCase()+e.substring(1)};function s(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}});if(Error.captureStackTrace)Error.captureStackTrace(this,t);else Object.defineProperty(this,"stack",{value:new Error().stack||""});if(n)i(this,n)}t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:true,enumerable:false,configurable:true},name:{get:function t(){return e},set:undefined,enumerable:false,configurable:true},toString:{value:function e(){return this.name+": "+this.message},writable:true,enumerable:false,configurable:true}});return t}r.newError=s;r.ProtocolError=s("ProtocolError");r.oneOfGetter=function e(e){var t={};for(var n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(t[e[n]]===1&&this[e[n]]!==undefined&&this[e[n]]!==null)return e[n]}};r.oneOfSetter=function e(e){return function(t){for(var n=0;n<e.length;++n)if(e[n]!==t)delete this[e[n]]}};r.toJSONOptions={longs:String,enums:String,bytes:String,json:true};r._configure=function(){var e=r.Buffer;if(!e){r._Buffer_from=r._Buffer_allocUnsafe=null;return}r._Buffer_from=e.from!==Uint8Array.from&&e.from||function t(t,n){return new e(t,n)};r._Buffer_allocUnsafe=e.allocUnsafe||function t(t){return new e(t)}}},8920:(e,t,n)=>{"use strict";e.exports=i;var r=n(8707);function i(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}i.create=function e(e){return this.$type.create(e)};i.encode=function e(e,t){return this.$type.encode(e,t)};i.encodeDelimited=function e(e,t){return this.$type.encodeDelimited(e,t)};i.decode=function e(e){return this.$type.decode(e)};i.decodeDelimited=function e(e){return this.$type.decodeDelimited(e)};i.verify=function e(e){return this.$type.verify(e)};i.fromObject=function e(e){return this.$type.fromObject(e)};i.toObject=function e(e,t){return this.$type.toObject(e,t)};i.prototype.toJSON=function e(){return this.$type.toObject(this,r.toJSONOptions)}},9221:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{createPrerenderSearchParamsForClientPage:function(){return g},createSearchParamsFromClient:function(){return h},createServerSearchParamsForMetadata:function(){return p},createServerSearchParamsForServerPage:function(){return m},makeErroringExoticSearchParamsForUseCache:function(){return S}});const i=n(83717);const s=n(54717);const o=n(63033);const a=n(75539);const c=n(18238);const l=n(14768);const u=n(84627);const d=n(8681);const f=n(52825);function h(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(t,n);default:}}return v(e,t)}const p=m;function m(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(t,n);default:}}return v(e,t)}function g(e){if(e.forceStatic){return Promise.resolve({})}const t=o.workUnitAsyncStorage.getStore();if(t&&t.type==="prerender"){return(0,c.makeHangingPromise)(t.renderSignal,"`searchParams`")}return Promise.resolve({})}function y(e,t){if(e.forceStatic){return Promise.resolve({})}if(t.type==="prerender"){return E(e.route,t)}return _(e,t)}function v(e,t){if(t.forceStatic){return Promise.resolve({})}else{if(false){}else{return T(e,t)}}}const b=new WeakMap;const w=new WeakMap;function E(e,t){const n=b.get(t);if(n){return n}const r=(0,c.makeHangingPromise)(t.renderSignal,"`searchParams`");const o=new Proxy(r,{get(n,o,a){if(Object.hasOwn(r,o)){return i.ReflectAdapter.get(n,o,a)}switch(o){case"then":{const e="`await searchParams`, `searchParams.then`, or similar";(0,s.annotateDynamicAccess)(e,t);return i.ReflectAdapter.get(n,o,a)}case"status":{const e="`use(searchParams)`, `searchParams.status`, or similar";(0,s.annotateDynamicAccess)(e,t);return i.ReflectAdapter.get(n,o,a)}default:{if(typeof o==="string"&&!u.wellKnownProperties.has(o)){const n=(0,u.describeStringPropertyAccess)("searchParams",o);const r=A(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}return i.ReflectAdapter.get(n,o,a)}}},has(n,r){if(typeof r==="string"){const n=(0,u.describeHasCheckingStringProperty)("searchParams",r);const i=A(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}return i.ReflectAdapter.has(n,r)},ownKeys(){const n="`{...searchParams}`, `Object.keys(searchParams)`, or similar";const r=A(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}});b.set(t,o);return o}function _(e,t){const n=b.get(e);if(n){return n}const r={};const o=Promise.resolve(r);const a=new Proxy(o,{get(n,r,a){if(Object.hasOwn(o,r)){return i.ReflectAdapter.get(n,r,a)}switch(r){case"then":{const n="`await searchParams`, `searchParams.then`, or similar";if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}return}case"status":{const n="`use(searchParams)`, `searchParams.status`, or similar";if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}return}default:{if(typeof r==="string"&&!u.wellKnownProperties.has(r)){const n=(0,u.describeStringPropertyAccess)("searchParams",r);if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}}return i.ReflectAdapter.get(n,r,a)}}},has(n,r){if(typeof r==="string"){const n=(0,u.describeHasCheckingStringProperty)("searchParams",r);if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}return false}return i.ReflectAdapter.has(n,r)},ownKeys(){const n="`{...searchParams}`, `Object.keys(searchParams)`, or similar";if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}}});b.set(e,a);return a}function S(e){const t=w.get(e);if(t){return t}const n=Promise.resolve({});const r=new Proxy(n,{get(t,r,s){if(Object.hasOwn(n,r)){return i.ReflectAdapter.get(t,r,s)}if(typeof r==="string"&&(r==="then"||!u.wellKnownProperties.has(r))){(0,d.throwForSearchParamsAccessInUseCache)(e)}return i.ReflectAdapter.get(t,r,s)},has(t,n){if(typeof n==="string"&&(n==="then"||!u.wellKnownProperties.has(n))){(0,d.throwForSearchParamsAccessInUseCache)(e)}return i.ReflectAdapter.has(t,n)},ownKeys(){(0,d.throwForSearchParamsAccessInUseCache)(e)}});w.set(e,r);return r}function T(e,t){const n=b.get(e);if(n){return n}const r=Promise.resolve(e);b.set(e,r);Object.keys(e).forEach(n=>{if(!u.wellKnownProperties.has(n)){Object.defineProperty(r,n,{get(){const r=o.workUnitAsyncStorage.getStore();(0,s.trackDynamicDataInDynamicRender)(t,r);return e[n]},set(e){Object.defineProperty(r,n,{value:e,writable:true,enumerable:true})},enumerable:true,configurable:true})}});return r}function C(e,t){const n=b.get(e);if(n){return n}const r=new Set;const a=[];let c=false;const l=new Proxy(e,{get(e,n,r){if(typeof n==="string"&&c){if(t.dynamicShouldError){const e=(0,u.describeStringPropertyAccess)("searchParams",n);(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(t.route,e)}const e=o.workUnitAsyncStorage.getStore();(0,s.trackDynamicDataInDynamicRender)(t,e)}return i.ReflectAdapter.get(e,n,r)},has(e,n){if(typeof n==="string"){if(t.dynamicShouldError){const e=(0,u.describeHasCheckingStringProperty)("searchParams",n);(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(t.route,e)}}return Reflect.has(e,n)},ownKeys(e){if(t.dynamicShouldError){const e="`{...searchParams}`, `Object.keys(searchParams)`, or similar";(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(t.route,e)}return Reflect.ownKeys(e)}});const h=new Promise(t=>(0,f.scheduleImmediate)(()=>t(e)));h.then(()=>{c=true});Object.keys(e).forEach(e=>{if(u.wellKnownProperties.has(e)){a.push(e)}else{r.add(e);Object.defineProperty(h,e,{get(){return l[e]},set(t){Object.defineProperty(h,e,{value:t,writable:true,enumerable:true})},enumerable:true,configurable:true})}});const p=new Proxy(h,{get(e,n,s){if(n==="then"&&t.dynamicShouldError){const e="`searchParams.then`";(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(t.route,e)}if(typeof n==="string"){if(!u.wellKnownProperties.has(n)&&(r.has(n)||Reflect.has(e,n)===false)){const e=(0,u.describeStringPropertyAccess)("searchParams",n);I(t.route,e)}}return i.ReflectAdapter.get(e,n,s)},set(e,t,n,i){if(typeof t==="string"){r.delete(t)}return Reflect.set(e,t,n,i)},has(e,n){if(typeof n==="string"){if(!u.wellKnownProperties.has(n)&&(r.has(n)||Reflect.has(e,n)===false)){const e=(0,u.describeHasCheckingStringProperty)("searchParams",n);I(t.route,e)}}return Reflect.has(e,n)},ownKeys(e){const n="`Object.keys(searchParams)` or similar";I(t.route,n,a);return Reflect.ownKeys(e)}});b.set(e,p);return p}function I(e,t,n){if(n&&n.length>0){O(e,t,n)}else{R(e,t)}const r=o.workUnitAsyncStorage.getStore();if(r&&r.type==="request"&&r.prerenderPhase===true){const e=r;(0,s.trackSynchronousRequestDataAccessInDev)(e)}}const R=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(A);const O=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(k);function A(e,t){const n=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${n}used ${t}. `+`\`searchParams\` should be awaited before using its properties. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E249",enumerable:false,configurable:true})}function k(e,t,n){const r=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${r}used ${t}. `+`\`searchParams\` should be awaited before using its properties. `+`The following properties were not available through enumeration `+`because they conflict with builtin or well-known property names: `+`${x(n)}. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E2",enumerable:false,configurable:true})}function x(e){switch(e.length){case 0:throw Object.defineProperty(new a.InvariantError("Expected describeListOfPropertyNames to be called with a non-empty list of strings."),"__NEXT_ERROR_CODE",{value:"E531",enumerable:false,configurable:true});case 1:return`\`${e[0]}\``;case 2:return`\`${e[0]}\` and \`${e[1]}\``;default:{let t="";for(let n=0;n<e.length-1;n++){t+=`\`${e[n]}\`, `}t+=`, and \`${e[e.length-1]}\``;return t}}}},9227:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getDefaultRootsData=t.CIPHER_SUITES=void 0;const r=n(29021);t.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;const i=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;let s=null;function o(){if(i){if(s===null){s=r.readFileSync(i)}return s}return null}t.getDefaultRootsData=o},9608:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"bailoutToClientRendering",{enumerable:true,get:function(){return s}});const r=n(81208);const i=n(29294);function s(e){const t=i.workAsyncStorage.getStore();if(t==null?void 0:t.forceStatic)return;if(t==null?void 0:t.isStaticGeneration)throw Object.defineProperty(new r.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},9977:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{ACTION_HEADER:function(){return i},FLIGHT_HEADERS:function(){return f},NEXT_DID_POSTPONE_HEADER:function(){return m},NEXT_HMR_REFRESH_HASH_COOKIE:function(){return l},NEXT_HMR_REFRESH_HEADER:function(){return c},NEXT_IS_PRERENDER_HEADER:function(){return v},NEXT_REWRITTEN_PATH_HEADER:function(){return g},NEXT_REWRITTEN_QUERY_HEADER:function(){return y},NEXT_ROUTER_PREFETCH_HEADER:function(){return o},NEXT_ROUTER_SEGMENT_PREFETCH_HEADER:function(){return a},NEXT_ROUTER_STALE_TIME_HEADER:function(){return p},NEXT_ROUTER_STATE_TREE_HEADER:function(){return s},NEXT_RSC_UNION_QUERY:function(){return h},NEXT_URL:function(){return u},RSC_CONTENT_TYPE_HEADER:function(){return d},RSC_HEADER:function(){return r}});const r="RSC";const i="Next-Action";const s="Next-Router-State-Tree";const o="Next-Router-Prefetch";const a="Next-Router-Segment-Prefetch";const c="Next-HMR-Refresh";const l="__next_hmr_refresh_hash__";const u="Next-Url";const d="text/x-component";const f=[r,s,o,c,a];const h="_rsc";const p="x-nextjs-stale-time";const m="x-nextjs-postponed";const g="x-nextjs-rewritten-path";const y="x-nextjs-rewritten-query";const v="x-nextjs-prerender";if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},10449:(e,t,n)=>{"use strict";e.exports=n(94041).vendored.contexts.HooksClientContext},10504:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.extractAndSelectServiceConfig=t.validateServiceConfig=t.validateRetryThrottling=void 0;const r=n(21820);const i=n(71271);const s=n(86239);const o=/^\d+(\.\d{1,9})?s$/;const a="node";function c(e){if("service"in e&&e.service!==""){if(typeof e.service!=="string"){throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof e.service}`)}if("method"in e&&e.method!==""){if(typeof e.method!=="string"){throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof e.service}`)}return{service:e.service,method:e.method}}else{return{service:e.service}}}else{if("method"in e&&e.method!==undefined){throw new Error(`Invalid method config name: method set with empty or unset service`)}return{}}}function l(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2){throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2")}if(!("initialBackoff"in e)||typeof e.initialBackoff!=="string"||!o.test(e.initialBackoff)){throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s")}if(!("maxBackoff"in e)||typeof e.maxBackoff!=="string"||!o.test(e.maxBackoff)){throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s")}if(!("backoffMultiplier"in e)||typeof e.backoffMultiplier!=="number"||e.backoffMultiplier<=0){throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0")}if(!("retryableStatusCodes"in e&&Array.isArray(e.retryableStatusCodes))){throw new Error("Invalid method config retry policy: retryableStatusCodes is required")}if(e.retryableStatusCodes.length===0){throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty")}for(const t of e.retryableStatusCodes){if(typeof t==="number"){if(!Object.values(i.Status).includes(t)){throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}}else if(typeof t==="string"){if(!Object.values(i.Status).includes(t.toUpperCase())){throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}}else{throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number")}}return{maxAttempts:e.maxAttempts,initialBackoff:e.initialBackoff,maxBackoff:e.maxBackoff,backoffMultiplier:e.backoffMultiplier,retryableStatusCodes:e.retryableStatusCodes}}function u(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2){throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2")}if("hedgingDelay"in e&&(typeof e.hedgingDelay!=="string"||!o.test(e.hedgingDelay))){throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s")}if("nonFatalStatusCodes"in e&&Array.isArray(e.nonFatalStatusCodes)){for(const t of e.nonFatalStatusCodes){if(typeof t==="number"){if(!Object.values(i.Status).includes(t)){throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}}else if(typeof t==="string"){if(!Object.values(i.Status).includes(t.toUpperCase())){throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}}else{throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number")}}}const t={maxAttempts:e.maxAttempts};if(e.hedgingDelay){t.hedgingDelay=e.hedgingDelay}if(e.nonFatalStatusCodes){t.nonFatalStatusCodes=e.nonFatalStatusCodes}return t}function d(e){var t;const n={name:[]};if(!("name"in e)||!Array.isArray(e.name)){throw new Error("Invalid method config: invalid name array")}for(const t of e.name){n.name.push(c(t))}if("waitForReady"in e){if(typeof e.waitForReady!=="boolean"){throw new Error("Invalid method config: invalid waitForReady")}n.waitForReady=e.waitForReady}if("timeout"in e){if(typeof e.timeout==="object"){if(!("seconds"in e.timeout)||!(typeof e.timeout.seconds==="number")){throw new Error("Invalid method config: invalid timeout.seconds")}if(!("nanos"in e.timeout)||!(typeof e.timeout.nanos==="number")){throw new Error("Invalid method config: invalid timeout.nanos")}n.timeout=e.timeout}else if(typeof e.timeout==="string"&&o.test(e.timeout)){const r=e.timeout.substring(0,e.timeout.length-1).split(".");n.timeout={seconds:r[0]|0,nanos:((t=r[1])!==null&&t!==void 0?t:0)|0}}else{throw new Error("Invalid method config: invalid timeout")}}if("maxRequestBytes"in e){if(typeof e.maxRequestBytes!=="number"){throw new Error("Invalid method config: invalid maxRequestBytes")}n.maxRequestBytes=e.maxRequestBytes}if("maxResponseBytes"in e){if(typeof e.maxResponseBytes!=="number"){throw new Error("Invalid method config: invalid maxRequestBytes")}n.maxResponseBytes=e.maxResponseBytes}if("retryPolicy"in e){if("hedgingPolicy"in e){throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified")}else{n.retryPolicy=l(e.retryPolicy)}}else if("hedgingPolicy"in e){n.hedgingPolicy=u(e.hedgingPolicy)}return n}function f(e){if(!("maxTokens"in e)||typeof e.maxTokens!=="number"||e.maxTokens<=0||e.maxTokens>1e3){throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]")}if(!("tokenRatio"in e)||typeof e.tokenRatio!=="number"||e.tokenRatio<=0){throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0")}return{maxTokens:+e.maxTokens.toFixed(3),tokenRatio:+e.tokenRatio.toFixed(3)}}t.validateRetryThrottling=f;function h(e){const t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in e){if(typeof e.loadBalancingPolicy==="string"){t.loadBalancingPolicy=e.loadBalancingPolicy}else{throw new Error("Invalid service config: invalid loadBalancingPolicy")}}if("loadBalancingConfig"in e){if(Array.isArray(e.loadBalancingConfig)){for(const n of e.loadBalancingConfig){t.loadBalancingConfig.push((0,s.validateLoadBalancingConfig)(n))}}else{throw new Error("Invalid service config: invalid loadBalancingConfig")}}if("methodConfig"in e){if(Array.isArray(e.methodConfig)){for(const n of e.methodConfig){t.methodConfig.push(d(n))}}}if("retryThrottling"in e){t.retryThrottling=f(e.retryThrottling)}const n=[];for(const e of t.methodConfig){for(const t of e.name){for(const e of n){if(t.service===e.service&&t.method===e.method){throw new Error(`Invalid service config: duplicate name ${t.service}/${t.method}`)}}n.push(t)}}return t}t.validateServiceConfig=h;function p(e){if(!("serviceConfig"in e)){throw new Error("Invalid service config choice: missing service config")}const t={serviceConfig:h(e.serviceConfig)};if("clientLanguage"in e){if(Array.isArray(e.clientLanguage)){t.clientLanguage=[];for(const n of e.clientLanguage){if(typeof n==="string"){t.clientLanguage.push(n)}else{throw new Error("Invalid service config choice: invalid clientLanguage")}}}else{throw new Error("Invalid service config choice: invalid clientLanguage")}}if("clientHostname"in e){if(Array.isArray(e.clientHostname)){t.clientHostname=[];for(const n of e.clientHostname){if(typeof n==="string"){t.clientHostname.push(n)}else{throw new Error("Invalid service config choice: invalid clientHostname")}}}else{throw new Error("Invalid service config choice: invalid clientHostname")}}if("percentage"in e){if(typeof e.percentage==="number"&&0<=e.percentage&&e.percentage<=100){t.percentage=e.percentage}else{throw new Error("Invalid service config choice: invalid percentage")}}const n=["clientLanguage","percentage","clientHostname","serviceConfig"];for(const t in e){if(!n.includes(t)){throw new Error(`Invalid service config choice: unexpected field ${t}`)}}return t}function m(e,t){if(!Array.isArray(e)){throw new Error("Invalid service config list")}for(const n of e){const e=p(n);if(typeof e.percentage==="number"&&t>e.percentage){continue}if(Array.isArray(e.clientHostname)){let t=false;for(const n of e.clientHostname){if(n===r.hostname()){t=true}}if(!t){continue}}if(Array.isArray(e.clientLanguage)){let t=false;for(const n of e.clientLanguage){if(n===a){t=true}}if(!t){continue}}return e.serviceConfig}throw new Error("No matching service config found")}function g(e,t){for(const n of e){if(n.length>0&&n[0].startsWith("grpc_config=")){const e=n.join("").substring("grpc_config=".length);const r=JSON.parse(e);return m(r,t)}}return null}t.extractAndSelectServiceConfig=g},10788:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.StatusBuilder=void 0;class n{constructor(){this.code=null;this.details=null;this.metadata=null}withCode(e){this.code=e;return this}withDetails(e){this.details=e;return this}withMetadata(e){this.metadata=e;return this}build(){const e={};if(this.code!==null){e.code=this.code}if(this.details!==null){e.details=this.details}if(this.metadata!==null){e.metadata=this.metadata}return e}}t.StatusBuilder=n},11264:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"callServer",{enumerable:true,get:function(){return o}});const r=n(43210);const i=n(59154);const s=n(19129);async function o(e,t){return new Promise((n,o)=>{(0,r.startTransition)(()=>{(0,s.dispatchAppRouterAction)({type:i.ACTION_SERVER_ACTION,actionId:e,actionArgs:t,resolve:n,reject:o})})})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},11273:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,q:()=>s});var r=n(43210);var i=n(60687);function s(e,t){const n=r.createContext(t);const s=e=>{const{children:t,...s}=e;const o=r.useMemo(()=>s,Object.values(s));return(0,i.jsx)(n.Provider,{value:o,children:t})};s.displayName=e+"Provider";function o(i){const s=r.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,o]}function o(e,t=[]){let n=[];function s(t,s){const o=r.createContext(s);const a=n.length;n=[...n,s];const c=t=>{const{scope:n,children:s,...c}=t;const l=n?.[e]?.[a]||o;const u=r.useMemo(()=>c,Object.values(c));return(0,i.jsx)(l.Provider,{value:u,children:s})};c.displayName=t+"Provider";function l(n,i){const c=i?.[e]?.[a]||o;const l=r.useContext(c);if(l)return l;if(s!==void 0)return s;throw new Error(`\`${n}\` must be used within \`${t}\``)}return[c,l]}const c=()=>{const t=n.map(e=>{return r.createContext(e)});return function n(n){const i=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:i}}),[n,i])}};c.scopeName=e;return[s,a(c,...t)]}function a(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function e(e){const i=n.reduce((t,{useScope:n,scopeName:r})=>{const i=n(e);const s=i[`__scope${r}`];return{...t,...s}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};n.scopeName=t.scopeName;return n}},11448:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"findSourceMapURL",{enumerable:true,get:function(){return i}});const n=false||"";const r=""+n+"/__nextjs_source-map";const i=false?0:undefined;if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},11804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{AppLinksMeta:function(){return c},OpenGraphMetadata:function(){return s},TwitterMetadata:function(){return a}});const i=n(80407);function s({openGraph:e}){var t,n,r;if(!e){return null}let s;if("type"in e){const t=e.type;switch(t){case"website":s=[(0,i.Meta)({property:"og:type",content:"website"})];break;case"article":var o,a,c;s=[(0,i.Meta)({property:"og:type",content:"article"}),(0,i.Meta)({property:"article:published_time",content:(o=e.publishedTime)==null?void 0:o.toString()}),(0,i.Meta)({property:"article:modified_time",content:(a=e.modifiedTime)==null?void 0:a.toString()}),(0,i.Meta)({property:"article:expiration_time",content:(c=e.expirationTime)==null?void 0:c.toString()}),(0,i.MultiMeta)({propertyPrefix:"article:author",contents:e.authors}),(0,i.Meta)({property:"article:section",content:e.section}),(0,i.MultiMeta)({propertyPrefix:"article:tag",contents:e.tags})];break;case"book":s=[(0,i.Meta)({property:"og:type",content:"book"}),(0,i.Meta)({property:"book:isbn",content:e.isbn}),(0,i.Meta)({property:"book:release_date",content:e.releaseDate}),(0,i.MultiMeta)({propertyPrefix:"book:author",contents:e.authors}),(0,i.MultiMeta)({propertyPrefix:"book:tag",contents:e.tags})];break;case"profile":s=[(0,i.Meta)({property:"og:type",content:"profile"}),(0,i.Meta)({property:"profile:first_name",content:e.firstName}),(0,i.Meta)({property:"profile:last_name",content:e.lastName}),(0,i.Meta)({property:"profile:username",content:e.username}),(0,i.Meta)({property:"profile:gender",content:e.gender})];break;case"music.song":var l;s=[(0,i.Meta)({property:"og:type",content:"music.song"}),(0,i.Meta)({property:"music:duration",content:(l=e.duration)==null?void 0:l.toString()}),(0,i.MultiMeta)({propertyPrefix:"music:album",contents:e.albums}),(0,i.MultiMeta)({propertyPrefix:"music:musician",contents:e.musicians})];break;case"music.album":s=[(0,i.Meta)({property:"og:type",content:"music.album"}),(0,i.MultiMeta)({propertyPrefix:"music:song",contents:e.songs}),(0,i.MultiMeta)({propertyPrefix:"music:musician",contents:e.musicians}),(0,i.Meta)({property:"music:release_date",content:e.releaseDate})];break;case"music.playlist":s=[(0,i.Meta)({property:"og:type",content:"music.playlist"}),(0,i.MultiMeta)({propertyPrefix:"music:song",contents:e.songs}),(0,i.MultiMeta)({propertyPrefix:"music:creator",contents:e.creators})];break;case"music.radio_station":s=[(0,i.Meta)({property:"og:type",content:"music.radio_station"}),(0,i.MultiMeta)({propertyPrefix:"music:creator",contents:e.creators})];break;case"video.movie":s=[(0,i.Meta)({property:"og:type",content:"video.movie"}),(0,i.MultiMeta)({propertyPrefix:"video:actor",contents:e.actors}),(0,i.MultiMeta)({propertyPrefix:"video:director",contents:e.directors}),(0,i.MultiMeta)({propertyPrefix:"video:writer",contents:e.writers}),(0,i.Meta)({property:"video:duration",content:e.duration}),(0,i.Meta)({property:"video:release_date",content:e.releaseDate}),(0,i.MultiMeta)({propertyPrefix:"video:tag",contents:e.tags})];break;case"video.episode":s=[(0,i.Meta)({property:"og:type",content:"video.episode"}),(0,i.MultiMeta)({propertyPrefix:"video:actor",contents:e.actors}),(0,i.MultiMeta)({propertyPrefix:"video:director",contents:e.directors}),(0,i.MultiMeta)({propertyPrefix:"video:writer",contents:e.writers}),(0,i.Meta)({property:"video:duration",content:e.duration}),(0,i.Meta)({property:"video:release_date",content:e.releaseDate}),(0,i.MultiMeta)({propertyPrefix:"video:tag",contents:e.tags}),(0,i.Meta)({property:"video:series",content:e.series})];break;case"video.tv_show":s=[(0,i.Meta)({property:"og:type",content:"video.tv_show"})];break;case"video.other":s=[(0,i.Meta)({property:"og:type",content:"video.other"})];break;default:const n=t;throw Object.defineProperty(new Error(`Invalid OpenGraph type: ${n}`),"__NEXT_ERROR_CODE",{value:"E237",enumerable:false,configurable:true})}}return(0,i.MetaFilter)([(0,i.Meta)({property:"og:determiner",content:e.determiner}),(0,i.Meta)({property:"og:title",content:(t=e.title)==null?void 0:t.absolute}),(0,i.Meta)({property:"og:description",content:e.description}),(0,i.Meta)({property:"og:url",content:(n=e.url)==null?void 0:n.toString()}),(0,i.Meta)({property:"og:site_name",content:e.siteName}),(0,i.Meta)({property:"og:locale",content:e.locale}),(0,i.Meta)({property:"og:country_name",content:e.countryName}),(0,i.Meta)({property:"og:ttl",content:(r=e.ttl)==null?void 0:r.toString()}),(0,i.MultiMeta)({propertyPrefix:"og:image",contents:e.images}),(0,i.MultiMeta)({propertyPrefix:"og:video",contents:e.videos}),(0,i.MultiMeta)({propertyPrefix:"og:audio",contents:e.audio}),(0,i.MultiMeta)({propertyPrefix:"og:email",contents:e.emails}),(0,i.MultiMeta)({propertyPrefix:"og:phone_number",contents:e.phoneNumbers}),(0,i.MultiMeta)({propertyPrefix:"og:fax_number",contents:e.faxNumbers}),(0,i.MultiMeta)({propertyPrefix:"og:locale:alternate",contents:e.alternateLocale}),...s?s:[]])}function o({app:e,type:t}){var n,r;return[(0,i.Meta)({name:`twitter:app:name:${t}`,content:e.name}),(0,i.Meta)({name:`twitter:app:id:${t}`,content:e.id[t]}),(0,i.Meta)({name:`twitter:app:url:${t}`,content:(r=e.url)==null?void 0:(n=r[t])==null?void 0:n.toString()})]}function a({twitter:e}){var t;if(!e)return null;const{card:n}=e;return(0,i.MetaFilter)([(0,i.Meta)({name:"twitter:card",content:n}),(0,i.Meta)({name:"twitter:site",content:e.site}),(0,i.Meta)({name:"twitter:site:id",content:e.siteId}),(0,i.Meta)({name:"twitter:creator",content:e.creator}),(0,i.Meta)({name:"twitter:creator:id",content:e.creatorId}),(0,i.Meta)({name:"twitter:title",content:(t=e.title)==null?void 0:t.absolute}),(0,i.Meta)({name:"twitter:description",content:e.description}),(0,i.MultiMeta)({namePrefix:"twitter:image",contents:e.images}),...n==="player"?e.players.flatMap(e=>[(0,i.Meta)({name:"twitter:player",content:e.playerUrl.toString()}),(0,i.Meta)({name:"twitter:player:stream",content:e.streamUrl.toString()}),(0,i.Meta)({name:"twitter:player:width",content:e.width}),(0,i.Meta)({name:"twitter:player:height",content:e.height})]):[],...n==="app"?[o({app:e.app,type:"iphone"}),o({app:e.app,type:"ipad"}),o({app:e.app,type:"googleplay"})]:[]])}function c({appLinks:e}){if(!e)return null;return(0,i.MetaFilter)([(0,i.MultiMeta)({propertyPrefix:"al:ios",contents:e.ios}),(0,i.MultiMeta)({propertyPrefix:"al:iphone",contents:e.iphone}),(0,i.MultiMeta)({propertyPrefix:"al:ipad",contents:e.ipad}),(0,i.MultiMeta)({propertyPrefix:"al:android",contents:e.android}),(0,i.MultiMeta)({propertyPrefix:"al:windows_phone",contents:e.windows_phone}),(0,i.MultiMeta)({propertyPrefix:"al:windows",contents:e.windows}),(0,i.MultiMeta)({propertyPrefix:"al:windows_universal",contents:e.windows_universal}),(0,i.MultiMeta)({propertyPrefix:"al:web",contents:e.web})])}},12089:(e,t,n)=>{const{createProxy:r}=n(39844);e.exports=r("/data/data/com.termux/files/home/Golden-hours/node_modules/next/dist/client/components/metadata/async-metadata.js")},12630:(e,t,n)=>{"use strict";e.exports=o;var r=n(64824);((o.prototype=Object.create(r.prototype)).constructor=o).className="OneOf";var i=n(73267),s=n(93107);function o(e,t,n,i){if(!Array.isArray(t)){n=t;t=undefined}r.call(this,e,n);if(!(t===undefined||Array.isArray(t)))throw TypeError("fieldNames must be an Array");this.oneof=t||[];this.fieldsArray=[];this.comment=i}o.fromJSON=function e(e,t){return new o(e,t.oneof,t.options,t.comment)};o.prototype.toJSON=function e(e){var t=e?Boolean(e.keepComments):false;return s.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:undefined])};function a(e){if(e.parent){for(var t=0;t<e.fieldsArray.length;++t)if(!e.fieldsArray[t].parent)e.parent.add(e.fieldsArray[t])}}o.prototype.add=function e(e){if(!(e instanceof i))throw TypeError("field must be a Field");if(e.parent&&e.parent!==this.parent)e.parent.remove(e);this.oneof.push(e.name);this.fieldsArray.push(e);e.partOf=this;a(this);return this};o.prototype.remove=function e(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);this.fieldsArray.splice(t,1);t=this.oneof.indexOf(e.name);if(t>-1)this.oneof.splice(t,1);e.partOf=null;return this};o.prototype.onAdd=function e(e){r.prototype.onAdd.call(this,e);var t=this;for(var n=0;n<this.oneof.length;++n){var i=e.get(this.oneof[n]);if(i&&!i.partOf){i.partOf=t;t.fieldsArray.push(i)}}a(this)};o.prototype.onRemove=function e(e){for(var t=0,n;t<this.fieldsArray.length;++t)if((n=this.fieldsArray[t]).parent)n.parent.remove(n);r.prototype.onRemove.call(this,e)};Object.defineProperty(o.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1){return false}var e=this.fieldsArray[0];return e.options!=null&&e.options["proto3_optional"]===true}});o.d=function e(){var e=new Array(arguments.length),t=0;while(t<arguments.length)e[t]=arguments[t++];return function t(t,n){s.decorateType(t.constructor).add(new o(n,e));Object.defineProperty(t,n,{get:s.oneOfGetter(e),set:s.oneOfSetter(e)})}}},12776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{handleHardNavError:function(){return o},useNavFailureHandler:function(){return a}});const i=n(43210);const s=n(57391);function o(e){if(e&&"undefined"!=="undefined"&&0&&0){}return false}function a(){if(false){}}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},12907:(e,t,n)=>{"use strict";e.exports=n(65239).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},13127:e=>{"use strict";e.exports=t(t);function t(e){if(typeof Float32Array!=="undefined")(function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=n[3]===128;function i(e,r,i){t[0]=e;r[i]=n[0];r[i+1]=n[1];r[i+2]=n[2];r[i+3]=n[3]}function s(e,r,i){t[0]=e;r[i]=n[3];r[i+1]=n[2];r[i+2]=n[1];r[i+3]=n[0]}e.writeFloatLE=r?i:s;e.writeFloatBE=r?s:i;function o(e,r){n[0]=e[r];n[1]=e[r+1];n[2]=e[r+2];n[3]=e[r+3];return t[0]}function a(e,r){n[3]=e[r];n[2]=e[r+1];n[1]=e[r+2];n[0]=e[r+3];return t[0]}e.readFloatLE=r?o:a;e.readFloatBE=r?a:o})();else(function(){function t(e,t,n,r){var i=t<0?1:0;if(i)t=-t;if(t===0)e(1/t>0?0:0x80000000,n,r);else if(isNaN(t))e(0x7fc00000,n,r);else if(t>34028234663852886e22)e((i<<31|0x7f800000)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var s=Math.floor(Math.log(t)/Math.LN2),o=Math.round(t*Math.pow(2,-s)*8388608)&8388607;e((i<<31|s+127<<23|o)>>>0,n,r)}}e.writeFloatLE=t.bind(null,n);e.writeFloatBE=t.bind(null,r);function o(e,t,n){var r=e(t,n),i=(r>>31)*2+1,s=r>>>23&255,o=r&8388607;return s===255?o?NaN:i*Infinity:s===0?i*1401298464324817e-60*o:i*Math.pow(2,s-150)*(o+8388608)}e.readFloatLE=o.bind(null,i);e.readFloatBE=o.bind(null,s)})();if(typeof Float64Array!=="undefined")(function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=n[7]===128;function i(e,r,i){t[0]=e;r[i]=n[0];r[i+1]=n[1];r[i+2]=n[2];r[i+3]=n[3];r[i+4]=n[4];r[i+5]=n[5];r[i+6]=n[6];r[i+7]=n[7]}function s(e,r,i){t[0]=e;r[i]=n[7];r[i+1]=n[6];r[i+2]=n[5];r[i+3]=n[4];r[i+4]=n[3];r[i+5]=n[2];r[i+6]=n[1];r[i+7]=n[0]}e.writeDoubleLE=r?i:s;e.writeDoubleBE=r?s:i;function o(e,r){n[0]=e[r];n[1]=e[r+1];n[2]=e[r+2];n[3]=e[r+3];n[4]=e[r+4];n[5]=e[r+5];n[6]=e[r+6];n[7]=e[r+7];return t[0]}function a(e,r){n[7]=e[r];n[6]=e[r+1];n[5]=e[r+2];n[4]=e[r+3];n[3]=e[r+4];n[2]=e[r+5];n[1]=e[r+6];n[0]=e[r+7];return t[0]}e.readDoubleLE=r?o:a;e.readDoubleBE=r?a:o})();else(function(){function t(e,t,n,r,i,s){var o=r<0?1:0;if(o)r=-r;if(r===0){e(0,i,s+t);e(1/r>0?0:0x80000000,i,s+n)}else if(isNaN(r)){e(0,i,s+t);e(0x7ff80000,i,s+n)}else if(r>17976931348623157e292){e(0,i,s+t);e((o<<31|0x7ff00000)>>>0,i,s+n)}else{var a;if(r<22250738585072014e-324){a=r/5e-324;e(a>>>0,i,s+t);e((o<<31|a/0x100000000)>>>0,i,s+n)}else{var c=Math.floor(Math.log(r)/Math.LN2);if(c===1024)c=1023;a=r*Math.pow(2,-c);e(a*0x10000000000000>>>0,i,s+t);e((o<<31|c+1023<<20|a*1048576&1048575)>>>0,i,s+n)}}}e.writeDoubleLE=t.bind(null,n,0,4);e.writeDoubleBE=t.bind(null,r,4,0);function o(e,t,n,r,i){var s=e(r,i+t),o=e(r,i+n);var a=(o>>31)*2+1,c=o>>>20&2047,l=0x100000000*(o&1048575)+s;return c===2047?l?NaN:a*Infinity:c===0?a*5e-324*l:a*Math.pow(2,c-1075)*(l+0x10000000000000)}e.readDoubleLE=o.bind(null,i,0,4);e.readDoubleBE=o.bind(null,s,4,0)})();return e}function n(e,t,n){t[n]=e&255;t[n+1]=e>>>8&255;t[n+2]=e>>>16&255;t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24;t[n+1]=e>>>16&255;t[n+2]=e>>>8&255;t[n+3]=e&255}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}},13495:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(43210);function i(e){const t=r.useRef(e);r.useEffect(()=>{t.current=e});return r.useMemo(()=>(...e)=>t.current?.(...e),[])}},14077:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"matchSegment",{enumerable:true,get:function(){return n}});const n=(e,t)=>{if(typeof e==="string"){if(typeof t==="string"){return e===t}return false}if(typeof t==="string"){return false}return e[0]===t[0]&&e[1]===t[1]};if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},14114:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"IconsMetadata",{enumerable:true,get:function(){return a}});const r=n(37413);const i=n(80407);function s({icon:e}){const{url:t,rel:n="icon",...i}=e;return(0,r.jsx)("link",{rel:n,href:t.toString(),...i})}function o({rel:e,icon:t}){if(typeof t==="object"&&!(t instanceof URL)){if(!t.rel&&e)t.rel=e;return s({icon:t})}else{const n=t.toString();return(0,r.jsx)("link",{rel:e,href:n})}}function a({icons:e}){if(!e)return null;const t=e.shortcut;const n=e.icon;const r=e.apple;const a=e.other;return(0,i.MetaFilter)([t?t.map(e=>o({rel:"shortcut icon",icon:e})):null,n?n.map(e=>o({rel:"icon",icon:e})):null,r?r.map(e=>o({rel:"apple-touch-icon",icon:e})):null,a?a.map(e=>s({icon:e})):null])}},14768:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:true,get:function(){return u}});const r=s(n(43210));function i(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var n=i(t);if(n&&n.has(e)){return n.get(e)}var r={__proto__:null};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;if(a&&(a.get||a.set)){Object.defineProperty(r,o,a)}else{r[o]=e[o]}}}r.default=e;if(n){n.set(e,r)}return r}const o={current:null};const a=typeof r.cache==="function"?r.cache:e=>e;const c=false?0:console.warn;const l=a(e=>{try{c(o.current)}finally{o.current=null}});function u(e){return function t(...n){const r=e(...n);if(false){var i}else{c(r)}}}},14985:(e,t,n)=>{"use strict";n.r(t);n.d(t,{_:()=>r});function r(e){return e&&e.__esModule?e:{default:e}}},15102:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{djb2Hash:function(){return r},hexHash:function(){return i}});function r(e){let t=5381;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)+t+r&0xffffffff}return t>>>0}function i(e){return r(e).toString(36).slice(0,5)}},16042:(e,t,n)=>{const{createProxy:r}=n(39844);e.exports=r("/data/data/com.termux/files/home/Golden-hours/node_modules/next/dist/client/components/client-segment.js")},16239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getProxiedConnection=t.mapProxyName=void 0;const r=n(31359);const i=n(71271);const s=n(5674);const o=n(81630);const a=n(34631);const c=n(31359);const l=n(43356);const u=n(26786);const d=n(79551);const f=n(44660);const h="proxy";function p(e){c.trace(i.LogVerbosity.DEBUG,h,e)}function m(){let e="";let t="";if(process.env.grpc_proxy){t="grpc_proxy";e=process.env.grpc_proxy}else if(process.env.https_proxy){t="https_proxy";e=process.env.https_proxy}else if(process.env.http_proxy){t="http_proxy";e=process.env.http_proxy}else{return{}}let n;try{n=new d.URL(e)}catch(e){(0,r.log)(i.LogVerbosity.ERROR,`cannot parse value of "${t}" env var`);return{}}if(n.protocol!=="http:"){(0,r.log)(i.LogVerbosity.ERROR,`"${n.protocol}" scheme not supported in proxy URI`);return{}}let s=null;if(n.username){if(n.password){(0,r.log)(i.LogVerbosity.INFO,"userinfo found in proxy URI");s=`${n.username}:${n.password}`}else{s=n.username}}const o=n.hostname;let a=n.port;if(a===""){a="80"}const c={address:`${o}:${a}`};if(s){c.creds=s}p("Proxy server "+c.address+" set by environment variable "+t);return c}function g(){let e=process.env.no_grpc_proxy;let t="no_grpc_proxy";if(!e){e=process.env.no_proxy;t="no_proxy"}if(e){p("No proxy server list set by environment variable "+t);return e.split(",")}else{return[]}}function y(e,t){var n;const r={target:e,extraOptions:{}};if(((n=t["grpc.enable_http_proxy"])!==null&&n!==void 0?n:1)===0){return r}if(e.scheme==="unix"){return r}const i=m();if(!i.address){return r}const s=(0,u.splitHostPort)(e.path);if(!s){return r}const o=s.host;for(const t of g()){if(t===o){p("Not using proxy for target in no_proxy list: "+(0,u.uriToString)(e));return r}}const a={"grpc.http_connect_target":(0,u.uriToString)(e)};if(i.creds){a["grpc.http_connect_creds"]=i.creds}return{target:{scheme:"dns",path:i.address},extraOptions:a}}t.mapProxyName=y;function v(e,t,n){var c;if(!("grpc.http_connect_target"in t)){return Promise.resolve({})}const d=t["grpc.http_connect_target"];const h=(0,u.parseUri)(d);if(h===null){return Promise.resolve({})}const m=(0,u.splitHostPort)(h.path);if(m===null){return Promise.resolve({})}const g=`${m.host}:${(c=m.port)!==null&&c!==void 0?c:f.DEFAULT_PORT}`;const y={method:"CONNECT",path:g};const v={Host:g};if((0,l.isTcpSubchannelAddress)(e)){y.host=e.host;y.port=e.port}else{y.socketPath=e.path}if("grpc.http_connect_creds"in t){v["Proxy-Authorization"]="Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64")}y.headers=v;const b=(0,l.subchannelAddressToString)(e);p("Using proxy "+b+" to connect to "+y.path);return new Promise((e,t)=>{const c=o.request(y);c.once("connect",(o,l,d)=>{var f;c.removeAllListeners();l.removeAllListeners();if(o.statusCode===200){p("Successfully connected to "+y.path+" through proxy "+b);if("secureContext"in n){const r=(0,s.getDefaultAuthority)(h);const i=(0,u.splitHostPort)(r);const o=(f=i===null||i===void 0?void 0:i.host)!==null&&f!==void 0?f:r;const c=a.connect(Object.assign({host:o,servername:o,socket:l},n),()=>{p("Successfully established a TLS connection to "+y.path+" through proxy "+b);e({socket:c,realTarget:h})});c.on("error",e=>{p("Failed to establish a TLS connection to "+y.path+" through proxy "+b+" with error "+e.message);t()})}else{p("Successfully established a plaintext connection to "+y.path+" through proxy "+b);e({socket:l,realTarget:h})}}else{(0,r.log)(i.LogVerbosity.ERROR,"Failed to connect to "+y.path+" through proxy "+b+" with status "+o.statusCode);t()}});c.once("error",e=>{c.removeAllListeners();(0,r.log)(i.LogVerbosity.ERROR,"Failed to connect to proxy "+b+" with error "+e.message);t()});c.end()})}t.getProxiedConnection=v},16444:(e,t,n)=>{const{createProxy:r}=n(39844);e.exports=r("/data/data/com.termux/files/home/Golden-hours/node_modules/next/dist/client/components/client-page.js")},16973:(e,t,n)=>{"use strict";e.exports=c;var r=n(32110),i=n(93107);function s(e,t){return e.name+": "+t+(e.repeated&&t!=="array"?"[]":e.map&&t!=="object"?"{k:"+e.keyType+"}":"")+" expected"}function o(e,t,n,i){if(t.resolvedType){if(t.resolvedType instanceof r){e("switch(%s){",i)("default:")("return%j",s(t,"enum value"));for(var o=Object.keys(t.resolvedType.values),a=0;a<o.length;++a)e("case %i:",t.resolvedType.values[o[a]]);e("break")("}")}else{e("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",t.name+".")("}")}}else{switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",s(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",s(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",s(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",s(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",s(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",s(t,"buffer"));break}}return e}function a(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",s(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",s(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",s(t,"boolean key"));break}return e}function c(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected");var n=e.oneofsArray,r={};if(n.length)t("var p={}");for(var c=0;c<e.fieldsArray.length;++c){var l=e._fieldsArray[c].resolve(),u="m"+i.safeProp(l.name);if(l.optional)t("if(%s!=null&&m.hasOwnProperty(%j)){",u,l.name);if(l.map){t("if(!util.isObject(%s))",u)("return%j",s(l,"object"))("var k=Object.keys(%s)",u)("for(var i=0;i<k.length;++i){");a(t,l,"k[i]");o(t,l,c,u+"[k[i]]")("}")}else if(l.repeated){t("if(!Array.isArray(%s))",u)("return%j",s(l,"array"))("for(var i=0;i<%s.length;++i){",u);o(t,l,c,u+"[i]")("}")}else{if(l.partOf){var d=i.safeProp(l.partOf.name);if(r[l.partOf.name]===1)t("if(p%s===1)",d)("return%j",l.partOf.name+": multiple values");r[l.partOf.name]=1;t("p%s=1",d)}o(t,l,c,u)}if(l.optional)t("}")}return t("return null")}},17061:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.addAdminServicesToServer=t.registerAdminService=void 0;const n=[];function r(e,t){n.push({getServiceDefinition:e,getHandlers:t})}t.registerAdminService=r;function i(e){for(const{getServiceDefinition:t,getHandlers:r}of n){e.addService(t(),r())}}t.addAdminServicesToServer=i},17388:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"getSegmentValue",{enumerable:true,get:function(){return n}});function n(e){return Array.isArray(e)?e[1]:e}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},17492:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Http2ServerCallStream=t.ServerDuplexStreamImpl=t.ServerWritableStreamImpl=t.ServerReadableStreamImpl=t.ServerUnaryCallImpl=void 0;const r=n(94735);const i=n(73496);const s=n(27910);const o=n(74075);const a=n(71271);const c=n(86777);const l=n(71037);const u=n(31359);const d=n(60776);const f="server_call";function h(e){u.trace(a.LogVerbosity.DEBUG,f,e)}const p="grpc-accept-encoding";const m="grpc-encoding";const g="grpc-message";const y="grpc-status";const v="grpc-timeout";const b=/(\d{1,8})\s*([HMSmun])/;const w={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6};const E={[p]:"identity,deflate,gzip",[m]:"identity"};const _={[i.constants.HTTP2_HEADER_STATUS]:i.constants.HTTP_STATUS_OK,[i.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"};const S={waitForTrailers:true};class T extends r.EventEmitter{constructor(e,t,n){super();this.call=e;this.metadata=t;this.request=n;this.cancelled=false;this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}t.ServerUnaryCallImpl=T;class C extends s.Readable{constructor(e,t,n,r){super({objectMode:true});this.call=e;this.metadata=t;this.deserialize=n;this.cancelled=false;this.call.setupSurfaceCall(this);this.call.setupReadable(this,r)}_read(e){if(!this.call.consumeUnpushedMessages(this)){return}this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}t.ServerReadableStreamImpl=C;class I extends s.Writable{constructor(e,t,n,r){super({objectMode:true});this.call=e;this.metadata=t;this.serialize=n;this.request=r;this.cancelled=false;this.trailingMetadata=new c.Metadata;this.call.setupSurfaceCall(this);this.on("error",e=>{this.call.sendError(e);this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(e,t,n){try{const t=this.call.serializeMessage(e);if(!this.call.write(t)){this.call.once("drain",n);return}}catch(e){this.emit("error",{details:(0,d.getErrorMessage)(e),code:a.Status.INTERNAL})}n()}_final(e){this.call.sendStatus({code:a.Status.OK,details:"OK",metadata:this.trailingMetadata});e(null)}end(e){if(e){this.trailingMetadata=e}return super.end()}}t.ServerWritableStreamImpl=I;class R extends s.Duplex{constructor(e,t,n,r,i){super({objectMode:true});this.call=e;this.metadata=t;this.serialize=n;this.deserialize=r;this.cancelled=false;this.trailingMetadata=new c.Metadata;this.call.setupSurfaceCall(this);this.call.setupReadable(this,i);this.on("error",e=>{this.call.sendError(e);this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(e){if(e){this.trailingMetadata=e}return super.end()}}t.ServerDuplexStreamImpl=R;R.prototype._read=C.prototype._read;R.prototype._write=I.prototype._write;R.prototype._final=I.prototype._final;class O extends r.EventEmitter{constructor(e,t,n){super();this.stream=e;this.handler=t;this.cancelled=false;this.deadlineTimer=null;this.statusSent=false;this.deadline=Infinity;this.wantTrailers=false;this.metadataSent=false;this.canPush=false;this.isPushPending=false;this.bufferedMessages=[];this.messagesToPush=[];this.maxSendMessageSize=a.DEFAULT_MAX_SEND_MESSAGE_LENGTH;this.maxReceiveMessageSize=a.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.stream.once("error",e=>{});this.stream.once("close",()=>{var e;h("Request to method "+((e=this.handler)===null||e===void 0?void 0:e.path)+" stream closed with rstCode "+this.stream.rstCode);if(!this.statusSent){this.cancelled=true;this.emit("cancelled","cancelled");this.emit("streamEnd",false);this.sendStatus({code:a.Status.CANCELLED,details:"Cancelled by client",metadata:null});if(this.deadlineTimer)clearTimeout(this.deadlineTimer)}});this.stream.on("drain",()=>{this.emit("drain")});if("grpc.max_send_message_length"in n){this.maxSendMessageSize=n["grpc.max_send_message_length"]}if("grpc.max_receive_message_length"in n){this.maxReceiveMessageSize=n["grpc.max_receive_message_length"]}}checkCancelled(){if(this.stream.destroyed||this.stream.closed){this.cancelled=true}return this.cancelled}getDecompressedMessage(e,t){const n=e.subarray(5);if(t==="identity"){return n}else if(t==="deflate"||t==="gzip"){let e;if(t==="deflate"){e=o.createInflate()}else{e=o.createGunzip()}return new Promise((t,r)=>{let i=0;const s=[];e.on("data",t=>{s.push(t);i+=t.byteLength;if(this.maxReceiveMessageSize!==-1&&i>this.maxReceiveMessageSize){e.destroy();r({code:a.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`})}});e.on("end",()=>{t(Buffer.concat(s))});e.write(n);e.end()})}else{return Promise.reject({code:a.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`})}}sendMetadata(e){if(this.checkCancelled()){return}if(this.metadataSent){return}this.metadataSent=true;const t=e?e.toHttp2Headers():null;const n=Object.assign(Object.assign(Object.assign({},_),E),t);this.stream.respond(n,S)}receiveMetadata(e){const t=c.Metadata.fromHttp2Headers(e);if(u.isTracerEnabled(f)){h("Request to "+this.handler.path+" received headers "+JSON.stringify(t.toJSON()))}const n=t.get(v);if(n.length>0){const e=n[0].toString().match(b);if(e===null){const e=new Error("Invalid deadline");e.code=a.Status.OUT_OF_RANGE;this.sendError(e);return t}const r=+e[1]*w[e[2]]|0;const i=new Date;this.deadline=i.setMilliseconds(i.getMilliseconds()+r);this.deadlineTimer=setTimeout(A,r,this);t.remove(v)}t.remove(i.constants.HTTP2_HEADER_ACCEPT_ENCODING);t.remove(i.constants.HTTP2_HEADER_TE);t.remove(i.constants.HTTP2_HEADER_CONTENT_TYPE);t.remove("grpc-accept-encoding");return t}receiveUnaryMessage(e){return new Promise((t,n)=>{const{stream:r}=this;let i=0;const s=this;const o=[];const c=this.maxReceiveMessageSize;this.stream.on("data",l);this.stream.on("end",u);this.stream.on("error",u);function l(e){i+=e.byteLength;if(c!==-1&&i>c){r.removeListener("data",l);r.removeListener("end",u);r.removeListener("error",u);n({code:a.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${i} vs. ${c})`});return}o.push(e)}function u(c){r.removeListener("data",l);r.removeListener("end",u);r.removeListener("error",u);if(c!==undefined){n({code:a.Status.INTERNAL,details:c.message});return}if(i===0){n({code:a.Status.INTERNAL,details:"received empty unary message"});return}s.emit("receiveMessage");const d=Buffer.concat(o,i);const f=d.readUInt8(0)===1;const h=f?e:"identity";const p=s.getDecompressedMessage(d,h);if(Buffer.isBuffer(p)){t(s.deserializeMessageWithInternalError(p));return}p.then(e=>t(s.deserializeMessageWithInternalError(e)),t=>n(t.code?t:{code:a.Status.INTERNAL,details:`Received "grpc-encoding" header "${e}" but ${e} decompression failed`}))}})}async deserializeMessageWithInternalError(e){try{return this.deserializeMessage(e)}catch(e){throw{details:(0,d.getErrorMessage)(e),code:a.Status.INTERNAL}}}serializeMessage(e){const t=this.handler.serialize(e);const n=t.byteLength;const r=Buffer.allocUnsafe(n+5);r.writeUInt8(0,0);r.writeUInt32BE(n,1);t.copy(r,5);return r}deserializeMessage(e){return this.handler.deserialize(e)}async sendUnaryMessage(e,t,n,r){if(this.checkCancelled()){return}if(n===undefined){n=null}if(e){if(!Object.prototype.hasOwnProperty.call(e,"metadata")&&n){e.metadata=n}this.sendError(e);return}try{const e=this.serializeMessage(t);this.write(e);this.sendStatus({code:a.Status.OK,details:"OK",metadata:n})}catch(e){this.sendError({details:(0,d.getErrorMessage)(e),code:a.Status.INTERNAL})}}sendStatus(e){var t,n;this.emit("callEnd",e.code);this.emit("streamEnd",e.code===a.Status.OK);if(this.checkCancelled()){return}h("Request to method "+((t=this.handler)===null||t===void 0?void 0:t.path)+" ended with status code: "+a.Status[e.code]+" details: "+e.details);if(this.deadlineTimer)clearTimeout(this.deadlineTimer);if(this.stream.headersSent){if(!this.wantTrailers){this.wantTrailers=true;this.stream.once("wantTrailers",()=>{var t;const n=Object.assign({[y]:e.code,[g]:encodeURI(e.details)},(t=e.metadata)===null||t===void 0?void 0:t.toHttp2Headers());this.stream.sendTrailers(n);this.statusSent=true});this.stream.end()}}else{const t=Object.assign(Object.assign({[y]:e.code,[g]:encodeURI(e.details)},_),(n=e.metadata)===null||n===void 0?void 0:n.toHttp2Headers());this.stream.respond(t,{endStream:true});this.statusSent=true}}sendError(e){const t={code:a.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&e.metadata!==undefined?e.metadata:null};if("code"in e&&typeof e.code==="number"&&Number.isInteger(e.code)){t.code=e.code;if("details"in e&&typeof e.details==="string"){t.details=e.details}}this.sendStatus(t)}write(e){if(this.checkCancelled()){return}if(this.maxSendMessageSize!==-1&&e.length>this.maxSendMessageSize){this.sendError({code:a.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`});return}this.sendMetadata();this.emit("sendMessage");return this.stream.write(e)}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",t=>{e.cancelled=true;e.emit("cancelled",t)});this.once("callEnd",t=>e.emit("callEnd",t))}setupReadable(e,t){const n=new l.StreamDecoder(this.maxReceiveMessageSize);let r=false;let i=false;let s=false;const o=async()=>{if(!s&&r&&!i){s=true;await this.pushOrBufferMessage(e,null)}};this.stream.on("data",async r=>{let s;try{s=n.write(r)}catch(e){this.sendError({code:a.Status.RESOURCE_EXHAUSTED,details:e.message});return}i=true;this.stream.pause();for(const n of s){this.emit("receiveMessage");const r=n.readUInt8(0)===1;const i=r?t:"identity";let s;try{s=await this.getDecompressedMessage(n,i)}catch(e){this.sendError(e);return}if(!s)return;await this.pushOrBufferMessage(e,s)}i=false;this.stream.resume();await o()});this.stream.once("end",async()=>{r=true;await o()})}consumeUnpushedMessages(e){this.canPush=true;while(this.messagesToPush.length>0){const t=this.messagesToPush.shift();const n=e.push(t);if(t===null||n===false){this.canPush=false;break}}return this.canPush}async pushOrBufferMessage(e,t){if(this.isPushPending){this.bufferedMessages.push(t)}else{await this.pushMessage(e,t)}}async pushMessage(e,t){if(t===null){h("Received end of stream");if(this.canPush){e.push(null)}else{this.messagesToPush.push(null)}return}h("Received message of length "+t.length);this.isPushPending=true;try{const n=await this.deserializeMessage(t);if(this.canPush){if(!e.push(n)){this.canPush=false;this.stream.pause()}}else{this.messagesToPush.push(n)}}catch(n){this.bufferedMessages.length=0;let t=(0,d.getErrorCode)(n);if(t===null||t<a.Status.OK||t>a.Status.UNAUTHENTICATED){t=a.Status.INTERNAL}e.emit("error",{details:(0,d.getErrorMessage)(n),code:t})}this.isPushPending=false;if(this.bufferedMessages.length>0){await this.pushMessage(e,this.bufferedMessages.shift())}}getPeer(){var e;const t=(e=this.stream.session)===null||e===void 0?void 0:e.socket;if(t===null||t===void 0?void 0:t.remoteAddress){if(t.remotePort){return`${t.remoteAddress}:${t.remotePort}`}else{return t.remoteAddress}}else{return"unknown"}}getDeadline(){return this.deadline}getPath(){return this.handler.path}}t.Http2ServerCallStream=O;function A(e){const t=new Error("Deadline exceeded");t.code=a.Status.DEADLINE_EXCEEDED;e.sendError(t);e.cancelled=true;e.emit("cancelled","deadline")}},17757:(e,t,n)=>{"use strict";e.exports=o;var r=n(75108),i=n(89644);var s=i("fs");function o(e,t,n){if(typeof t==="function"){n=t;t={}}else if(!t)t={};if(!n)return r(o,this,e,t);if(!t.xhr&&s&&s.readFile)return s.readFile(e,function r(r,i){return r&&typeof XMLHttpRequest!=="undefined"?o.xhr(e,t,n):r?n(r):n(null,t.binary?i:i.toString("utf8"))});return o.xhr(e,t,n)}o.xhr=function e(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function e(){if(r.readyState!==4)return undefined;if(r.status!==0&&r.status!==200)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var i=0;i<r.responseText.length;++i)e.push(r.responseText.charCodeAt(i)&255)}return n(null,typeof Uint8Array!=="undefined"?new Uint8Array(e):e)}return n(null,r.responseText)};if(t.binary){if("overrideMimeType"in r)r.overrideMimeType("text/plain; charset=x-user-defined");r.responseType="arraybuffer"}r.open("GET",e);r.send()}},17974:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"RedirectStatusCode",{enumerable:true,get:function(){return n}});var n=function(e){e[e["SeeOther"]=303]="SeeOther";e[e["TemporaryRedirect"]=307]="TemporaryRedirect";e[e["PermanentRedirect"]=308]="PermanentRedirect";return e}({});if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},18155:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ConnectivityState=void 0;var n;(function(e){e[e["IDLE"]=0]="IDLE";e[e["CONNECTING"]=1]="CONNECTING";e[e["READY"]=2]="READY";e[e["TRANSIENT_FAILURE"]=3]="TRANSIENT_FAILURE";e[e["SHUTDOWN"]=4]="SHUTDOWN"})(n||(t.ConnectivityState=n={}))},18238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{isHangingPromiseRejectionError:function(){return r},makeHangingPromise:function(){return a}});function r(e){if(typeof e!=="object"||e===null||!("digest"in e)){return false}return e.digest===i}const i="HANGING_PROMISE_REJECTION";class s extends Error{constructor(e){super(`During prerendering, ${e} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${e} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context.`),this.expression=e,this.digest=i}}const o=new WeakMap;function a(e,t){if(e.aborted){return Promise.reject(new s(t))}else{const n=new Promise((n,r)=>{const i=r.bind(null,new s(t));let a=o.get(e);if(a){a.push(i)}else{const t=[i];o.set(e,t);e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++){t[e]()}},{once:true})}});n.catch(c);return n}}function c(){}},18453:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ChannelImplementation=void 0;const r=n(56070);const i=n(88295);class s{constructor(e,t,n){if(typeof e!=="string"){throw new TypeError("Channel target must be a string")}if(!(t instanceof r.ChannelCredentials)){throw new TypeError("Channel credentials must be a ChannelCredentials object")}if(n){if(typeof n!=="object"){throw new TypeError("Channel options must be an object")}}this.internalChannel=new i.InternalChannel(e,t,n)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,n){this.internalChannel.watchConnectivityState(e,t,n)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,n,r,i){if(typeof e!=="string"){throw new TypeError("Channel#createCall: method must be a string")}if(!(typeof t==="number"||t instanceof Date)){throw new TypeError("Channel#createCall: deadline must be a number or Date")}return this.internalChannel.createCall(e,t,n,r,i)}}t.ChannelImplementation=s},18810:(e,t,n)=>{"use strict";n.d(t,{rc:()=>eh,bm:()=>ep,VY:()=>ef,Kq:()=>ec,bL:()=>eu,hE:()=>ed,LM:()=>el});var r=n(43210);var i=n(51215);var s=n(70569);var o=n(98599);var a=n(72031);var c=n(11273);var l=n(31355);var u=n(25028);var d=n(46059);var f=n(3416);var h=n(13495);var p=n(65551);var m=n(66156);var g=n(60687);var y="VisuallyHidden";var v=r.forwardRef((e,t)=>{return(0,g.jsx)(f.sG.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})});v.displayName=y;var b=null&&v;var w="ToastProvider";var[E,_,S]=(0,a.N)("Toast");var[T,C]=(0,c.A)("Toast",[S]);var[I,R]=T(w);var O=e=>{const{__scopeToast:t,label:n="Notification",duration:i=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=e;const[c,l]=r.useState(null);const[u,d]=r.useState(0);const f=r.useRef(false);const h=r.useRef(false);if(!n.trim()){console.error(`Invalid prop \`label\` supplied to \`${w}\`. Expected non-empty \`string\`.`)}return(0,g.jsx)(E.Provider,{scope:t,children:(0,g.jsx)(I,{scope:t,label:n,duration:i,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:c,onViewportChange:l,onToastAdd:r.useCallback(()=>d(e=>e+1),[]),onToastRemove:r.useCallback(()=>d(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};O.displayName=w;var A="ToastViewport";var k=["F8"];var x="toast.viewportPause";var P="toast.viewportResume";var N=r.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:i=k,label:s="Notifications ({hotkey})",...a}=e;const c=R(A,n);const u=_(n);const d=r.useRef(null);const h=r.useRef(null);const p=r.useRef(null);const m=r.useRef(null);const y=(0,o.s)(t,m,c.onViewportChange);const v=i.join("+").replace(/Key/g,"").replace(/Digit/g,"");const b=c.toastCount>0;r.useEffect(()=>{const e=e=>{const t=i.length!==0&&i.every(t=>e[t]||e.code===t);if(t)m.current?.focus()};document.addEventListener("keydown",e);return()=>document.removeEventListener("keydown",e)},[i]);r.useEffect(()=>{const e=d.current;const t=m.current;if(b&&e&&t){const n=()=>{if(!c.isClosePausedRef.current){const e=new CustomEvent(x);t.dispatchEvent(e);c.isClosePausedRef.current=true}};const r=()=>{if(c.isClosePausedRef.current){const e=new CustomEvent(P);t.dispatchEvent(e);c.isClosePausedRef.current=false}};const i=t=>{const n=!e.contains(t.relatedTarget);if(n)r()};const s=()=>{const t=e.contains(document.activeElement);if(!t)r()};e.addEventListener("focusin",n);e.addEventListener("focusout",i);e.addEventListener("pointermove",n);e.addEventListener("pointerleave",s);window.addEventListener("blur",n);window.addEventListener("focus",r);return()=>{e.removeEventListener("focusin",n);e.removeEventListener("focusout",i);e.removeEventListener("pointermove",n);e.removeEventListener("pointerleave",s);window.removeEventListener("blur",n);window.removeEventListener("focus",r)}}},[b,c.isClosePausedRef]);const w=r.useCallback(({tabbingDirection:e})=>{const t=u();const n=t.map(t=>{const n=t.ref.current;const r=[n,...eo(n)];return e==="forwards"?r:r.reverse()});return(e==="forwards"?n.reverse():n).flat()},[u]);r.useEffect(()=>{const e=m.current;if(e){const t=t=>{const n=t.altKey||t.ctrlKey||t.metaKey;const r=t.key==="Tab"&&!n;if(r){const n=document.activeElement;const r=t.shiftKey;const i=t.target===e;if(i&&r){h.current?.focus();return}const s=r?"backwards":"forwards";const o=w({tabbingDirection:s});const a=o.findIndex(e=>e===n);if(ea(o.slice(a+1))){t.preventDefault()}else{r?h.current?.focus():p.current?.focus()}}};e.addEventListener("keydown",t);return()=>e.removeEventListener("keydown",t)}},[u,w]);return(0,g.jsxs)(l.lg,{ref:d,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&(0,g.jsx)(M,{ref:h,onFocusFromOutsideViewport:()=>{const e=w({tabbingDirection:"forwards"});ea(e)}}),(0,g.jsx)(E.Slot,{scope:n,children:(0,g.jsx)(f.sG.ol,{tabIndex:-1,...a,ref:y})}),b&&(0,g.jsx)(M,{ref:p,onFocusFromOutsideViewport:()=>{const e=w({tabbingDirection:"backwards"});ea(e)}})]})});N.displayName=A;var D="ToastFocusProxy";var M=r.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e;const s=R(D,n);return(0,g.jsx)(v,{"aria-hidden":true,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:e=>{const t=e.relatedTarget;const n=!s.viewport?.contains(t);if(n)r()}})});M.displayName=D;var L="Toast";var j="toast.swipeStart";var F="toast.swipeMove";var B="toast.swipeCancel";var U="toast.swipeEnd";var V=r.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...a}=e;const[c=true,l]=(0,p.i)({prop:r,defaultProp:i,onChange:o});return(0,g.jsx)(d.C,{present:n||c,children:(0,g.jsx)($,{open:c,...a,ref:t,onClose:()=>l(false),onPause:(0,h.c)(e.onPause),onResume:(0,h.c)(e.onResume),onSwipeStart:(0,s.m)(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:(0,s.m)(e.onSwipeMove,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move");e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`);e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${n}px`)}),onSwipeCancel:(0,s.m)(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel");e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x");e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y");e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x");e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:(0,s.m)(e.onSwipeEnd,e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end");e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x");e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y");e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`);e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${n}px`);l(false)})})})});V.displayName=L;var[z,q]=T(L,{onClose(){}});var $=r.forwardRef((e,t)=>{const{__scopeToast:n,type:a="foreground",duration:c,open:u,onClose:d,onEscapeKeyDown:p,onPause:m,onResume:y,onSwipeStart:v,onSwipeMove:b,onSwipeCancel:w,onSwipeEnd:_,...S}=e;const T=R(L,n);const[C,I]=r.useState(null);const O=(0,o.s)(t,e=>I(e));const A=r.useRef(null);const k=r.useRef(null);const N=c||T.duration;const D=r.useRef(0);const M=r.useRef(N);const V=r.useRef(0);const{onToastAdd:q,onToastRemove:$}=T;const W=(0,h.c)(()=>{const e=C?.contains(document.activeElement);if(e)T.viewport?.focus();d()});const H=r.useCallback(e=>{if(!e||e===Infinity)return;window.clearTimeout(V.current);D.current=new Date().getTime();V.current=window.setTimeout(W,e)},[W]);r.useEffect(()=>{const e=T.viewport;if(e){const t=()=>{H(M.current);y?.()};const n=()=>{const e=new Date().getTime()-D.current;M.current=M.current-e;window.clearTimeout(V.current);m?.()};e.addEventListener(x,n);e.addEventListener(P,t);return()=>{e.removeEventListener(x,n);e.removeEventListener(P,t)}}},[T.viewport,N,m,y,H]);r.useEffect(()=>{if(u&&!T.isClosePausedRef.current)H(N)},[u,N,T.isClosePausedRef,H]);r.useEffect(()=>{q();return()=>$()},[q,$]);const K=r.useMemo(()=>{return C?et(C):null},[C]);if(!T.viewport)return null;return(0,g.jsxs)(g.Fragment,{children:[K&&(0,g.jsx)(G,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":true,children:K}),(0,g.jsx)(z,{scope:n,onClose:W,children:i.createPortal((0,g.jsx)(E.ItemSlot,{scope:n,children:(0,g.jsx)(l.bL,{asChild:true,onEscapeKeyDown:(0,s.m)(p,()=>{if(!T.isFocusedToastEscapeKeyDownRef.current)W();T.isFocusedToastEscapeKeyDownRef.current=false}),children:(0,g.jsx)(f.sG.li,{role:"status","aria-live":"off","aria-atomic":true,tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":T.swipeDirection,...S,ref:O,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:(0,s.m)(e.onKeyDown,e=>{if(e.key!=="Escape")return;p?.(e.nativeEvent);if(!e.nativeEvent.defaultPrevented){T.isFocusedToastEscapeKeyDownRef.current=true;W()}}),onPointerDown:(0,s.m)(e.onPointerDown,e=>{if(e.button!==0)return;A.current={x:e.clientX,y:e.clientY}}),onPointerMove:(0,s.m)(e.onPointerMove,e=>{if(!A.current)return;const t=e.clientX-A.current.x;const n=e.clientY-A.current.y;const r=Boolean(k.current);const i=["left","right"].includes(T.swipeDirection);const s=["left","up"].includes(T.swipeDirection)?Math.min:Math.max;const o=i?s(0,t):0;const a=!i?s(0,n):0;const c=e.pointerType==="touch"?10:2;const l={x:o,y:a};const u={originalEvent:e,delta:l};if(r){k.current=l;en(F,b,u,{discrete:false})}else if(er(l,T.swipeDirection,c)){k.current=l;en(j,v,u,{discrete:false});e.target.setPointerCapture(e.pointerId)}else if(Math.abs(t)>c||Math.abs(n)>c){A.current=null}}),onPointerUp:(0,s.m)(e.onPointerUp,e=>{const t=k.current;const n=e.target;if(n.hasPointerCapture(e.pointerId)){n.releasePointerCapture(e.pointerId)}k.current=null;A.current=null;if(t){const n=e.currentTarget;const r={originalEvent:e,delta:t};if(er(t,T.swipeDirection,T.swipeThreshold)){en(U,_,r,{discrete:true})}else{en(B,w,r,{discrete:true})}n.addEventListener("click",e=>e.preventDefault(),{once:true})}})})})}),T.viewport)})]})});var G=e=>{const{__scopeToast:t,children:n,...i}=e;const s=R(L,t);const[o,a]=r.useState(false);const[c,l]=r.useState(false);ei(()=>a(true));r.useEffect(()=>{const e=window.setTimeout(()=>l(true),1e3);return()=>window.clearTimeout(e)},[]);return c?null:(0,g.jsx)(u.Z,{asChild:true,children:(0,g.jsx)(v,{...i,children:o&&(0,g.jsxs)(g.Fragment,{children:[s.label," ",n]})})})};var W="ToastTitle";var H=r.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return(0,g.jsx)(f.sG.div,{...r,ref:t})});H.displayName=W;var K="ToastDescription";var Q=r.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return(0,g.jsx)(f.sG.div,{...r,ref:t})});Q.displayName=K;var Y="ToastAction";var X=r.forwardRef((e,t)=>{const{altText:n,...r}=e;if(!n.trim()){console.error(`Invalid prop \`altText\` supplied to \`${Y}\`. Expected non-empty \`string\`.`);return null}return(0,g.jsx)(ee,{altText:n,asChild:true,children:(0,g.jsx)(Z,{...r,ref:t})})});X.displayName=Y;var J="ToastClose";var Z=r.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;const i=q(J,n);return(0,g.jsx)(ee,{asChild:true,children:(0,g.jsx)(f.sG.button,{type:"button",...r,ref:t,onClick:(0,s.m)(e.onClick,i.onClose)})})});Z.displayName=J;var ee=r.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return(0,g.jsx)(f.sG.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function et(e){const t=[];const n=Array.from(e.childNodes);n.forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent)t.push(e.textContent);if(es(e)){const n=e.ariaHidden||e.hidden||e.style.display==="none";const r=e.dataset.radixToastAnnounceExclude==="";if(!n){if(r){const n=e.dataset.radixToastAnnounceAlt;if(n)t.push(n)}else{t.push(...et(e))}}}});return t}function en(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget;const s=new CustomEvent(e,{bubbles:true,cancelable:true,detail:n});if(t)i.addEventListener(e,t,{once:true});if(r){(0,f.hO)(i,s)}else{i.dispatchEvent(s)}}var er=(e,t,n=0)=>{const r=Math.abs(e.x);const i=Math.abs(e.y);const s=r>i;if(t==="left"||t==="right"){return s&&r>n}else{return!s&&i>n}};function ei(e=()=>{}){const t=(0,h.c)(e);(0,m.N)(()=>{let e=0;let n=0;e=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t));return()=>{window.cancelAnimationFrame(e);window.cancelAnimationFrame(n)}},[t])}function es(e){return e.nodeType===e.ELEMENT_NODE}function eo(e){const t=[];const n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t=e.tagName==="INPUT"&&e.type==="hidden";if(e.disabled||e.hidden||t)return NodeFilter.FILTER_SKIP;return e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});while(n.nextNode())t.push(n.currentNode);return t}function ea(e){const t=document.activeElement;return e.some(e=>{if(e===t)return true;e.focus();return document.activeElement!==t})}var ec=O;var el=N;var eu=V;var ed=H;var ef=Q;var eh=X;var ep=Z},19129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{dispatchAppRouterAction:function(){return c},useActionQueue:function(){return l}});const i=n(40740);const s=i._(n(43210));const o=n(91992);let a=null;function c(e){if(a===null){throw Object.defineProperty(new Error("Internal Next.js error: Router action dispatched before initialization."),"__NEXT_ERROR_CODE",{value:"E668",enumerable:false,configurable:true})}a(e)}function l(e){const[t,n]=s.default.useState(e.state);if(false){}else{a=t=>e.dispatch(t,n)}return(0,o.isThenable)(t)?(0,s.use)(t):t}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},19357:(e,t,n)=>{"use strict";e.exports=n(94041).vendored["react-ssr"].ReactServerDOMWebpackClientEdge},19420:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ServerCredentials=void 0;const r=n(9227);class i{static createInsecure(){return new s}static createSsl(e,t,n=false){if(e!==null&&!Buffer.isBuffer(e)){throw new TypeError("rootCerts must be null or a Buffer")}if(!Array.isArray(t)){throw new TypeError("keyCertPairs must be an array")}if(typeof n!=="boolean"){throw new TypeError("checkClientCertificate must be a boolean")}const i=[];const s=[];for(let e=0;e<t.length;e++){const n=t[e];if(n===null||typeof n!=="object"){throw new TypeError(`keyCertPair[${e}] must be an object`)}if(!Buffer.isBuffer(n.private_key)){throw new TypeError(`keyCertPair[${e}].private_key must be a Buffer`)}if(!Buffer.isBuffer(n.cert_chain)){throw new TypeError(`keyCertPair[${e}].cert_chain must be a Buffer`)}i.push(n.cert_chain);s.push(n.private_key)}return new o({ca:e||(0,r.getDefaultRootsData)()||undefined,cert:i,key:s,requestCert:n,ciphers:r.CIPHER_SUITES})}}t.ServerCredentials=i;class s extends i{_isSecure(){return false}_getSettings(){return null}}class o extends i{constructor(e){super();this.options=e}_isSecure(){return true}_getSettings(){return this.options}}},20040:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"edition":"proto2","fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}},"extensions":[[536000000,536000000]]},"Edition":{"edition":"proto2","values":{"EDITION_UNKNOWN":0,"EDITION_LEGACY":900,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10},"weakDependency":{"rule":"repeated","type":"int32","id":11},"optionDependency":{"rule":"repeated","type":"string","id":15},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10},"visibility":{"type":"SymbolVisibility","id":11}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"edition":"proto2","fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5},"visibility":{"type":"SymbolVisibility","id":6}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"edition":"proto2","fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38],"php_generic_services"],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"edition":"proto2","fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"edition":"proto2","fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"unverifiedLazy":{"type":"bool","id":15},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10,"options":{"deprecated":true}},"debugRedact":{"type":"bool","id":16},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"featureSupport":{"type":"FeatureSupport","id":22},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}},"FeatureSupport":{"fields":{"editionIntroduced":{"type":"Edition","id":1},"editionDeprecated":{"type":"Edition","id":2},"deprecationWarning":{"type":"string","id":3},"editionRemoved":{"type":"Edition","id":4}}}}},"OneofOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"edition":"proto2","fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":1},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3},"featureSupport":{"type":"FieldOptions.FeatureSupport","id":4},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":33},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"edition":"proto2","fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"edition":"proto2","fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},"enforceNamingStyle":{"type":"EnforceNamingStyle","id":7,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},"defaultSymbolVisibility":{"type":"VisibilityFeature.DefaultSymbolVisibility","id":8,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},"extensions":[[1000,9994],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}},"EnforceNamingStyle":{"values":{"ENFORCE_NAMING_STYLE_UNKNOWN":0,"STYLE2024":1,"STYLE_LEGACY":2}},"VisibilityFeature":{"fields":{},"reserved":[[1,536870911]],"nested":{"DefaultSymbolVisibility":{"values":{"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN":0,"EXPORT_ALL":1,"EXPORT_TOP_LEVEL":2,"LOCAL_ALL":3,"STRICT":4}}}}}},"FeatureSetDefaults":{"edition":"proto2","fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"overridableFeatures":{"type":"FeatureSet","id":4},"fixedFeatures":{"type":"FeatureSet","id":5}},"reserved":[[1,1],[2,2],"features"]}}},"SourceCodeInfo":{"edition":"proto2","fields":{"location":{"rule":"repeated","type":"Location","id":1}},"extensions":[[536000000,536000000]],"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"span":{"rule":"repeated","type":"int32","id":2,"options":{"packed":true}},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"edition":"proto2","fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"SymbolVisibility":{"edition":"proto2","values":{"VISIBILITY_UNSET":0,"VISIBILITY_LOCAL":1,"VISIBILITY_EXPORT":2}}}}}}}}')},20884:(e,t,n)=>{"use strict";var r=n(46033),i={stream:!0};function s(e,t){if(e){var n=e[t[0]];if(e=n&&n[t[2]])n=e.name;else{e=n&&n["*"];if(!e)throw Error('Could not find the module "'+t[0]+'" in the React Server Consumer Manifest. This is probably a bug in the React Server Components bundler.');n=t[2]}return 4===t.length?[e.id,e.chunks,n,1]:[e.id,e.chunks,n]}return t}function o(e,t){var n="",r=e[t];if(r)n=r.name;else{var i=t.lastIndexOf("#");-1!==i&&(n=t.slice(i+1),r=e[t.slice(0,i)]);if(!r)throw Error('Could not find the module "'+t+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return r.async?[r.id,r.chunks,n,1]:[r.id,r.chunks,n]}var a=new Map;function c(e){var t=globalThis.__next_require__(e);if("function"!==typeof t.then||"fulfilled"===t.status)return null;t.then(function(e){t.status="fulfilled";t.value=e},function(e){t.status="rejected";t.reason=e});return t}function l(){}function u(e){for(var t=e[1],r=[],i=0;i<t.length;){var s=t[i++];t[i++];var o=a.get(s);if(void 0===o){o=n.e(s);r.push(o);var u=a.set.bind(a,s,null);o.then(u,l);a.set(s,o)}else null!==o&&r.push(o)}return 4===e.length?0===r.length?c(e[0]):Promise.all(r).then(function(){return c(e[0])}):0<r.length?Promise.all(r):null}function d(e){var t=globalThis.__next_require__(e[0]);if(4===e.length&&"function"===typeof t.then)if("fulfilled"===t.status)t=t.value;else throw t.reason;return"*"===e[2]?t:""===e[2]?t.__esModule?t.default:t:t[e[2]]}function f(e,t,n){if(null!==e)for(var r=1;r<t.length;r+=2){var i=n,s=h.d,o=s.X,a=e.prefix+t[r];var c=e.crossOrigin;c="string"===typeof c?"use-credentials"===c?c:"":void 0;o.call(s,a,{crossOrigin:c,nonce:i})}}var h=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,p=Symbol.for("react.transitional.element"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(e){if(null===e||"object"!==typeof e)return null;e=g&&e[g]||e["@@iterator"];return"function"===typeof e?e:null}var v=Symbol.asyncIterator,b=Array.isArray,w=Object.getPrototypeOf,E=Object.prototype,_=new WeakMap;function S(e){return Number.isFinite(e)?0===e&&-Infinity===1/e?"$-0":e:Infinity===e?"$Infinity":-Infinity===e?"$-Infinity":"$NaN"}function T(e,t,n,r,i){function s(e,n){n=new Blob([new Uint8Array(n.buffer,n.byteOffset,n.byteLength)]);var r=f++;null===g&&(g=new FormData);g.append(t+r,n);return"$"+e+r.toString(16)}function o(e){function n(c){c.done?(c=f++,s.append(t+c,new Blob(a)),s.append(t+o,'"$o'+c.toString(16)+'"'),s.append(t+o,"C"),h--,0===h&&r(s)):(a.push(c.value),e.read(new Uint8Array(1024)).then(n,i))}null===g&&(g=new FormData);var s=g;h++;var o=f++,a=[];e.read(new Uint8Array(1024)).then(n,i);return"$r"+o.toString(16)}function a(e){function n(a){if(a.done)s.append(t+o,"C"),h--,0===h&&r(s);else try{var c=JSON.stringify(a.value,u);s.append(t+o,c);e.read().then(n,i)}catch(e){i(e)}}null===g&&(g=new FormData);var s=g;h++;var o=f++;e.read().then(n,i);return"$R"+o.toString(16)}function c(e){try{var t=e.getReader({mode:"byob"})}catch(t){return a(e.getReader())}return o(t)}function l(e,n){function s(e){if(e.done){if(void 0===e.value)o.append(t+a,"C");else try{var c=JSON.stringify(e.value,u);o.append(t+a,"C"+c)}catch(e){i(e);return}h--;0===h&&r(o)}else try{var l=JSON.stringify(e.value,u);o.append(t+a,l);n.next().then(s,i)}catch(e){i(e)}}null===g&&(g=new FormData);var o=g;h++;var a=f++;e=e===n;n.next().then(s,i);return"$"+(e?"x":"X")+a.toString(16)}function u(e,o){if(null===o)return null;if("object"===typeof o){switch(o.$$typeof){case p:if(void 0!==n&&-1===e.indexOf(":")){var a=T.get(this);if(void 0!==a)return n.set(a+":"+e,o),"$T"}throw Error("React Element cannot be passed to Server Functions from the Client without a temporary reference set. Pass a TemporaryReferenceSet to the options.");case m:a=o._payload;var I=o._init;null===g&&(g=new FormData);h++;try{var R=I(a),O=f++,A=d(R,O);g.append(t+O,A);return"$"+O.toString(16)}catch(e){if("object"===typeof e&&null!==e&&"function"===typeof e.then){h++;var k=f++;a=function(){try{var e=d(o,k),n=g;n.append(t+k,e);h--;0===h&&r(n)}catch(e){i(e)}};e.then(a,a);return"$"+k.toString(16)}i(e);return null}finally{h--}}if("function"===typeof o.then){null===g&&(g=new FormData);h++;var x=f++;o.then(function(e){try{var n=d(e,x);e=g;e.append(t+x,n);h--;0===h&&r(e)}catch(e){i(e)}},i);return"$@"+x.toString(16)}a=T.get(o);if(void 0!==a)if(C===o)C=null;else return a;else-1===e.indexOf(":")&&(a=T.get(this),void 0!==a&&(e=a+":"+e,T.set(o,e),void 0!==n&&n.set(e,o)));if(b(o))return o;if(o instanceof FormData){null===g&&(g=new FormData);var P=g;e=f++;var N=t+e+"_";o.forEach(function(e,t){P.append(N+t,e)});return"$K"+e.toString(16)}if(o instanceof Map)return e=f++,a=d(Array.from(o),e),null===g&&(g=new FormData),g.append(t+e,a),"$Q"+e.toString(16);if(o instanceof Set)return e=f++,a=d(Array.from(o),e),null===g&&(g=new FormData),g.append(t+e,a),"$W"+e.toString(16);if(o instanceof ArrayBuffer)return e=new Blob([o]),a=f++,null===g&&(g=new FormData),g.append(t+a,e),"$A"+a.toString(16);if(o instanceof Int8Array)return s("O",o);if(o instanceof Uint8Array)return s("o",o);if(o instanceof Uint8ClampedArray)return s("U",o);if(o instanceof Int16Array)return s("S",o);if(o instanceof Uint16Array)return s("s",o);if(o instanceof Int32Array)return s("L",o);if(o instanceof Uint32Array)return s("l",o);if(o instanceof Float32Array)return s("G",o);if(o instanceof Float64Array)return s("g",o);if(o instanceof BigInt64Array)return s("M",o);if(o instanceof BigUint64Array)return s("m",o);if(o instanceof DataView)return s("V",o);if("function"===typeof Blob&&o instanceof Blob)return null===g&&(g=new FormData),e=f++,g.append(t+e,o),"$B"+e.toString(16);if(e=y(o))return a=e.call(o),a===o?(e=f++,a=d(Array.from(a),e),null===g&&(g=new FormData),g.append(t+e,a),"$i"+e.toString(16)):Array.from(a);if("function"===typeof ReadableStream&&o instanceof ReadableStream)return c(o);e=o[v];if("function"===typeof e)return l(o,e.call(o));e=w(o);if(e!==E&&(null===e||null!==w(e))){if(void 0===n)throw Error("Only plain objects, and a few built-ins, can be passed to Server Functions. Classes or null prototypes are not supported.");return"$T"}return o}if("string"===typeof o){if("Z"===o[o.length-1]&&this[e]instanceof Date)return"$D"+o;e="$"===o[0]?"$"+o:o;return e}if("boolean"===typeof o)return o;if("number"===typeof o)return S(o);if("undefined"===typeof o)return"$undefined";if("function"===typeof o){a=_.get(o);if(void 0!==a)return e=JSON.stringify({id:a.id,bound:a.bound},u),null===g&&(g=new FormData),a=f++,g.set(t+a,e),"$F"+a.toString(16);if(void 0!==n&&-1===e.indexOf(":")&&(a=T.get(this),void 0!==a))return n.set(a+":"+e,o),"$T";throw Error("Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.")}if("symbol"===typeof o){if(void 0!==n&&-1===e.indexOf(":")&&(a=T.get(this),void 0!==a))return n.set(a+":"+e,o),"$T";throw Error("Symbols cannot be passed to a Server Function without a temporary reference set. Pass a TemporaryReferenceSet to the options.")}if("bigint"===typeof o)return"$n"+o.toString(10);throw Error("Type "+typeof o+" is not supported as an argument to a Server Function.")}function d(e,t){"object"===typeof e&&null!==e&&(t="$"+t.toString(16),T.set(e,t),void 0!==n&&n.set(t,e));C=e;return JSON.stringify(e,u)}var f=1,h=0,g=null,T=new WeakMap,C=e,I=d(e,0);null===g?r(I):(g.set(t+"0",I),0===h&&r(g));return function(){0<h&&(h=0,null===g?r(I):r(g))}}var C=new WeakMap;function I(e){var t,n,r=new Promise(function(e,r){t=e;n=r});T(e,"",void 0,function(e){if("string"===typeof e){var n=new FormData;n.append("0",e);e=n}r.status="fulfilled";r.value=e;t(e)},function(e){r.status="rejected";r.reason=e;n(e)});return r}function R(e){var t=_.get(this);if(!t)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var n=null;if(null!==t.bound){n=C.get(t);n||(n=I({id:t.id,bound:t.bound}),C.set(t,n));if("rejected"===n.status)throw n.reason;if("fulfilled"!==n.status)throw n;t=n.value;var r=new FormData;t.forEach(function(t,n){r.append("$ACTION_"+e+":"+n,t)});n=r;t="$ACTION_REF_"+e}else t="$ACTION_ID_"+t.id;return{name:t,method:"POST",encType:"multipart/form-data",data:n}}function O(e,t){var n=_.get(this);if(!n)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");if(n.id!==e)return!1;var r=n.bound;if(null===r)return 0===t;switch(r.status){case"fulfilled":return r.value.length===t;case"pending":throw r;case"rejected":throw r.reason;default:throw"string"!==typeof r.status&&(r.status="pending",r.then(function(e){r.status="fulfilled";r.value=e},function(e){r.status="rejected";r.reason=e})),r}}function A(e,t,n,r){_.has(e)||(_.set(e,{id:t,originalBind:e.bind,bound:n}),Object.defineProperties(e,{$$FORM_ACTION:{value:void 0===r?R:function(){var e=_.get(this);if(!e)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var t=e.bound;null===t&&(t=Promise.resolve([]));return r(e.id,t)}},$$IS_SIGNATURE_EQUAL:{value:O},bind:{value:P}}))}var k=Function.prototype.bind,x=Array.prototype.slice;function P(){var e=_.get(this);if(!e)return k.apply(this,arguments);var t=e.originalBind.apply(this,arguments),n=x.call(arguments,1),r=null;r=null!==e.bound?Promise.resolve(e.bound).then(function(e){return e.concat(n)}):Promise.resolve(n);_.set(t,{id:e.id,originalBind:t.bind,bound:r});Object.defineProperties(t,{$$FORM_ACTION:{value:this.$$FORM_ACTION},$$IS_SIGNATURE_EQUAL:{value:O},bind:{value:P}});return t}function N(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return s?"fulfilled"===s.status?t(i,s.value.concat(e)):Promise.resolve(s).then(function(n){return t(i,n.concat(e))}):t(i,e)}var i=e.id,s=e.bound;A(r,i,s,n);return r}function D(e,t,n){function r(){var n=Array.prototype.slice.call(arguments);return t(e,n)}A(r,e,null,n);return r}function M(e,t,n,r){this.status=e;this.value=t;this.reason=n;this._response=r}M.prototype=Object.create(Promise.prototype);M.prototype.then=function(e,t){switch(this.status){case"resolved_model":W(this);break;case"resolved_module":H(this)}switch(this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":e&&(null===this.value&&(this.value=[]),this.value.push(e));t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t&&t(this.reason)}};function L(e){switch(e.status){case"resolved_model":W(e);break;case"resolved_module":H(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":throw e;default:throw e.reason}}function j(e){return new M("pending",null,null,e)}function F(e,t){for(var n=0;n<e.length;n++)(0,e[n])(t)}function B(e,t,n){switch(e.status){case"fulfilled":F(t,e.value);break;case"pending":case"blocked":if(e.value)for(var r=0;r<t.length;r++)e.value.push(t[r]);else e.value=t;if(e.reason){if(n)for(t=0;t<n.length;t++)e.reason.push(n[t])}else e.reason=n;break;case"rejected":n&&F(n,e.reason)}}function U(e,t){if("pending"!==e.status&&"blocked"!==e.status)e.reason.error(t);else{var n=e.reason;e.status="rejected";e.reason=t;null!==n&&F(n,t)}}function V(e,t,n){return new M("resolved_model",(n?'{"done":true,"value":':'{"done":false,"value":')+t+"}",null,e)}function z(e,t,n){q(e,(n?'{"done":true,"value":':'{"done":false,"value":')+t+"}")}function q(e,t){if("pending"!==e.status)e.reason.enqueueModel(t);else{var n=e.value,r=e.reason;e.status="resolved_model";e.value=t;null!==n&&(W(e),B(e,n,r))}}function $(e,t){if("pending"===e.status||"blocked"===e.status){var n=e.value,r=e.reason;e.status="resolved_module";e.value=t;null!==n&&(H(e),B(e,n,r))}}var G=null;function W(e){var t=G;G=null;var n=e.value;e.status="blocked";e.value=null;e.reason=null;try{var r=JSON.parse(n,e._response._fromJSON),i=e.value;null!==i&&(e.value=null,e.reason=null,F(i,r));if(null!==G){if(G.errored)throw G.value;if(0<G.deps){G.value=r;G.chunk=e;return}}e.status="fulfilled";e.value=r}catch(t){e.status="rejected",e.reason=t}finally{G=t}}function H(e){try{var t=d(e.value);e.status="fulfilled";e.value=t}catch(t){e.status="rejected",e.reason=t}}function K(e,t){e._closed=!0;e._closedReason=t;e._chunks.forEach(function(e){"pending"===e.status&&U(e,t)})}function Q(e){return{$$typeof:m,_payload:e,_init:L}}function Y(e,t){var n=e._chunks,r=n.get(t);r||(r=e._closed?new M("rejected",null,e._closedReason,e):j(e),n.set(t,r));return r}function X(e,t,n,r,i,s){function o(e){for(var l=1;l<s.length;l++){for(;e.$$typeof===m;)if(e=e._payload,e===c.chunk)e=c.value;else if("fulfilled"===e.status)e=e.value;else{s.splice(0,l-1);e.then(o,a);return}e=e[s[l]]}l=i(r,e,t,n);t[n]=l;""===n&&null===c.value&&(c.value=l);if(t[0]===p&&"object"===typeof c.value&&null!==c.value&&c.value.$$typeof===p)switch(e=c.value,n){case"3":e.props=l}c.deps--;0===c.deps&&(l=c.chunk,null!==l&&"blocked"===l.status&&(e=l.value,l.status="fulfilled",l.value=c.value,null!==e&&F(e,c.value)))}function a(e){if(!c.errored){c.errored=!0;c.value=e;var t=c.chunk;null!==t&&"blocked"===t.status&&U(t,e)}}if(G){var c=G;c.deps++}else c=G={parent:null,chunk:null,value:null,deps:1,errored:!1};e.then(o,a);return null}function J(e,t,n,r){if(!e._serverReferenceConfig)return N(t,e._callServer,e._encodeFormAction);var i=o(e._serverReferenceConfig,t.id),s=u(i);if(s)t.bound&&(s=Promise.all([s,t.bound]));else if(t.bound)s=Promise.resolve(t.bound);else return s=d(i),A(s,t.id,t.bound,e._encodeFormAction),s;if(G){var a=G;a.deps++}else a=G={parent:null,chunk:null,value:null,deps:1,errored:!1};s.then(function(){var s=d(i);if(t.bound){var o=t.bound.value.slice(0);o.unshift(null);s=s.bind.apply(s,o)}A(s,t.id,t.bound,e._encodeFormAction);n[r]=s;""===r&&null===a.value&&(a.value=s);if(n[0]===p&&"object"===typeof a.value&&null!==a.value&&a.value.$$typeof===p)switch(o=a.value,r){case"3":o.props=s}a.deps--;0===a.deps&&(s=a.chunk,null!==s&&"blocked"===s.status&&(o=s.value,s.status="fulfilled",s.value=a.value,null!==o&&F(o,a.value)))},function(e){if(!a.errored){a.errored=!0;a.value=e;var t=a.chunk;null!==t&&"blocked"===t.status&&U(t,e)}});return null}function Z(e,t,n,r,i){t=t.split(":");var s=parseInt(t[0],16);s=Y(e,s);switch(s.status){case"resolved_model":W(s);break;case"resolved_module":H(s)}switch(s.status){case"fulfilled":var o=s.value;for(s=1;s<t.length;s++){for(;o.$$typeof===m;)if(o=o._payload,"fulfilled"===o.status)o=o.value;else return X(o,n,r,e,i,t.slice(s-1));o=o[t[s]]}return i(e,o,n,r);case"pending":case"blocked":return X(s,n,r,e,i,t);default:return G?(G.errored=!0,G.value=s.reason):G={parent:null,chunk:null,value:s.reason,deps:0,errored:!0},null}}function ee(e,t){return new Map(t)}function et(e,t){return new Set(t)}function en(e,t){return new Blob(t.slice(1),{type:t[0]})}function er(e,t){e=new FormData;for(var n=0;n<t.length;n++)e.append(t[n][0],t[n][1]);return e}function ei(e,t){return t[Symbol.iterator]()}function es(e,t){return t}function eo(e,t,n,r){if("$"===r[0]){if("$"===r)return null!==G&&"0"===n&&(G={parent:G,chunk:null,value:null,deps:0,errored:!1}),p;switch(r[1]){case"$":return r.slice(1);case"L":return t=parseInt(r.slice(2),16),e=Y(e,t),Q(e);case"@":if(2===r.length)return new Promise(function(){});t=parseInt(r.slice(2),16);return Y(e,t);case"S":return Symbol.for(r.slice(2));case"F":return r=r.slice(2),Z(e,r,t,n,J);case"T":t="$"+r.slice(2);e=e._tempRefs;if(null==e)throw Error("Missing a temporary reference set but the RSC response returned a temporary reference. Pass a temporaryReference option with the set that was used with the reply.");return e.get(t);case"Q":return r=r.slice(2),Z(e,r,t,n,ee);case"W":return r=r.slice(2),Z(e,r,t,n,et);case"B":return r=r.slice(2),Z(e,r,t,n,en);case"K":return r=r.slice(2),Z(e,r,t,n,er);case"Z":return eg();case"i":return r=r.slice(2),Z(e,r,t,n,ei);case"I":return Infinity;case"-":return"$-0"===r?-0:-Infinity;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(r.slice(2)));case"n":return BigInt(r.slice(2));default:return r=r.slice(1),Z(e,r,t,n,es)}}return r}function ea(){throw Error('Trying to call a function from "use server" but the callServer option was not implemented in your router runtime.')}function ec(e,t,n,r,i,s,o){var a=new Map;this._bundlerConfig=e;this._serverReferenceConfig=t;this._moduleLoading=n;this._callServer=void 0!==r?r:ea;this._encodeFormAction=i;this._nonce=s;this._chunks=a;this._stringDecoder=new TextDecoder;this._fromJSON=null;this._rowLength=this._rowTag=this._rowID=this._rowState=0;this._buffer=[];this._closed=!1;this._closedReason=null;this._tempRefs=o;this._fromJSON=ew(this)}function el(e,t,n){var r=e._chunks,i=r.get(t);i&&"pending"!==i.status?i.reason.enqueueValue(n):r.set(t,new M("fulfilled",n,null,e))}function eu(e,t,n){var r=e._chunks,i=r.get(t);n=JSON.parse(n,e._fromJSON);var o=s(e._bundlerConfig,n);f(e._moduleLoading,n[1],e._nonce);if(n=u(o)){if(i){var a=i;a.status="blocked"}else a=new M("blocked",null,null,e),r.set(t,a);n.then(function(){return $(a,o)},function(e){return U(a,e)})}else i?$(i,o):r.set(t,new M("resolved_module",o,null,e))}function ed(e,t,n,r){var i=e._chunks,s=i.get(t);s?"pending"===s.status&&(e=s.value,s.status="fulfilled",s.value=n,s.reason=r,null!==e&&F(e,s.value)):i.set(t,new M("fulfilled",n,r,e))}function ef(e,t,n){var r=null;n=new ReadableStream({type:n,start:function(e){r=e}});var i=null;ed(e,t,n,{enqueueValue:function(e){null===i?r.enqueue(e):i.then(function(){r.enqueue(e)})},enqueueModel:function(t){if(null===i){var n=new M("resolved_model",t,null,e);W(n);"fulfilled"===n.status?r.enqueue(n.value):(n.then(function(e){return r.enqueue(e)},function(e){return r.error(e)}),i=n)}else{n=i;var s=j(e);s.then(function(e){return r.enqueue(e)},function(e){return r.error(e)});i=s;n.then(function(){i===s&&(i=null);q(s,t)})}},close:function(){if(null===i)r.close();else{var e=i;i=null;e.then(function(){return r.close()})}},error:function(e){if(null===i)r.error(e);else{var t=i;i=null;t.then(function(){return r.error(e)})}}})}function eh(){return this}function ep(e){e={next:e};e[v]=eh;return e}function em(e,t,n){var r=[],i=!1,s=0,o={};o=(o[v]=function(){var t=0;return ep(function(n){if(void 0!==n)throw Error("Values cannot be passed to next() of AsyncIterables passed to Client Components.");if(t===r.length){if(i)return new M("fulfilled",{done:!0,value:void 0},null,e);r[t]=j(e)}return r[t++]})},o);ed(e,t,n?o[v]():o,{enqueueValue:function(t){if(s===r.length)r[s]=new M("fulfilled",{done:!1,value:t},null,e);else{var n=r[s],i=n.value,o=n.reason;n.status="fulfilled";n.value={done:!1,value:t};null!==i&&B(n,i,o)}s++},enqueueModel:function(t){s===r.length?r[s]=V(e,t,!1):z(r[s],t,!1);s++},close:function(t){i=!0;s===r.length?r[s]=V(e,t,!0):z(r[s],t,!0);for(s++;s<r.length;)z(r[s++],'"$undefined"',!0)},error:function(t){i=!0;for(s===r.length&&(r[s]=j(e));s<r.length;)U(r[s++],t)}})}function eg(){var e=Error("An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error.");e.stack="Error: "+e.message;return e}function ey(e,t){for(var n=e.length,r=t.length,i=0;i<n;i++)r+=e[i].byteLength;r=new Uint8Array(r);for(var s=i=0;s<n;s++){var o=e[s];r.set(o,i);i+=o.byteLength}r.set(t,i);return r}function ev(e,t,n,r,i,s){n=0===n.length&&0===r.byteOffset%s?r:ey(n,r);i=new i(n.buffer,n.byteOffset,n.byteLength/s);el(e,t,i)}function eb(e,t,n,r,s){switch(n){case 65:el(e,t,ey(r,s).buffer);return;case 79:ev(e,t,r,s,Int8Array,1);return;case 111:el(e,t,0===r.length?s:ey(r,s));return;case 85:ev(e,t,r,s,Uint8ClampedArray,1);return;case 83:ev(e,t,r,s,Int16Array,2);return;case 115:ev(e,t,r,s,Uint16Array,2);return;case 76:ev(e,t,r,s,Int32Array,4);return;case 108:ev(e,t,r,s,Uint32Array,4);return;case 71:ev(e,t,r,s,Float32Array,4);return;case 103:ev(e,t,r,s,Float64Array,8);return;case 77:ev(e,t,r,s,BigInt64Array,8);return;case 109:ev(e,t,r,s,BigUint64Array,8);return;case 86:ev(e,t,r,s,DataView,1);return}for(var o=e._stringDecoder,a="",c=0;c<r.length;c++)a+=o.decode(r[c],i);r=a+=o.decode(s);switch(n){case 73:eu(e,t,r);break;case 72:t=r[0];r=r.slice(1);e=JSON.parse(r,e._fromJSON);r=h.d;switch(t){case"D":r.D(e);break;case"C":"string"===typeof e?r.C(e):r.C(e[0],e[1]);break;case"L":t=e[0];n=e[1];3===e.length?r.L(t,n,e[2]):r.L(t,n);break;case"m":"string"===typeof e?r.m(e):r.m(e[0],e[1]);break;case"X":"string"===typeof e?r.X(e):r.X(e[0],e[1]);break;case"S":"string"===typeof e?r.S(e):r.S(e[0],0===e[1]?void 0:e[1],3===e.length?e[2]:void 0);break;case"M":"string"===typeof e?r.M(e):r.M(e[0],e[1])}break;case 69:n=JSON.parse(r);r=eg();r.digest=n.digest;n=e._chunks;(s=n.get(t))?U(s,r):n.set(t,new M("rejected",null,r,e));break;case 84:n=e._chunks;(s=n.get(t))&&"pending"!==s.status?s.reason.enqueueValue(r):n.set(t,new M("fulfilled",r,null,e));break;case 78:case 68:case 87:throw Error("Failed to read a RSC payload created by a development version of React on the server while using a production version on the client. Always use matching versions on the server and the client.");case 82:ef(e,t,void 0);break;case 114:ef(e,t,"bytes");break;case 88:em(e,t,!1);break;case 120:em(e,t,!0);break;case 67:(e=e._chunks.get(t))&&"fulfilled"===e.status&&e.reason.close(""===r?'"$undefined"':r);break;default:n=e._chunks,(s=n.get(t))?q(s,r):n.set(t,new M("resolved_model",r,null,e))}}function ew(e){return function(t,n){if("string"===typeof n)return eo(e,this,t,n);if("object"===typeof n&&null!==n){if(n[0]===p){if(t={$$typeof:p,type:n[1],key:n[2],ref:null,props:n[3]},null!==G){if(n=G,G=n.parent,n.errored)t=new M("rejected",null,n.value,e),t=Q(t);else if(0<n.deps){var r=new M("blocked",null,null,e);n.value=t;n.chunk=r;t=Q(r)}}}else t=n;return t}return n}}function eE(){throw Error("Server Functions cannot be called during initial render. This would create a fetch waterfall. Try to use a Server Component to pass data to Client Components instead.")}function e_(e){return new ec(e.serverConsumerManifest.moduleMap,e.serverConsumerManifest.serverModuleMap,e.serverConsumerManifest.moduleLoading,eE,e.encodeFormAction,"string"===typeof e.nonce?e.nonce:void 0,e&&e.temporaryReferences?e.temporaryReferences:void 0)}function eS(e,t){function n(t){var s=t.value;if(t.done)K(e,Error("Connection closed."));else{var o=0,a=e._rowState;t=e._rowID;for(var c=e._rowTag,l=e._rowLength,u=e._buffer,d=s.length;o<d;){var f=-1;switch(a){case 0:f=s[o++];58===f?a=1:t=t<<4|(96<f?f-87:f-48);continue;case 1:a=s[o];84===a||65===a||79===a||111===a||85===a||83===a||115===a||76===a||108===a||71===a||103===a||77===a||109===a||86===a?(c=a,a=2,o++):64<a&&91>a||35===a||114===a||120===a?(c=a,a=3,o++):(c=0,a=3);continue;case 2:f=s[o++];44===f?a=4:l=l<<4|(96<f?f-87:f-48);continue;case 3:f=s.indexOf(10,o);break;case 4:f=o+l,f>s.length&&(f=-1)}var h=s.byteOffset+o;if(-1<f)l=new Uint8Array(s.buffer,h,f-o),eb(e,t,c,u,l),o=f,3===a&&o++,l=t=c=a=0,u.length=0;else{s=new Uint8Array(s.buffer,h,s.byteLength-o);u.push(s);l-=s.byteLength;break}}e._rowState=a;e._rowID=t;e._rowTag=c;e._rowLength=l;return i.read().then(n).catch(r)}}function r(t){K(e,t)}var i=t.getReader();i.read().then(n).catch(r)}t.createFromFetch=function(e,t){var n=e_(t);e.then(function(e){eS(n,e.body)},function(e){K(n,e)});return Y(n,0)};t.createFromReadableStream=function(e,t){t=e_(t);eS(t,e);return Y(t,0)};t.createServerReference=function(e){return D(e,eE)};t.createTemporaryReferenceSet=function(){return new Map};t.encodeReply=function(e,t){return new Promise(function(n,r){var i=T(e,"",t&&t.temporaryReferences?t.temporaryReferences:void 0,n,r);if(t&&t.signal){var s=t.signal;if(s.aborted)i(s.reason);else{var o=function(){i(s.reason);s.removeEventListener("abort",o)};s.addEventListener("abort",o)}}})};t.registerServerReference=function(e,t,n){A(e,t,null,n);return e}},21135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CompressionFilterFactory=t.CompressionFilter=void 0;const r=n(74075);const i=n(68655);const s=n(71271);const o=n(40962);const a=n(31359);const c=e=>{return typeof e==="number"&&typeof i.CompressionAlgorithms[e]==="string"};class l{async writeMessage(e,t){let n=e;if(t){n=await this.compressMessage(n)}const r=Buffer.allocUnsafe(n.length+5);r.writeUInt8(t?1:0,0);r.writeUInt32BE(n.length,1);n.copy(r,5);return r}async readMessage(e){const t=e.readUInt8(0)===1;let n=e.slice(5);if(t){n=await this.decompressMessage(n)}return n}}class u extends l{async compressMessage(e){return e}async writeMessage(e,t){const n=Buffer.allocUnsafe(e.length+5);n.writeUInt8(0,0);n.writeUInt32BE(e.length,1);e.copy(n,5);return n}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}}class d extends l{constructor(e){super();this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,n)=>{r.deflate(e,(e,r)=>{if(e){n(e)}else{t(r)}})})}decompressMessage(e){return new Promise((t,n)=>{let i=0;const o=[];const a=r.createInflate();a.on("data",e=>{o.push(e);i+=e.byteLength;if(this.maxRecvMessageLength!==-1&&i>this.maxRecvMessageLength){a.destroy();n({code:s.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`})}});a.on("end",()=>{t(Buffer.concat(o))});a.write(e);a.end()})}}class f extends l{constructor(e){super();this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,n)=>{r.gzip(e,(e,r)=>{if(e){n(e)}else{t(r)}})})}decompressMessage(e){return new Promise((t,n)=>{let i=0;const o=[];const a=r.createGunzip();a.on("data",e=>{o.push(e);i+=e.byteLength;if(this.maxRecvMessageLength!==-1&&i>this.maxRecvMessageLength){a.destroy();n({code:s.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`})}});a.on("end",()=>{t(Buffer.concat(o))});a.write(e);a.end()})}}class h extends l{constructor(e){super();this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}}function p(e,t){switch(e){case"identity":return new u;case"deflate":return new d(t);case"gzip":return new f(t);default:return new h(e)}}class m extends o.BaseFilter{constructor(e,t){var n,r;super();this.sharedFilterConfig=t;this.sendCompression=new u;this.receiveCompression=new u;this.currentCompressionAlgorithm="identity";const o=e["grpc.default_compression_algorithm"];this.maxReceiveMessageLength=(n=e["grpc.max_receive_message_length"])!==null&&n!==void 0?n:s.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;if(o!==undefined){if(c(o)){const e=i.CompressionAlgorithms[o];const n=(r=t.serverSupportedEncodingHeader)===null||r===void 0?void 0:r.split(",");if(!n||n.includes(e)){this.currentCompressionAlgorithm=e;this.sendCompression=p(this.currentCompressionAlgorithm,-1)}}else{a.log(s.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${o}`)}}}async sendMetadata(e){const t=await e;t.set("grpc-accept-encoding","identity,deflate,gzip");t.set("accept-encoding","identity");if(this.currentCompressionAlgorithm==="identity"){t.remove("grpc-encoding")}else{t.set("grpc-encoding",this.currentCompressionAlgorithm)}return t}receiveMetadata(e){const t=e.get("grpc-encoding");if(t.length>0){const e=t[0];if(typeof e==="string"){this.receiveCompression=p(e,this.maxReceiveMessageLength)}}e.remove("grpc-encoding");const n=e.get("grpc-accept-encoding")[0];if(n){this.sharedFilterConfig.serverSupportedEncodingHeader=n;const e=n.split(",");if(!e.includes(this.currentCompressionAlgorithm)){this.sendCompression=new u;this.currentCompressionAlgorithm="identity"}}e.remove("grpc-accept-encoding");return e}async sendMessage(e){var t;const n=await e;let r;if(this.sendCompression instanceof u){r=false}else{r=(((t=n.flags)!==null&&t!==void 0?t:0)&2)===0}return{message:await this.sendCompression.writeMessage(n.message,r),flags:n.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}}t.CompressionFilter=m;class g{constructor(e,t){this.options=t;this.sharedFilterConfig={}}createFilter(){return new m(this.options,this.sharedFilterConfig)}}t.CompressionFilterFactory=g},21709:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{bootstrap:function(){return l},error:function(){return d},event:function(){return m},info:function(){return p},prefixes:function(){return o},ready:function(){return h},trace:function(){return g},wait:function(){return u},warn:function(){return f},warnOnce:function(){return v}});const i=n(75317);const s=n(38522);const o={wait:(0,i.white)((0,i.bold)("")),error:(0,i.red)((0,i.bold)("")),warn:(0,i.yellow)((0,i.bold)("")),ready:"",info:(0,i.white)((0,i.bold)(" ")),event:(0,i.green)((0,i.bold)("")),trace:(0,i.magenta)((0,i.bold)("\xbb"))};const a={log:"log",warn:"warn",error:"error"};function c(e,...t){if((t[0]===""||t[0]===undefined)&&t.length===1){t.shift()}const n=e in a?a[e]:"log";const r=o[e];if(t.length===0){console[n]("")}else{if(t.length===1&&typeof t[0]==="string"){console[n](" "+r+" "+t[0])}else{console[n](" "+r,...t)}}}function l(...e){console.log("   "+e.join(" "))}function u(...e){c("wait",...e)}function d(...e){c("error",...e)}function f(...e){c("warn",...e)}function h(...e){c("ready",...e)}function p(...e){c("info",...e)}function m(...e){c("event",...e)}function g(...e){c("trace",...e)}const y=new s.LRUCache(1e4,e=>e.length);function v(...e){const t=e.join(" ");if(!y.has(t)){y.set(t,t);f(...e)}}},22113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{DynamicServerError:function(){return i},isDynamicServerError:function(){return s}});const r="DYNAMIC_SERVER_USAGE";class i extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function s(e){if(typeof e!=="object"||e===null||!("digest"in e)||typeof e.digest!=="string"){return false}return e.digest===r}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},22142:(e,t,n)=>{"use strict";e.exports=n(94041).vendored.contexts.AppRouterContext},22586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{getComponentTypeModule:function(){return o},getLayoutOrPageModule:function(){return s}});const i=n(35499);async function s(e){const{layout:t,page:n,defaultPage:r}=e[2];const s=typeof t!=="undefined";const o=typeof n!=="undefined";const a=typeof r!=="undefined"&&e[0]===i.DEFAULT_SEGMENT_KEY;let c=undefined;let l=undefined;let u=undefined;if(s){c=await t[0]();l="layout";u=t[1]}else if(o){c=await n[0]();l="page";u=n[1]}else if(a){c=await r[0]();l="page";u=r[1]}return{mod:c,modType:l,filePath:u}}async function o(e,t){const{[t]:n}=e[2];if(typeof n!=="undefined"){return await n[0]()}return undefined}},24168:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ClientDuplexStreamImpl=t.ClientWritableStreamImpl=t.ClientReadableStreamImpl=t.ClientUnaryCallImpl=t.callErrorFromStatus=void 0;const r=n(94735);const i=n(27910);const s=n(71271);function o(e,t){const n=`${e.code} ${s.Status[e.code]}: ${e.details}`;const r=new Error(n);const i=`${r.stack}
for call at
${t}`;return Object.assign(new Error(n),e,{stack:i})}t.callErrorFromStatus=o;class a extends r.EventEmitter{constructor(){super()}cancel(){var e;(e=this.call)===null||e===void 0?void 0:e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}}t.ClientUnaryCallImpl=a;class c extends i.Readable{constructor(e){super({objectMode:true});this.deserialize=e}cancel(){var e;(e=this.call)===null||e===void 0?void 0:e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0?void 0:t.startRead()}}t.ClientReadableStreamImpl=c;class l extends i.Writable{constructor(e){super({objectMode:true});this.serialize=e}cancel(){var e;(e=this.call)===null||e===void 0?void 0:e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_write(e,t,n){var r;const i={callback:n};const s=Number(t);if(!Number.isNaN(s)){i.flags=s}(r=this.call)===null||r===void 0?void 0:r.sendMessageWithContext(i,e)}_final(e){var t;(t=this.call)===null||t===void 0?void 0:t.halfClose();e()}}t.ClientWritableStreamImpl=l;class u extends i.Duplex{constructor(e,t){super({objectMode:true});this.serialize=e;this.deserialize=t}cancel(){var e;(e=this.call)===null||e===void 0?void 0:e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0?void 0:t.startRead()}_write(e,t,n){var r;const i={callback:n};const s=Number(t);if(!Number.isNaN(s)){i.flags=s}(r=this.call)===null||r===void 0?void 0:r.sendMessageWithContext(i,e)}_final(e){var t;(t=this.call)===null||t===void 0?void 0:t.halfClose();e()}}t.ClientDuplexStreamImpl=u},24207:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{METADATA_BOUNDARY_NAME:function(){return r},OUTLET_BOUNDARY_NAME:function(){return s},VIEWPORT_BOUNDARY_NAME:function(){return i}});const r="__next_metadata_boundary__";const i="__next_viewport_boundary__";const s="__next_outlet_boundary__"},24224:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var r=n(49384);const i=e=>typeof e==="boolean"?`${e}`:e===0?"0":e;const s=r.$;const o=(e,t)=>n=>{var r;if((t===null||t===void 0?void 0:t.variants)==null)return s(e,n===null||n===void 0?void 0:n.class,n===null||n===void 0?void 0:n.className);const{variants:o,defaultVariants:a}=t;const c=Object.keys(o).map(e=>{const t=n===null||n===void 0?void 0:n[e];const r=a===null||a===void 0?void 0:a[e];if(t===null)return null;const s=i(t)||i(r);return o[e][s]});const l=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;if(r===undefined){return e}e[n]=r;return e},{});const u=t===null||t===void 0?void 0:(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...a,...l}[t]):({...a,...l})[t]===n})?[...e,n,r]:e},[]);return s(e,c,u,n===null||n===void 0?void 0:n.class,n===null||n===void 0?void 0:n.className)}},24353:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Subchannel=void 0;const r=n(18155);const i=n(50268);const s=n(31359);const o=n(71271);const a=n(26786);const c=n(43356);const l=n(66827);const u="subchannel";const d=~(1<<31);class f{constructor(e,t,n,s,o){var a;this.channelTarget=e;this.subchannelAddress=t;this.options=n;this.credentials=s;this.connector=o;this.connectivityState=r.ConnectivityState.IDLE;this.transport=null;this.continueConnecting=false;this.stateListeners=new Set;this.refcount=0;this.channelzEnabled=true;this.callTracker=new l.ChannelzCallTracker;this.childrenTracker=new l.ChannelzChildrenTracker;this.streamTracker=new l.ChannelzCallTracker;const u={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new i.BackoffTimeout(()=>{this.handleBackoffTimer()},u);this.backoffTimeout.unref();this.subchannelAddressString=(0,c.subchannelAddressToString)(t);this.keepaliveTime=(a=n["grpc.keepalive_time_ms"])!==null&&a!==void 0?a:-1;if(n["grpc.enable_channelz"]===0){this.channelzEnabled=false}this.channelzTrace=new l.ChannelzTrace;this.channelzRef=(0,l.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled);if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Subchannel created")}this.trace("Subchannel constructed with options "+JSON.stringify(n,undefined,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){s.trace(o.LogVerbosity.DEBUG,u,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){s.trace(o.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){if(this.continueConnecting){this.transitionToState([r.ConnectivityState.TRANSIENT_FAILURE],r.ConnectivityState.CONNECTING)}else{this.transitionToState([r.ConnectivityState.TRANSIENT_FAILURE],r.ConnectivityState.IDLE)}}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop();this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){const t=Math.min(this.keepaliveTime,d);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(e=>{if(this.transitionToState([r.ConnectivityState.CONNECTING],r.ConnectivityState.READY)){this.transport=e;if(this.channelzEnabled){this.childrenTracker.refChild(e.getChannelzRef())}e.addDisconnectListener(e=>{this.transitionToState([r.ConnectivityState.READY],r.ConnectivityState.IDLE);if(e&&this.keepaliveTime>0){this.keepaliveTime*=2;s.log(o.LogVerbosity.ERROR,`Connection to ${(0,a.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`)}})}else{e.shutdown()}},e=>{this.transitionToState([r.ConnectivityState.CONNECTING],r.ConnectivityState.TRANSIENT_FAILURE,`${e}`)})}transitionToState(e,t,n){var i,s;if(e.indexOf(this.connectivityState)===-1){return false}this.trace(r.ConnectivityState[this.connectivityState]+" -> "+r.ConnectivityState[t]);if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+r.ConnectivityState[t])}const o=this.connectivityState;this.connectivityState=t;switch(t){case r.ConnectivityState.READY:this.stopBackoff();break;case r.ConnectivityState.CONNECTING:this.startBackoff();this.startConnectingInternal();this.continueConnecting=false;break;case r.ConnectivityState.TRANSIENT_FAILURE:if(this.channelzEnabled&&this.transport){this.childrenTracker.unrefChild(this.transport.getChannelzRef())}(i=this.transport)===null||i===void 0?void 0:i.shutdown();this.transport=null;if(!this.backoffTimeout.isRunning()){process.nextTick(()=>{this.handleBackoffTimer()})}break;case r.ConnectivityState.IDLE:if(this.channelzEnabled&&this.transport){this.childrenTracker.unrefChild(this.transport.getChannelzRef())}(s=this.transport)===null||s===void 0?void 0:s.shutdown();this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${t}`)}for(const e of this.stateListeners){e(this,o,t,this.keepaliveTime,n)}return true}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1));this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1));this.refcount-=1;if(this.refcount===0){if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Shutting down")}if(this.channelzEnabled){(0,l.unregisterChannelzRef)(this.channelzRef)}process.nextTick(()=>{this.transitionToState([r.ConnectivityState.CONNECTING,r.ConnectivityState.READY],r.ConnectivityState.IDLE)})}}unrefIfOneRef(){if(this.refcount===1){this.unref();return true}return false}createCall(e,t,n,r){if(!this.transport){throw new Error("Cannot create call, subchannel not READY")}let i;if(this.channelzEnabled){this.callTracker.addCallStarted();this.streamTracker.addCallStarted();i={onCallEnd:e=>{if(e.code===o.Status.OK){this.callTracker.addCallSucceeded()}else{this.callTracker.addCallFailed()}}}}else{i={}}return this.transport.createCall(e,t,n,r,i)}startConnecting(){process.nextTick(()=>{if(!this.transitionToState([r.ConnectivityState.IDLE],r.ConnectivityState.CONNECTING)){if(this.connectivityState===r.ConnectivityState.TRANSIENT_FAILURE){this.continueConnecting=true}}})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset();this.transitionToState([r.ConnectivityState.TRANSIENT_FAILURE],r.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e}}}t.Subchannel=f},25028:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(43210);var i=n(51215);var s=n(3416);var o=n(66156);var a=n(60687);var c="Portal";var l=r.forwardRef((e,t)=>{const{container:n,...c}=e;const[l,u]=r.useState(false);(0,o.N)(()=>u(true),[]);const d=n||l&&globalThis?.document?.body;return d?i.createPortal((0,a.jsx)(s.sG.div,{...c,ref:t}),d):null});l.displayName=c;var u=null&&l},25585:(e,t,n)=>{"use strict";e.exports=o;var r=n(73267);((o.prototype=Object.create(r.prototype)).constructor=o).className="MapField";var i=n(61810),s=n(93107);function o(e,t,n,i,o,a){r.call(this,e,t,i,undefined,undefined,o,a);if(!s.isString(n))throw TypeError("keyType must be a string");this.keyType=n;this.resolvedKeyType=null;this.map=true}o.fromJSON=function e(e,t){return new o(e,t.id,t.keyType,t.type,t.options,t.comment)};o.prototype.toJSON=function e(e){var t=e?Boolean(e.keepComments):false;return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])};o.prototype.resolve=function e(){if(this.resolved)return this;if(i.mapKey[this.keyType]===undefined)throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)};o.d=function e(e,t,n){if(typeof n==="function")n=s.decorateType(n).name;else if(n&&typeof n==="object")n=s.decorateEnum(n).name;return function r(r,i){s.decorateType(r.constructor).add(new o(i,e,t,n))}}},26412:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.deadlineToString=t.getRelativeTimeout=t.getDeadlineTimeoutString=t.minDeadline=void 0;function n(...e){let t=Infinity;for(const n of e){const e=n instanceof Date?n.getTime():n;if(e<t){t=e}}return t}t.minDeadline=n;const r=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function i(e){const t=new Date().getTime();if(e instanceof Date){e=e.getTime()}const n=Math.max(e-t,0);for(const[e,t]of r){const r=n/t;if(r<1e8){return String(Math.ceil(r))+e}}throw new Error("Deadline is too far in the future")}t.getDeadlineTimeoutString=i;const s=0x7fffffff;function o(e){const t=e instanceof Date?e.getTime():e;const n=new Date().getTime();const r=t-n;if(r<0){return 0}else if(r>s){return Infinity}else{return r}}t.getRelativeTimeout=o;function a(e){if(e instanceof Date){return e.toISOString()}else{const t=new Date(e);if(Number.isNaN(t.getTime())){return""+e}else{return t.toISOString()}}}t.deadlineToString=a},26786:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.uriToString=t.splitHostPort=t.parseUri=void 0;const n=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function r(e){const t=n.exec(e);if(t===null){return null}return{scheme:t[1],authority:t[2],path:t[3]}}t.parseUri=r;const i=/^\d+$/;function s(e){if(e.startsWith("[")){const t=e.indexOf("]");if(t===-1){return null}const n=e.substring(1,t);if(n.indexOf(":")===-1){return null}if(e.length>t+1){if(e[t+1]===":"){const r=e.substring(t+2);if(i.test(r)){return{host:n,port:+r}}else{return null}}else{return null}}else{return{host:n}}}else{const t=e.split(":");if(t.length===2){if(i.test(t[1])){return{host:t[0],port:+t[1]}}else{return null}}else{return{host:e}}}}t.splitHostPort=s;function o(e){let t="";if(e.scheme!==undefined){t+=e.scheme+":"}if(e.authority!==undefined){t+="//"+e.authority+"/"}t+=e.path;return t}t.uriToString=o},26996:(e,t,n)=>{"use strict";e.exports=c;var r=n(8707);var i;var s=r.LongBits,o=r.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e;this.pos=0;this.len=e.length}var l=typeof Uint8Array!=="undefined"?function e(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function e(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")};var u=function e(){return r.Buffer?function e(e){return(c.create=function e(e){return r.Buffer.isBuffer(e)?new i(e):l(e)})(e)}:l};c.create=u();c.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice;c.prototype.uint32=function e(){var e=0xffffffff;return function t(){e=(this.buf[this.pos]&127)>>>0;if(this.buf[this.pos++]<128)return e;e=(e|(this.buf[this.pos]&127)<<7)>>>0;if(this.buf[this.pos++]<128)return e;e=(e|(this.buf[this.pos]&127)<<14)>>>0;if(this.buf[this.pos++]<128)return e;e=(e|(this.buf[this.pos]&127)<<21)>>>0;if(this.buf[this.pos++]<128)return e;e=(e|(this.buf[this.pos]&15)<<28)>>>0;if(this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len){this.pos=this.len;throw a(this,10)}return e}}();c.prototype.int32=function e(){return this.uint32()|0};c.prototype.sint32=function e(){var e=this.uint32();return e>>>1^-(e&1)|0};function d(){var e=new s(0,0);var t=0;if(this.len-this.pos>4){for(;t<4;++t){e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0;if(this.buf[this.pos++]<128)return e}e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0;e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0;if(this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw a(this);e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0;if(this.buf[this.pos++]<128)return e}e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0;return e}if(this.len-this.pos>4){for(;t<5;++t){e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0;if(this.buf[this.pos++]<128)return e}}else{for(;t<5;++t){if(this.pos>=this.len)throw a(this);e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0;if(this.buf[this.pos++]<128)return e}}throw Error("invalid varint encoding")}c.prototype.bool=function e(){return this.uint32()!==0};function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}c.prototype.fixed32=function e(){if(this.pos+4>this.len)throw a(this,4);return f(this.buf,this.pos+=4)};c.prototype.sfixed32=function e(){if(this.pos+4>this.len)throw a(this,4);return f(this.buf,this.pos+=4)|0};function h(){if(this.pos+8>this.len)throw a(this,8);return new s(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.prototype.float=function e(){if(this.pos+4>this.len)throw a(this,4);var e=r.float.readFloatLE(this.buf,this.pos);this.pos+=4;return e};c.prototype.double=function e(){if(this.pos+8>this.len)throw a(this,4);var e=r.float.readDoubleLE(this.buf,this.pos);this.pos+=8;return e};c.prototype.bytes=function e(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw a(this,e);this.pos+=e;if(Array.isArray(this.buf))return this.buf.slice(t,n);if(t===n){var i=r.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,n)};c.prototype.string=function e(){var e=this.bytes();return o.read(e,0,e.length)};c.prototype.skip=function e(e){if(typeof e==="number"){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else{do{if(this.pos>=this.len)throw a(this)}while(this.buf[this.pos++]&128)}return this};c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:while((e=this.uint32()&7)!==4){this.skipType(e)}break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};c._configure=function(e){i=e;c.create=u();i._configure();var t=r.Long?"toLong":"toNumber";r.merge(c.prototype,{int64:function e(){return d.call(this)[t](false)},uint64:function e(){return d.call(this)[t](true)},sint64:function e(){return d.call(this).zzDecode()[t](false)},fixed64:function e(){return h.call(this)[t](true)},sfixed64:function e(){return h.call(this)[t](false)}})}},27236:(e,t,n)=>{"use strict";var r=t;r.Service=n(86984)},27408:(e,t,n)=>{"use strict";e.exports=T;T.filename=null;T.defaults={keepCase:false};var r=n(60158),i=n(82703),s=n(54351),o=n(73267),a=n(25585),c=n(12630),l=n(32110),u=n(3076),d=n(71202),f=n(64824),h=n(61810),p=n(93107);var m=/^[1-9][0-9]*$/,g=/^-?[1-9][0-9]*$/,y=/^0[x][0-9a-fA-F]+$/,v=/^-?0[x][0-9a-fA-F]+$/,b=/^0[0-7]+$/,w=/^-?0[0-7]+$/,E=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,_=/^[a-zA-Z_][a-zA-Z_0-9]*$/,S=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function T(e,t,n){if(!(t instanceof i)){n=t;t=new i}if(!n)n=T.defaults;var C=n.preferTrailingComment||false;var I=r(e,n.alternateCommentMode||false),R=I.next,O=I.push,A=I.peek,k=I.skip,x=I.cmnt;var P=true,N,D,M,L="proto2";var j=t;var F=[];var B={};var U=n.keepCase?function(e){return e}:p.camelCase;function V(){F.forEach(e=>{e._edition=L;Object.keys(B).forEach(t=>{if(e.getOption(t)!==undefined)return;e.setOption(t,B[t],true)})})}function z(e,t,n){var r=T.filename;if(!n)T.filename=null;return Error("illegal "+(t||"token")+" '"+e+"' ("+(r?r+", ":"")+"line "+I.line+")")}function q(){var e=[],t;do{if((t=R())!=='"'&&t!=="'")throw z(t);e.push(R());k(t);t=A()}while(t==='"'||t==="'");return e.join("")}function $(e){var t=R();switch(t){case"'":case'"':O(t);return q();case"true":case"TRUE":return true;case"false":case"FALSE":return false}try{return W(t,true)}catch(n){if(e&&S.test(t))return t;throw z(t,"value")}}function G(e,t){var n,r;do{if(t&&((n=A())==='"'||n==="'")){var i=q();e.push(i);if(L>=2023){throw z(i,"id")}}else{try{e.push([r=H(R()),k("to",true)?H(R()):r])}catch(r){if(t&&S.test(n)&&L>=2023){e.push(n)}else{throw r}}}}while(k(",",true));var s={options:undefined};s.setOption=function(e,t){if(this.options===undefined)this.options={};this.options[e]=t};Z(s,function e(e){if(e==="option"){ea(s,e);k(";")}else throw z(e)},function e(){ed(s)})}function W(e,t){var n=1;if(e.charAt(0)==="-"){n=-1;e=e.substring(1)}switch(e){case"inf":case"INF":case"Inf":return n*Infinity;case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(m.test(e))return n*parseInt(e,10);if(y.test(e))return n*parseInt(e,16);if(b.test(e))return n*parseInt(e,8);if(E.test(e))return n*parseFloat(e);throw z(e,"number",t)}function H(e,t){switch(e){case"max":case"MAX":case"Max":return 0x1fffffff;case"0":return 0}if(!t&&e.charAt(0)==="-")throw z(e,"id");if(g.test(e))return parseInt(e,10);if(v.test(e))return parseInt(e,16);if(w.test(e))return parseInt(e,8);throw z(e,"id")}function K(){if(N!==undefined)throw z("package");N=R();if(!S.test(N))throw z(N,"name");j=j.define(N);k(";")}function Q(){var e=A();var t;switch(e){case"weak":t=M||(M=[]);R();break;case"public":R();default:t=D||(D=[]);break}e=q();k(";");t.push(e)}function Y(){k("=");L=q();if(L<2023)throw z(L,"syntax");k(";")}function X(){k("=");L=q();const e=["2023"];if(!e.includes(L))throw z(L,"edition");k(";")}function J(e,t){switch(t){case"option":ea(e,t);k(";");return true;case"message":ee(e,t);return true;case"enum":es(e,t);return true;case"service":ef(e,t);return true;case"extend":ep(e,t);return true}return false}function Z(e,t,n){var r=I.line;if(e){if(typeof e.comment!=="string"){e.comment=x()}e.filename=T.filename}if(k("{",true)){var i;while((i=R())!=="}")t(i);k(";",true)}else{if(n)n();k(";");if(e&&(typeof e.comment!=="string"||C))e.comment=x(r)||e.comment}}function ee(e,t){if(!_.test(t=R()))throw z(t,"type name");var n=new s(t);Z(n,function e(e){if(J(n,e))return;switch(e){case"map":er(n,e);break;case"required":if(L!=="proto2")throw z(e);case"repeated":et(n,e);break;case"optional":if(L==="proto3"){et(n,"proto3_optional")}else if(L!=="proto2"){throw z(e)}else{et(n,"optional")}break;case"oneof":ei(n,e);break;case"extensions":G(n.extensions||(n.extensions=[]));break;case"reserved":G(n.reserved||(n.reserved=[]),true);break;default:if(L==="proto2"||!S.test(e)){throw z(e)}O(e);et(n,"optional");break}});e.add(n);if(e===j){F.push(n)}}function et(e,t,n){var r=R();if(r==="group"){en(e,t);return}while(r.endsWith(".")||A().startsWith(".")){r+=R()}if(!S.test(r))throw z(r,"type");var i=R();if(!_.test(i))throw z(i,"name");i=U(i);k("=");var s=new o(i,H(R()),r,t,n);Z(s,function e(e){if(e==="option"){ea(s,e);k(";")}else throw z(e)},function e(){ed(s)});if(t==="proto3_optional"){var a=new c("_"+i);s.setOption("proto3_optional",true);a.add(s);e.add(a)}else{e.add(s)}if(e===j){F.push(s)}}function en(e,t){if(L>=2023){throw z("group")}var n=R();if(!_.test(n))throw z(n,"name");var r=p.lcFirst(n);if(n===r)n=p.ucFirst(n);k("=");var i=H(R());var a=new s(n);a.group=true;var c=new o(r,i,n,t);c.filename=T.filename;Z(a,function e(e){switch(e){case"option":ea(a,e);k(";");break;case"required":case"repeated":et(a,e);break;case"optional":if(L==="proto3"){et(a,"proto3_optional")}else{et(a,"optional")}break;case"message":ee(a,e);break;case"enum":es(a,e);break;case"reserved":G(a.reserved||(a.reserved=[]),true);break;default:throw z(e)}});e.add(a).add(c)}function er(e){k("<");var t=R();if(h.mapKey[t]===undefined)throw z(t,"type");k(",");var n=R();if(!S.test(n))throw z(n,"type");k(">");var r=R();if(!_.test(r))throw z(r,"name");k("=");var i=new a(U(r),H(R()),t,n);Z(i,function e(e){if(e==="option"){ea(i,e);k(";")}else throw z(e)},function e(){ed(i)});e.add(i)}function ei(e,t){if(!_.test(t=R()))throw z(t,"name");var n=new c(U(t));Z(n,function e(e){if(e==="option"){ea(n,e);k(";")}else{O(e);et(n,"optional")}});e.add(n)}function es(e,t){if(!_.test(t=R()))throw z(t,"name");var n=new l(t);Z(n,function e(e){switch(e){case"option":ea(n,e);k(";");break;case"reserved":G(n.reserved||(n.reserved=[]),true);if(n.reserved===undefined)n.reserved=[];break;default:eo(n,e)}});e.add(n);if(e===j){F.push(n)}}function eo(e,t){if(!_.test(t))throw z(t,"name");k("=");var n=H(R(),true),r={options:undefined};r.getOption=function(e){return this.options[e]};r.setOption=function(e,t){f.prototype.setOption.call(r,e,t)};r.setParsedOption=function(){return undefined};Z(r,function e(e){if(e==="option"){ea(r,e);k(";")}else throw z(e)},function e(){ed(r)});e.add(t,n,r.comment,r.parsedOptions||r.options)}function ea(e,t){var n;var r;var i=true;if(t==="option"){t=R()}while(t!=="="){if(t==="("){var s=R();k(")");t="("+s+")"}if(i){i=false;if(t.includes(".")&&!t.includes("(")){var o=t.split(".");n=o[0]+".";t=o[1];continue}n=t}else{r=r?r+=t:t}t=R()}var a=r?n.concat(r):n;var c=ec(e,a);r=r&&r[0]==="."?r.slice(1):r;n=n&&n[n.length-1]==="."?n.slice(0,-1):n;eu(e,n,c,r)}function ec(e,t){if(k("{",true)){var n={};while(!k("}",true)){if(!_.test(em=R())){throw z(em,"name")}if(em===null){throw z(em,"end of input")}var r;var i=em;k(":",true);if(A()==="{"){r=ec(e,t+"."+em)}else if(A()==="["){r=[];var s;if(k("[",true)){do{s=$(true);r.push(s)}while(k(",",true));k("]");if(typeof s!=="undefined"){el(e,t+"."+em,s)}}}else{r=$(true);el(e,t+"."+em,r)}var o=n[i];if(o)r=[].concat(o).concat(r);n[i]=r;k(",",true);k(";",true)}return n}var a=$(true);el(e,t,a);return a}function el(e,t,n){if(j===e&&/^features\./.test(t)){B[t]=n;return}if(e.setOption)e.setOption(t,n)}function eu(e,t,n,r){if(e.setParsedOption)e.setParsedOption(t,n,r)}function ed(e){if(k("[",true)){do{ea(e,"option")}while(k(",",true));k("]")}return e}function ef(e,t){if(!_.test(t=R()))throw z(t,"service name");var n=new u(t);Z(n,function e(e){if(J(n,e)){return}if(e==="rpc")eh(n,e);else throw z(e)});e.add(n);if(e===j){F.push(n)}}function eh(e,t){var n=x();var r=t;if(!_.test(t=R()))throw z(t,"name");var i=t,s,o,a,c;k("(");if(k("stream",true))o=true;if(!S.test(t=R()))throw z(t);s=t;k(")");k("returns");k("(");if(k("stream",true))c=true;if(!S.test(t=R()))throw z(t);a=t;k(")");var l=new d(i,r,s,a,o,c);l.comment=n;Z(l,function e(e){if(e==="option"){ea(l,e);k(";")}else throw z(e)});e.add(l)}function ep(e,t){if(!S.test(t=R()))throw z(t,"reference");var n=t;Z(null,function t(t){switch(t){case"required":case"repeated":et(e,t,n);break;case"optional":if(L==="proto3"){et(e,"proto3_optional",n)}else{et(e,"optional",n)}break;default:if(L==="proto2"||!S.test(t))throw z(t);O(t);et(e,"optional",n);break}})}var em;while((em=R())!==null){switch(em){case"package":if(!P)throw z(em);K();break;case"import":if(!P)throw z(em);Q();break;case"syntax":if(!P)throw z(em);Y();break;case"edition":if(!P)throw z(em);X();break;case"option":ea(j,em);k(";",true);break;default:if(J(j,em)){P=false;continue}throw z(em)}}V();T.filename=null;return{"package":N,"imports":D,weakImports:M,root:t}}},27603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.addCommonProtos=t.loadProtosWithOptionsSync=t.loadProtosWithOptions=void 0;const r=n(29021);const i=n(33873);const s=n(68474);function o(e,t){const n=e.resolvePath;e.resolvePath=(e,s)=>{if(i.isAbsolute(s)){return s}for(const e of t){const t=i.join(e,s);try{r.accessSync(t,r.constants.R_OK);return t}catch(e){continue}}process.emitWarning(`${s} not found in any of the include paths ${t}`);return n(e,s)}}async function a(e,t){const n=new s.Root;t=t||{};if(!!t.includeDirs){if(!Array.isArray(t.includeDirs)){return Promise.reject(new Error("The includeDirs option must be an array"))}o(n,t.includeDirs)}const r=await n.load(e,t);r.resolveAll();return r}t.loadProtosWithOptions=a;function c(e,t){const n=new s.Root;t=t||{};if(!!t.includeDirs){if(!Array.isArray(t.includeDirs)){throw new Error("The includeDirs option must be an array")}o(n,t.includeDirs)}const r=n.loadSync(e,t);r.resolveAll();return r}t.loadProtosWithOptionsSync=c;function l(){const e=n(82566);const t=n(20040);const r=n(56271);const i=n(96138);s.common("api",e.nested.google.nested.protobuf.nested);s.common("descriptor",t.nested.google.nested.protobuf.nested);s.common("source_context",r.nested.google.nested.protobuf.nested);s.common("type",i.nested.google.nested.protobuf.nested)}t.addCommonProtos=l},27728:(e,t,n)=>{"use strict";n.d(t,{MF:()=>eI,j6:()=>eg,xZ:()=>eb,om:()=>em,Sx:()=>eA,Dk:()=>ek,Wp:()=>eR,KO:()=>eP});var r=n(35545);var i=n(88060);var s=n(52122);const o=(e,t)=>t.some(t=>e instanceof t);let a;let c;function l(){return a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u(){return c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d=new WeakMap;const f=new WeakMap;const h=new WeakMap;const p=new WeakMap;const m=new WeakMap;function g(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i);e.removeEventListener("error",s)};const i=()=>{t(_(e.result));r()};const s=()=>{n(e.error);r()};e.addEventListener("success",i);e.addEventListener("error",s)});t.then(t=>{if(t instanceof IDBCursor){d.set(t,e)}}).catch(()=>{});m.set(t,e);return t}function y(e){if(f.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i);e.removeEventListener("error",s);e.removeEventListener("abort",s)};const i=()=>{t();r()};const s=()=>{n(e.error||new DOMException("AbortError","AbortError"));r()};e.addEventListener("complete",i);e.addEventListener("error",s);e.addEventListener("abort",s)});f.set(e,t)}let v={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return f.get(e);if(t==="objectStoreNames"){return e.objectStoreNames||h.get(e)}if(t==="store"){return n.objectStoreNames[1]?undefined:n.objectStore(n.objectStoreNames[0])}}return _(e[t])},set(e,t,n){e[t]=n;return true},has(e,t){if(e instanceof IDBTransaction&&(t==="done"||t==="store")){return true}return t in e}};function b(e){v=e(v)}function w(e){if(e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)){return function(t,...n){const r=e.call(S(this),t,...n);h.set(r,t.sort?t.sort():[t]);return _(r)}}if(u().includes(e)){return function(...t){e.apply(S(this),t);return _(d.get(this))}}return function(...t){return _(e.apply(S(this),t))}}function E(e){if(typeof e==="function")return w(e);if(e instanceof IDBTransaction)y(e);if(o(e,l()))return new Proxy(e,v);return e}function _(e){if(e instanceof IDBRequest)return g(e);if(p.has(e))return p.get(e);const t=E(e);if(t!==e){p.set(e,t);m.set(t,e)}return t}const S=e=>m.get(e);function T(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t);const a=_(o);if(r){o.addEventListener("upgradeneeded",e=>{r(_(o.result),e.oldVersion,e.newVersion,_(o.transaction),e)})}if(n){o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e))}a.then(e=>{if(s)e.addEventListener("close",()=>s());if(i){e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}}).catch(()=>{});return a}function C(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);if(t){n.addEventListener("blocked",e=>t(e.oldVersion,e))}return wrap(n).then(()=>undefined)}const I=["get","getKey","getAll","getAllKeys","count"];const R=["put","add","delete","clear"];const O=new Map;function A(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==="string")){return}if(O.get(t))return O.get(t);const n=t.replace(/FromIndex$/,"");const r=t!==n;const i=R.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||I.includes(n))){return}const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;if(r)o=o.index(t.shift());return(await Promise.all([o[n](...t),i&&s.done]))[0]};O.set(t,s);return s}b(e=>({...e,get:(t,n,r)=>A(t,n)||e.get(t,n,r),has:(t,n)=>!!A(t,n)||e.has(t,n)}));class k{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map(e=>{if(x(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}else{return null}}).filter(e=>e).join(" ")}}function x(e){const t=e.getComponent();return(t===null||t===void 0?void 0:t.type)==="VERSION"}const P="@firebase/app";const N="0.13.1";const D=new i.Vy("@firebase/app");const M="@firebase/app-compat";const L="@firebase/analytics-compat";const j="@firebase/analytics";const F="@firebase/app-check-compat";const B="@firebase/app-check";const U="@firebase/auth";const V="@firebase/auth-compat";const z="@firebase/database";const q="@firebase/data-connect";const $="@firebase/database-compat";const G="@firebase/functions";const W="@firebase/functions-compat";const H="@firebase/installations";const K="@firebase/installations-compat";const Q="@firebase/messaging";const Y="@firebase/messaging-compat";const X="@firebase/performance";const J="@firebase/performance-compat";const Z="@firebase/remote-config";const ee="@firebase/remote-config-compat";const et="@firebase/storage";const en="@firebase/storage-compat";const er="@firebase/firestore";const ei="@firebase/ai";const es="@firebase/firestore-compat";const eo="firebase";const ea="11.9.0";const ec="[DEFAULT]";const el={[P]:"fire-core",[M]:"fire-core-compat",[j]:"fire-analytics",[L]:"fire-analytics-compat",[B]:"fire-app-check",[F]:"fire-app-check-compat",[U]:"fire-auth",[V]:"fire-auth-compat",[z]:"fire-rtdb",[q]:"fire-data-connect",[$]:"fire-rtdb-compat",[G]:"fire-fn",[W]:"fire-fn-compat",[H]:"fire-iid",[K]:"fire-iid-compat",[Q]:"fire-fcm",[Y]:"fire-fcm-compat",[X]:"fire-perf",[J]:"fire-perf-compat",[Z]:"fire-rc",[ee]:"fire-rc-compat",[et]:"fire-gcs",[en]:"fire-gcs-compat",[er]:"fire-fst",[es]:"fire-fst-compat",[ei]:"fire-vertex","fire-js":"fire-js",[eo]:"fire-js-all"};const eu=new Map;const ed=new Map;const ef=new Map;function eh(e,t){try{e.container.addComponent(t)}catch(n){D.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ep(e,t){e.container.addOrOverwriteComponent(t)}function em(e){const t=e.name;if(ef.has(t)){D.debug(`There were multiple attempts to register component ${t}.`);return false}ef.set(t,e);for(const t of eu.values()){eh(t,e)}for(const t of ed.values()){eh(t,e)}return true}function eg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:true});if(n){void n.triggerHeartbeat()}return e.container.getProvider(t)}function ey(e,t,n=ec){eg(e,t).clearInstance(n)}function ev(e){return e.options!==undefined}function eb(e){if(e===null||e===undefined){return false}return e.settings!==undefined}function ew(){ef.clear()}const eE={["no-app"]:"No Firebase App '{$appName}' has been created - "+"call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a "+"Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."};const e_=new s.FA("app","Firebase",eE);class eS{constructor(e,t,n){this._isDeleted=false;this._options=Object.assign({},e);this._config=Object.assign({},t);this._name=t.name;this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled;this._container=n;this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){this.checkDestroyed();return this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed();this._automaticDataCollectionEnabled=e}get name(){this.checkDestroyed();return this._name}get options(){this.checkDestroyed();return this._options}get config(){this.checkDestroyed();return this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted){throw e_.create("app-deleted",{appName:this._name})}}}function eT(e,t){const n=(0,s.u)(e.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`);return}const r=JSON.parse(n).exp;if(r===undefined){console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3;const o=new Date().getTime();const a=i-o;if(a<=0){console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}}class eC extends eS{constructor(e,t,n,r){const i=t.automaticDataCollectionEnabled!==undefined?t.automaticDataCollectionEnabled:true;const s={name:n,automaticDataCollectionEnabled:i};if(e.apiKey!==undefined){super(e,s,r)}else{const t=e;super(t.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t);if(this._serverConfig.authIdToken){eT(this._serverConfig.authIdToken,"authIdToken")}if(this._serverConfig.appCheckToken){eT(this._serverConfig.appCheckToken,"appCheckToken")}this._finalizationRegistry=null;if(typeof FinalizationRegistry!=="undefined"){this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})}this._refCount=0;this.incRefCount(this._serverConfig.releaseOnDeref);this._serverConfig.releaseOnDeref=undefined;t.releaseOnDeref=undefined;eP(P,N,"serverapp")}toJSON(){return undefined}get refCount(){return this._refCount}incRefCount(e){if(this.isDeleted){return}this._refCount++;if(e!==undefined&&this._finalizationRegistry!==null){this._finalizationRegistry.register(e,this)}}decRefCount(){if(this.isDeleted){return 0}return--this._refCount}automaticCleanup(){void ex(this)}get settings(){this.checkDestroyed();return this._serverConfig}checkDestroyed(){if(this.isDeleted){throw e_.create("server-app-deleted")}}}const eI=ea;function eR(e,t={}){let n=e;if(typeof t!=="object"){const e=t;t={name:e}}const i=Object.assign({name:ec,automaticDataCollectionEnabled:true},t);const o=i.name;if(typeof o!=="string"||!o){throw e_.create("bad-app-name",{appName:String(o)})}n||(n=(0,s.T9)());if(!n){throw e_.create("no-options")}const a=eu.get(o);if(a){if((0,s.bD)(n,a.options)&&(0,s.bD)(i,a.config)){return a}else{throw e_.create("duplicate-app",{appName:o})}}const c=new r.h1(o);for(const e of ef.values()){c.addComponent(e)}const l=new eS(n,i,c);eu.set(o,l);return l}function eO(e,t){if(isBrowser()&&!isWebWorker()){throw e_.create("invalid-server-app-environment")}if(t.automaticDataCollectionEnabled===undefined){t.automaticDataCollectionEnabled=true}let n;if(ev(e)){n=e.options}else{n=e}const r=Object.assign(Object.assign({},t),n);if(r.releaseOnDeref!==undefined){delete r.releaseOnDeref}const i=e=>{return[...e].reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0)};if(t.releaseOnDeref!==undefined){if(typeof FinalizationRegistry==="undefined"){throw e_.create("finalization-registry-not-supported",{})}}const s=""+i(JSON.stringify(r));const o=ed.get(s);if(o){o.incRefCount(t.releaseOnDeref);return o}const a=new ComponentContainer(s);for(const e of ef.values()){a.addComponent(e)}const c=new eC(n,t,s,a);ed.set(s,c);return c}function eA(e=ec){const t=eu.get(e);if(!t&&e===ec&&(0,s.T9)()){return eR()}if(!t){throw e_.create("no-app",{appName:e})}return t}function ek(){return Array.from(eu.values())}async function ex(e){let t=false;const n=e.name;if(eu.has(n)){t=true;eu.delete(n)}else if(ed.has(n)){const r=e;if(r.decRefCount()<=0){ed.delete(n);t=true}}if(t){await Promise.all(e.container.getProviders().map(e=>e.delete()));e.isDeleted=true}}function eP(e,t,n){var i;let s=(i=el[e])!==null&&i!==void 0?i:e;if(n){s+=`-${n}`}const o=s.match(/\s|\//);const a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];if(o){e.push(`library name "${s}" contains illegal characters (whitespace or "/")`)}if(o&&a){e.push("and")}if(a){e.push(`version name "${t}" contains illegal characters (whitespace or "/")`)}D.warn(e.join(" "));return}em(new r.uA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function eN(e,t){if(e!==null&&typeof e!=="function"){throw e_.create("invalid-log-argument")}setUserLogHandler(e,t)}function eD(e){setLogLevel$1(e)}const eM="firebase-heartbeat-database";const eL=1;const ej="firebase-heartbeat-store";let eF=null;function eB(){if(!eF){eF=T(eM,eL,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ej)}catch(e){console.warn(e)}}}}).catch(e=>{throw e_.create("idb-open",{originalErrorMessage:e.message})})}return eF}async function eU(e){try{const t=await eB();const n=t.transaction(ej);const r=await n.objectStore(ej).get(ez(e));await n.done;return r}catch(e){if(e instanceof s.g){D.warn(e.message)}else{const t=e_.create("idb-get",{originalErrorMessage:e===null||e===void 0?void 0:e.message});D.warn(t.message)}}}async function eV(e,t){try{const n=await eB();const r=n.transaction(ej,"readwrite");const i=r.objectStore(ej);await i.put(t,ez(e));await r.done}catch(e){if(e instanceof s.g){D.warn(e.message)}else{const t=e_.create("idb-set",{originalErrorMessage:e===null||e===void 0?void 0:e.message});D.warn(t.message)}}}function ez(e){return`${e.name}!${e.options.appId}`}const eq=1024;const e$=30;class eG{constructor(e){this.container=e;this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new eK(t);this._heartbeatsCachePromise=this._storage.read().then(e=>{this._heartbeatsCache=e;return e})}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate();const r=n.getPlatformInfoString();const i=eW();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null){this._heartbeatsCache=await this._heartbeatsCachePromise;if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null){return}}if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(e=>e.date===i)){return}else{this._heartbeatsCache.heartbeats.push({date:i,agent:r});if(this._heartbeatsCache.heartbeats.length>e$){const e=eY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}}return this._storage.overwrite(this._heartbeatsCache)}catch(e){D.warn(e)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null){await this._heartbeatsCachePromise}if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0){return""}const t=eW();const{heartbeatsToSend:n,unsentEntries:r}=eH(this._heartbeatsCache.heartbeats);const i=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));this._heartbeatsCache.lastSentHeartbeatDate=t;if(r.length>0){this._heartbeatsCache.heartbeats=r;await this._storage.overwrite(this._heartbeatsCache)}else{this._heartbeatsCache.heartbeats=[];void this._storage.overwrite(this._heartbeatsCache)}return i}catch(e){D.warn(e);return""}}}function eW(){const e=new Date;return e.toISOString().substring(0,10)}function eH(e,t=eq){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(!e){n.push({agent:i.agent,dates:[i.date]});if(eQ(n)>t){n.pop();break}}else{e.dates.push(i.date);if(eQ(n)>t){e.dates.pop();break}}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eK{constructor(e){this.app=e;this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){if(!(0,s.zW)()){return false}else{return(0,s.eX)().then(()=>true).catch(()=>false)}}async read(){const e=await this._canUseIndexedDBPromise;if(!e){return{heartbeats:[]}}else{const e=await eU(this.app);if(e===null||e===void 0?void 0:e.heartbeats){return e}else{return{heartbeats:[]}}}}async overwrite(e){var t;const n=await this._canUseIndexedDBPromise;if(!n){return}else{const n=await this.read();return eV(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;const n=await this._canUseIndexedDBPromise;if(!n){return}else{const n=await this.read();return eV(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function eQ(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}function eY(e){if(e.length===0){return-1}let t=0;let n=e[0].date;for(let r=1;r<e.length;r++){if(e[r].date<n){n=e[r].date;t=r}}return t}function eX(e){em(new r.uA("platform-logger",e=>new k(e),"PRIVATE"));em(new r.uA("heartbeat",e=>new eG(e),"PRIVATE"));eP(P,N,e);eP(P,N,"esm2017");eP("fire-js","")}eX("")},27924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ClientSegmentRoot",{enumerable:true,get:function(){return s}});const r=n(60687);const i=n(75539);function s(e){let{Component:t,slots:s,params:o,promise:a}=e;if(true){const{workAsyncStorage:e}=n(29294);let a;const c=e.getStore();if(!c){throw Object.defineProperty(new i.InvariantError("Expected workStore to exist when handling params in a client segment such as a Layout or Template."),"__NEXT_ERROR_CODE",{value:"E600",enumerable:false,configurable:true})}const{createParamsFromClient:l}=n(60824);a=l(o,c);return(0,r.jsx)(t,{...s,params:a})}else{}}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},28592:e=>{"use strict";e.exports={"rE":"1.9.15"}},28827:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{AsyncMetadata:function(){return o},AsyncMetadataOutlet:function(){return c}});const i=n(60687);const s=n(43210);const o=true?n(85429).ServerInsertMetadata:0;function a(e){let{promise:t}=e;const{error:n,digest:r}=(0,s.use)(t);if(n){if(r){;n.digest=r}throw n}return null}function c(e){let{promise:t}=e;return(0,i.jsx)(s.Suspense,{fallback:null,children:(0,i.jsx)(a,{promise:t})})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},28938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"collectSegmentData",{enumerable:true,get:function(){return d}});const r=n(37413);const i=n(52513);const s=n(93972);const o=n(77855);const a=n(44523);const c=n(8670);const l=n(62713);function u(e){const t=(0,l.getDigestForWellKnownError)(e);if(t){return t}}async function d(e,t,n,c,l,d){const h=new Map;try{await (0,i.createFromReadableStream)((0,o.streamFromBuffer)(t),{serverConsumerManifest:l});await (0,a.waitAtLeastOneReactRenderTask)()}catch{}const p=new AbortController;const m=async()=>{await (0,a.waitAtLeastOneReactRenderTask)();p.abort()};const g=[];const{prelude:y}=await (0,s.unstable_prerender)((0,r.jsx)(f,{shouldAssumePartialData:e,fullPageDataBuffer:t,fallbackRouteParams:d,serverConsumerManifest:l,clientModules:c,staleTime:n,segmentTasks:g,onCompletedProcessingRouteTree:m}),c,{signal:p.signal,onError:u});const v=await (0,o.streamToBuffer)(y);h.set("/_tree",v);for(const[e,t]of(await Promise.all(g))){h.set(e,t)}return h}async function f({shouldAssumePartialData:e,fullPageDataBuffer:t,fallbackRouteParams:n,serverConsumerManifest:r,clientModules:s,staleTime:a,segmentTasks:l,onCompletedProcessingRouteTree:u}){const d=await (0,i.createFromReadableStream)(y((0,o.streamFromBuffer)(t)),{serverConsumerManifest:r});const f=d.b;const p=d.f;if(p.length!==1&&p[0].length!==3){console.error("Internal Next.js error: InitialRSCPayload does not match the expected "+"shape for a prerendered page during segment prefetch generation.");return null}const m=p[0][0];const v=p[0][1];const b=p[0][2];const w=h(e,m,f,v,n,t,s,r,c.ROOT_SEGMENT_KEY,l);const E=e||await g(b,s);u();const _={buildId:f,tree:w,head:b,isHeadPartial:E,staleTime:a};return _}function h(e,t,n,r,i,s,o,l,u,d){let f=null;const g=t[1];const y=r!==null?r[2]:null;for(const t in g){const r=g[t];const a=r[0];const m=y!==null?y[t]:null;const v=(0,c.encodeChildSegmentKey)(u,t,Array.isArray(a)&&i!==null?p(a,i):(0,c.encodeSegment)(a));const b=h(e,r,n,m,i,s,o,l,v,d);if(f===null){f={}}f[t]=b}if(r!==null){d.push((0,a.waitAtLeastOneReactRenderTask)().then(()=>m(e,n,r,u,o)))}else{}return{segment:t[0],slots:f,isRootLayout:t[4]===true}}function p(e,t){const n=e[0];if(!t.has(n)){return(0,c.encodeSegment)(e)}const r=(0,c.encodeSegment)(e);const i=r.lastIndexOf("$");const s=r.substring(0,i+1)+`[${n}]`;return s}async function m(e,t,n,r,i){const l=n[1];const d=n[3];const f={buildId:t,rsc:l,loading:d,isPartial:e||await g(l,i)};const h=new AbortController;(0,a.waitAtLeastOneReactRenderTask)().then(()=>h.abort());const{prelude:p}=await (0,s.unstable_prerender)(f,i,{signal:h.signal,onError:u});const m=await (0,o.streamToBuffer)(p);if(r===c.ROOT_SEGMENT_KEY){return["/_index",m]}else{return[r,m]}}async function g(e,t){let n=false;const r=new AbortController;(0,a.waitAtLeastOneReactRenderTask)().then(()=>{n=true;r.abort()});await (0,s.unstable_prerender)(e,t,{signal:r.signal,onError(){}});return n}function y(e){const t=e.getReader();return new ReadableStream({async pull(e){while(true){const{done:n,value:r}=await t.read();if(!n){e.enqueue(r);continue}return}}})}},29345:(e,t,n)=>{const{createProxy:r}=n(39844);e.exports=r("/data/data/com.termux/files/home/Golden-hours/node_modules/next/dist/client/components/layout-router.js")},30015:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setup=t.RoundRobinLoadBalancer=void 0;const r=n(86239);const i=n(18155);const s=n(72910);const o=n(43356);const a=n(31359);const c=n(71271);const l="round_robin";function u(e){a.trace(c.LogVerbosity.DEBUG,l,e)}const d="round_robin";class f{getLoadBalancerName(){return d}constructor(){}toJsonObject(){return{[d]:{}}}static createFromJson(e){return new f}}class h{constructor(e,t=0){this.subchannelList=e;this.nextIndex=t}pick(e){const t=this.subchannelList[this.nextIndex];this.nextIndex=(this.nextIndex+1)%this.subchannelList.length;return{pickResultType:s.PickResultType.COMPLETE,subchannel:t,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}}class p{constructor(e){this.channelControlHelper=e;this.subchannels=[];this.currentState=i.ConnectivityState.IDLE;this.currentReadyPicker=null;this.lastError=null;this.subchannelStateListener=(e,t,n,r,s)=>{this.calculateAndUpdateState();if(n===i.ConnectivityState.TRANSIENT_FAILURE||n===i.ConnectivityState.IDLE){if(s){this.lastError=s}this.channelControlHelper.requestReresolution();e.startConnecting()}}}countSubchannelsWithState(e){return this.subchannels.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(i.ConnectivityState.READY)>0){const e=this.subchannels.filter(e=>e.getConnectivityState()===i.ConnectivityState.READY);let t=0;if(this.currentReadyPicker!==null){t=e.indexOf(this.currentReadyPicker.peekNextSubchannel());if(t<0){t=0}}this.updateState(i.ConnectivityState.READY,new h(e,t))}else if(this.countSubchannelsWithState(i.ConnectivityState.CONNECTING)>0){this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this))}else if(this.countSubchannelsWithState(i.ConnectivityState.TRANSIENT_FAILURE)>0){this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`}))}else{this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this))}}updateState(e,t){u(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]);if(e===i.ConnectivityState.READY){this.currentReadyPicker=t}else{this.currentReadyPicker=null}this.currentState=e;this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.subchannels){e.removeConnectivityStateListener(this.subchannelStateListener);e.unref();this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}this.subchannels=[]}updateAddressList(e,t){this.resetSubchannelList();u("Connect to address list "+e.map(e=>(0,o.subchannelAddressToString)(e)));this.subchannels=e.map(e=>this.channelControlHelper.createSubchannel(e,{}));for(const e of this.subchannels){e.ref();e.addConnectivityStateListener(this.subchannelStateListener);this.channelControlHelper.addChannelzChild(e.getChannelzRef());const t=e.getConnectivityState();if(t===i.ConnectivityState.IDLE||t===i.ConnectivityState.TRANSIENT_FAILURE){e.startConnecting()}}this.calculateAndUpdateState()}exitIdle(){for(const e of this.subchannels){e.startConnecting()}}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return d}}t.RoundRobinLoadBalancer=p;function m(){(0,r.registerLoadBalancerType)(d,p,f)}t.setup=m},30847:(e,t,n)=>{"use strict";e.exports=a;var r=n(32110),i=n(61810),s=n(93107);function o(e,t,n,r){return t.delimited?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(t.id<<3|2)>>>0)}function a(e){var t=s.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()");var n,a;var c=e.fieldsArray.slice().sort(s.compareFieldsById);for(var n=0;n<c.length;++n){var l=c[n].resolve(),u=e._fieldsArray.indexOf(l),d=l.resolvedType instanceof r?"int32":l.type,f=i.basic[d];a="m"+s.safeProp(l.name);if(l.map){t("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",a,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",a)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|i.mapKey[l.keyType],l.keyType);if(f===undefined)t("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,a);else t(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|f,d,a);t("}")("}")}else if(l.repeated){t("if(%s!=null&&%s.length){",a,a);if(l.packed&&i.packed[d]!==undefined){t("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",a)("w.%s(%s[i])",d,a)("w.ldelim()")}else{t("for(var i=0;i<%s.length;++i)",a);if(f===undefined)o(t,l,u,a+"[i]");else t("w.uint32(%i).%s(%s[i])",(l.id<<3|f)>>>0,d,a)}t("}")}else{if(l.optional)t("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",a,l.name);if(f===undefined)o(t,l,u,a);else t("w.uint32(%i).%s(%s)",(l.id<<3|f)>>>0,d,a)}}return t("return w")}},30893:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{ClientPageRoot:function(){return d.ClientPageRoot},ClientSegmentRoot:function(){return f.ClientSegmentRoot},HTTPAccessFallbackBoundary:function(){return g.HTTPAccessFallbackBoundary},LayoutRouter:function(){return o.default},MetadataBoundary:function(){return b.MetadataBoundary},OutletBoundary:function(){return b.OutletBoundary},Postpone:function(){return E.Postpone},RenderFromTemplateContext:function(){return a.default},ViewportBoundary:function(){return b.ViewportBoundary},actionAsyncStorage:function(){return u.actionAsyncStorage},collectSegmentData:function(){return S.collectSegmentData},createMetadataComponents:function(){return y.createMetadataComponents},createPrerenderParamsForClientSegment:function(){return p.createPrerenderParamsForClientSegment},createPrerenderSearchParamsForClientPage:function(){return h.createPrerenderSearchParamsForClientPage},createServerParamsForServerSegment:function(){return p.createServerParamsForServerSegment},createServerSearchParamsForServerPage:function(){return h.createServerSearchParamsForServerPage},createTemporaryReferenceSet:function(){return i.createTemporaryReferenceSet},decodeAction:function(){return i.decodeAction},decodeFormState:function(){return i.decodeFormState},decodeReply:function(){return i.decodeReply},patchFetch:function(){return R},preconnect:function(){return w.preconnect},preloadFont:function(){return w.preloadFont},preloadStyle:function(){return w.preloadStyle},prerender:function(){return s.unstable_prerender},renderToReadableStream:function(){return i.renderToReadableStream},serverHooks:function(){return m},taintObjectReference:function(){return _.taintObjectReference},workAsyncStorage:function(){return c.workAsyncStorage},workUnitAsyncStorage:function(){return l.workUnitAsyncStorage}});const i=n(12907);const s=n(93972);const o=T(n(29345));const a=T(n(31307));const c=n(29294);const l=n(63033);const u=n(19121);const d=n(16444);const f=n(16042);const h=n(83091);const p=n(73102);const m=I(n(98479));const g=n(49477);const y=n(59521);const v=n(37719);n(88170);const b=n(46577);const w=n(72900);const E=n(61068);const _=n(96844);const S=n(28938);function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var n=new WeakMap;return(C=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var n=C(t);if(n&&n.has(e)){return n.get(e)}var r={__proto__:null};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;if(o&&(o.get||o.set)){Object.defineProperty(r,s,o)}else{r[s]=e[s]}}}r.default=e;if(n){n.set(e,r)}return r}function R(){return(0,v.patchFetch)({workAsyncStorage:c.workAsyncStorage,workUnitAsyncStorage:l.workUnitAsyncStorage})}},31156:(e,t,n)=>{"use strict";e.exports=i;var r=n(8707);function i(e,t){this.lo=e>>>0;this.hi=t>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0};s.zzEncode=s.zzDecode=function(){return this};s.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function e(e){if(e===0)return s;var t=e<0;if(t)e=-e;var n=e>>>0,r=(e-n)/0x100000000>>>0;if(t){r=~r>>>0;n=~n>>>0;if(++n>0xffffffff){n=0;if(++r>0xffffffff)r=0}}return new i(n,r)};i.from=function e(e){if(typeof e==="number")return i.fromNumber(e);if(r.isString(e)){if(r.Long)e=r.Long.fromString(e);else return i.fromNumber(parseInt(e,10))}return e.low||e.high?new i(e.low>>>0,e.high>>>0):s};i.prototype.toNumber=function e(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,n=~this.hi>>>0;if(!t)n=n+1>>>0;return-(t+n*0x100000000)}return this.lo+this.hi*0x100000000};i.prototype.toLong=function e(e){return r.Long?new r.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function e(e){if(e===o)return s;return new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)};i.prototype.toHash=function e(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};i.prototype.zzEncode=function e(){var e=this.hi>>31;this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0;this.lo=(this.lo<<1^e)>>>0;return this};i.prototype.zzDecode=function e(){var e=-(this.lo&1);this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0;this.hi=(this.hi>>>1^e)>>>0;return this};i.prototype.length=function e(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},31162:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"isNextRouterError",{enumerable:true,get:function(){return s}});const r=n(8704);const i=n(49026);function s(e){return(0,i.isRedirectError)(e)||(0,r.isHTTPAccessFallbackError)(e)}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},31307:(e,t,n)=>{const{createProxy:r}=n(39844);e.exports=r("/data/data/com.termux/files/home/Golden-hours/node_modules/next/dist/client/components/render-from-template-context.js")},31355:(e,t,n)=>{"use strict";n.d(t,{lg:()=>T,qW:()=>g,bL:()=>S});var r=n(43210);var i=n(70569);var s=n(3416);var o=n(98599);var a=n(13495);function c(e,t=globalThis?.document){const n=(0,a.c)(e);r.useEffect(()=>{const e=e=>{if(e.key==="Escape"){n(e)}};t.addEventListener("keydown",e,{capture:true});return()=>t.removeEventListener("keydown",e,{capture:true})},[n,t])}var l=n(60687);var u="DismissableLayer";var d="dismissableLayer.update";var f="dismissableLayer.pointerDownOutside";var h="dismissableLayer.focusOutside";var p;var m=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set});var g=r.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=false,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:g,...y}=e;const v=r.useContext(m);const[_,S]=r.useState(null);const T=_?.ownerDocument??globalThis?.document;const[,C]=r.useState({});const I=(0,o.s)(t,e=>S(e));const R=Array.from(v.layers);const[O]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1);const A=R.indexOf(O);const k=_?R.indexOf(_):-1;const x=v.layersWithOutsidePointerEventsDisabled.size>0;const P=k>=A;const N=b(e=>{const t=e.target;const n=[...v.branches].some(e=>e.contains(t));if(!P||n)return;u?.(e);h?.(e);if(!e.defaultPrevented)g?.()},T);const D=w(e=>{const t=e.target;const n=[...v.branches].some(e=>e.contains(t));if(n)return;f?.(e);h?.(e);if(!e.defaultPrevented)g?.()},T);c(e=>{const t=k===v.layers.size-1;if(!t)return;a?.(e);if(!e.defaultPrevented&&g){e.preventDefault();g()}},T);r.useEffect(()=>{if(!_)return;if(n){if(v.layersWithOutsidePointerEventsDisabled.size===0){p=T.body.style.pointerEvents;T.body.style.pointerEvents="none"}v.layersWithOutsidePointerEventsDisabled.add(_)}v.layers.add(_);E();return()=>{if(n&&v.layersWithOutsidePointerEventsDisabled.size===1){T.body.style.pointerEvents=p}}},[_,T,n,v]);r.useEffect(()=>{return()=>{if(!_)return;v.layers.delete(_);v.layersWithOutsidePointerEventsDisabled.delete(_);E()}},[_,v]);r.useEffect(()=>{const e=()=>C({});document.addEventListener(d,e);return()=>document.removeEventListener(d,e)},[]);return(0,l.jsx)(s.sG.div,{...y,ref:I,style:{pointerEvents:x?P?"auto":"none":void 0,...e.style},onFocusCapture:(0,i.m)(e.onFocusCapture,D.onFocusCapture),onBlurCapture:(0,i.m)(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:(0,i.m)(e.onPointerDownCapture,N.onPointerDownCapture)})});g.displayName=u;var y="DismissableLayerBranch";var v=r.forwardRef((e,t)=>{const n=r.useContext(m);const i=r.useRef(null);const a=(0,o.s)(t,i);r.useEffect(()=>{const e=i.current;if(e){n.branches.add(e);return()=>{n.branches.delete(e)}}},[n.branches]);return(0,l.jsx)(s.sG.div,{...e,ref:a})});v.displayName=y;function b(e,t=globalThis?.document){const n=(0,a.c)(e);const i=r.useRef(false);const s=r.useRef(()=>{});r.useEffect(()=>{const e=e=>{if(e.target&&!i.current){let i=function(){_(f,n,o,{discrete:true})};var r=i;const o={originalEvent:e};if(e.pointerType==="touch"){t.removeEventListener("click",s.current);s.current=i;t.addEventListener("click",s.current,{once:true})}else{i()}}else{t.removeEventListener("click",s.current)}i.current=false};const r=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(r);t.removeEventListener("pointerdown",e);t.removeEventListener("click",s.current)}},[t,n]);return{onPointerDownCapture:()=>i.current=true}}function w(e,t=globalThis?.document){const n=(0,a.c)(e);const i=r.useRef(false);r.useEffect(()=>{const e=e=>{if(e.target&&!i.current){const t={originalEvent:e};_(h,n,t,{discrete:false})}};t.addEventListener("focusin",e);return()=>t.removeEventListener("focusin",e)},[t,n]);return{onFocusCapture:()=>i.current=true,onBlurCapture:()=>i.current=false}}function E(){const e=new CustomEvent(d);document.dispatchEvent(e)}function _(e,t,n,{discrete:r}){const i=n.originalEvent.target;const o=new CustomEvent(e,{bubbles:false,cancelable:true,detail:n});if(t)i.addEventListener(e,t,{once:true});if(r){(0,s.hO)(i,o)}else{i.dispatchEvent(o)}}var S=g;var T=v},31359:(e,t,n)=>{"use strict";var r,i,s,o;Object.defineProperty(t,"__esModule",{value:true});t.isTracerEnabled=t.trace=t.log=t.setLoggerVerbosity=t.setLogger=t.getLogger=void 0;const a=n(71271);const c=n(19771);const l=n(28592).rE;const u={error:(e,...t)=>{console.error("E "+e,...t)},info:(e,...t)=>{console.error("I "+e,...t)},debug:(e,...t)=>{console.error("D "+e,...t)}};let d=u;let f=a.LogVerbosity.ERROR;const h=(i=(r=process.env.GRPC_NODE_VERBOSITY)!==null&&r!==void 0?r:process.env.GRPC_VERBOSITY)!==null&&i!==void 0?i:"";switch(h.toUpperCase()){case"DEBUG":f=a.LogVerbosity.DEBUG;break;case"INFO":f=a.LogVerbosity.INFO;break;case"ERROR":f=a.LogVerbosity.ERROR;break;case"NONE":f=a.LogVerbosity.NONE;break;default:}const p=()=>{return d};t.getLogger=p;const m=e=>{d=e};t.setLogger=m;const g=e=>{f=e};t.setLoggerVerbosity=g;const y=(e,...t)=>{let n;if(e>=f){switch(e){case a.LogVerbosity.DEBUG:n=d.debug;break;case a.LogVerbosity.INFO:n=d.info;break;case a.LogVerbosity.ERROR:n=d.error;break}if(!n){n=d.error}if(n){n.bind(d)(...t)}}};t.log=y;const v=(o=(s=process.env.GRPC_NODE_TRACE)!==null&&s!==void 0?s:process.env.GRPC_TRACE)!==null&&o!==void 0?o:"";const b=new Set;const w=new Set;for(const e of v.split(",")){if(e.startsWith("-")){w.add(e.substring(1))}else{b.add(e)}}const E=b.has("all");function _(e,n,r){if(S(n)){(0,t.log)(e,new Date().toISOString()+" | v"+l+" "+c.pid+" | "+n+" | "+r)}}t.trace=_;function S(e){return!w.has(e)&&(E||b.has(e))}t.isTracerEnabled=S},32110:(e,t,n)=>{"use strict";e.exports=o;var r=n(64824);((o.prototype=Object.create(r.prototype)).constructor=o).className="Enum";var i=n(77968),s=n(93107);function o(e,t,n,i,s,o){r.call(this,e,n);if(t&&typeof t!=="object")throw TypeError("values must be an object");this.valuesById={};this.values=Object.create(this.valuesById);this.comment=i;this.comments=s||{};this.valuesOptions=o;this._valuesFeatures={};this.reserved=undefined;if(t){for(var a=Object.keys(t),c=0;c<a.length;++c)if(typeof t[a[c]]==="number")this.valuesById[this.values[a[c]]=t[a[c]]]=a[c]}}o.prototype._resolveFeatures=function e(e){e=this._edition||e;r.prototype._resolveFeatures.call(this,e);Object.keys(this.values).forEach(e=>{var t=Object.assign({},this._features);this._valuesFeatures[e]=Object.assign(t,this.valuesOptions&&this.valuesOptions[e]&&this.valuesOptions[e].features)});return this};o.fromJSON=function e(e,t){var n=new o(e,t.values,t.options,t.comment,t.comments);n.reserved=t.reserved;if(t.edition)n._edition=t.edition;n._defaultEdition="proto3";return n};o.prototype.toJSON=function e(e){var t=e?Boolean(e.keepComments):false;return s.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"comment",t?this.comment:undefined,"comments",t?this.comments:undefined])};o.prototype.add=function e(e,t,n,r){if(!s.isString(e))throw TypeError("name must be a string");if(!s.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==undefined)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==undefined){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;if(r){if(this.valuesOptions===undefined)this.valuesOptions={};this.valuesOptions[e]=r||null}this.comments[e]=n||null;return this};o.prototype.remove=function e(e){if(!s.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(t==null)throw Error("name '"+e+"' does not exist in "+this);delete this.valuesById[t];delete this.values[e];delete this.comments[e];if(this.valuesOptions)delete this.valuesOptions[e];return this};o.prototype.isReservedId=function e(e){return i.isReservedId(this.reserved,e)};o.prototype.isReservedName=function e(e){return i.isReservedName(this.reserved,e)}},33123:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"createRouterCacheKey",{enumerable:true,get:function(){return i}});const r=n(83913);function i(e,t){if(t===void 0)t=false;if(Array.isArray(e)){return e[0]+"|"+e[1]+"|"+e[2]}if(t&&e.startsWith(r.PAGE_SEGMENT_KEY)){return r.PAGE_SEGMENT_KEY}return e}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},34346:e=>{"use strict";e.exports=n;var t=/\/|\./;function n(e,r){if(!t.test(e)){e="google/protobuf/"+e+".proto";r={nested:{google:{nested:{protobuf:{nested:r}}}}}}n[e]=r}n("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var r;n("duration",{Duration:r={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});n("timestamp",{Timestamp:r});n("empty",{Empty:{fields:{}}});n("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});n("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});n("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});n.get=function e(e){return n[e]||null}},34822:()=>{},35108:(e,t)=>{"use strict";var n=t;n.length=function e(e){var t=e.length;if(!t)return 0;var n=0;while(--t%4>1&&e.charAt(t)==="=")++n;return Math.ceil(e.length*3)/4-n};var r=new Array(64);var i=new Array(123);for(var s=0;s<64;)i[r[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function e(e,t,n){var i=null,s=[];var o=0,a=0,c;while(t<n){var l=e[t++];switch(a){case 0:s[o++]=r[l>>2];c=(l&3)<<4;a=1;break;case 1:s[o++]=r[c|l>>4];c=(l&15)<<2;a=2;break;case 2:s[o++]=r[c|l>>6];s[o++]=r[l&63];a=0;break}if(o>8191){(i||(i=[])).push(String.fromCharCode.apply(String,s));o=0}}if(a){s[o++]=r[c];s[o++]=61;if(a===1)s[o++]=61}if(i){if(o)i.push(String.fromCharCode.apply(String,s.slice(0,o)));return i.join("")}return String.fromCharCode.apply(String,s.slice(0,o))};var o="invalid encoding";n.decode=function e(e,t,n){var r=n;var s=0,a;for(var c=0;c<e.length;){var l=e.charCodeAt(c++);if(l===61&&s>1)break;if((l=i[l])===undefined)throw Error(o);switch(s){case 0:a=l;s=1;break;case 1:t[n++]=a<<2|(l&48)>>4;a=l;s=2;break;case 2:t[n++]=(a&15)<<4|(l&60)>>2;a=l;s=3;break;case 3:t[n++]=(a&3)<<6|l;s=0;break}}if(s===1)throw Error(o);return n-r};n.test=function e(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},35499:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{DEFAULT_SEGMENT_KEY:function(){return a},PAGE_SEGMENT_KEY:function(){return o},addSearchParamsIfPageSegment:function(){return s},isGroupSegment:function(){return r},isParallelRouteSegment:function(){return i}});function r(e){return e[0]==="("&&e.endsWith(")")}function i(e){return e.startsWith("@")&&e!=="@children"}function s(e,t){const n=e.includes(o);if(n){const e=JSON.stringify(t);return e!=="{}"?o+"?"+e:o}return e}const o="__PAGE__";const a="__DEFAULT__"},35545:(e,t,n)=>{"use strict";n.d(t,{h1:()=>l,uA:()=>i});var r=n(52122);class i{constructor(e,t,n){this.name=e;this.instanceFactory=t;this.type=n;this.multipleInstances=false;this.serviceProps={};this.instantiationMode="LAZY";this.onInstanceCreated=null}setInstantiationMode(e){this.instantiationMode=e;return this}setMultipleInstances(e){this.multipleInstances=e;return this}setServiceProps(e){this.serviceProps=e;return this}setInstanceCreatedCallback(e){this.onInstanceCreated=e;return this}}const s="[DEFAULT]";class o{constructor(e,t){this.name=e;this.container=t;this.component=null;this.instances=new Map;this.instancesDeferred=new Map;this.instancesOptions=new Map;this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;this.instancesDeferred.set(t,e);if(this.isInitialized(t)||this.shouldAutoInitialize()){try{const n=this.getOrInitializeService({instanceIdentifier:t});if(n){e.resolve(n)}}catch(e){}}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e===null||e===void 0?void 0:e.identifier);const r=(t=e===null||e===void 0?void 0:e.optional)!==null&&t!==void 0?t:false;if(this.isInitialized(n)||this.shouldAutoInitialize()){try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r){return null}else{throw e}}}else{if(r){return null}else{throw Error(`Service ${this.name} is not available`)}}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name){throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`)}if(this.component){throw Error(`Component for ${this.name} has already been provided`)}this.component=e;if(!this.shouldAutoInitialize()){return}if(c(e)){try{this.getOrInitializeService({instanceIdentifier:s})}catch(e){}}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}clearInstance(e=s){this.instancesDeferred.delete(e);this.instancesOptions.delete(e);this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=s){return this.instances.has(e)}getOptions(e=s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e;const n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n)){throw Error(`${this.name}(${n}) has already been initialized`)}if(!this.isComponentSet()){throw Error(`Component ${this.name} has not been registered yet`)}const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);if(n===i){t.resolve(r)}}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t);const i=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;i.add(e);this.onInitCallbacks.set(r,i);const s=this.instances.get(r);if(s){e(s,r)}return()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(!n){return}for(const r of n){try{r(e,t)}catch(e){}}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component){n=this.component.instanceFactory(this.container,{instanceIdentifier:a(e),options:t});this.instances.set(e,n);this.instancesOptions.set(e,t);this.invokeOnInitCallbacks(n,e);if(this.component.onInstanceCreated){try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}}}return n||null}normalizeInstanceIdentifier(e=s){if(this.component){return this.component.multipleInstances?e:s}else{return e}}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a(e){return e===s?undefined:e}function c(e){return e.instantiationMode==="EAGER"}class l{constructor(e){this.name=e;this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){throw new Error(`Component ${e.name} has already been registered with ${this.name}`)}t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){this.providers.delete(e.name)}this.addComponent(e)}getProvider(e){if(this.providers.has(e)){return this.providers.get(e)}const t=new o(e,this);this.providers.set(e,t);return t}getProviders(){return Array.from(this.providers.values())}}},35656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{ErrorBoundary:function(){return g},ErrorBoundaryHandler:function(){return h},GlobalError:function(){return p},default:function(){return m}});const i=n(14985);const s=n(60687);const o=i._(n(43210));const a=n(93883);const c=n(88092);const l=n(12776);const u=true?n(29294).workAsyncStorage:0;const d={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}};function f(e){let{error:t}=e;if(u){const e=u.getStore();if((e==null?void 0:e.isRevalidate)||(e==null?void 0:e.isStaticGeneration)){console.error(t);throw t}}return null}class h extends o.default.Component{static getDerivedStateFromError(e){if((0,c.isNextRouterError)(e)){throw e}return{error:e}}static getDerivedStateFromProps(e,t){const{error:n}=t;if(false){}if(e.pathname!==t.previousPathname&&t.error){return{error:null,previousPathname:e.pathname}}return{error:t.error,previousPathname:e.pathname}}render(){if(this.state.error){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f,{error:this.state.error}),this.props.errorStyles,this.props.errorScripts,(0,s.jsx)(this.props.errorComponent,{error:this.state.error,reset:this.reset})]})}return this.props.children}constructor(e){super(e),this.reset=()=>{this.setState({error:null})};this.state={error:null,previousPathname:this.props.pathname}}}function p(e){let{error:t}=e;const n=t==null?void 0:t.digest;return(0,s.jsxs)("html",{id:"__next_error__",children:[(0,s.jsx)("head",{}),(0,s.jsxs)("body",{children:[(0,s.jsx)(f,{error:t}),(0,s.jsx)("div",{style:d.error,children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{style:d.text,children:["Application error: a ",n?"server":"client","-side exception has occurred while loading ",window.location.hostname," (see the"," ",n?"server logs":"browser console"," for more information)."]}),n?(0,s.jsx)("p",{style:d.text,children:"Digest: "+n}):null]})})]})]})}const m=p;function g(e){let{errorComponent:t,errorStyles:n,errorScripts:r,children:i}=e;const o=(0,a.useUntrackedPathname)();if(t){return(0,s.jsx)(h,{pathname:o,errorComponent:t,errorStyles:n,errorScripts:r,children:i})}return(0,s.jsx)(s.Fragment,{children:i})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},35715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{default:function(){return s},getProperError:function(){return a}});const i=n(69385);function s(e){return typeof e==="object"&&e!==null&&"name"in e&&"message"in e}function o(e){const t=new WeakSet;return JSON.stringify(e,(e,n)=>{if(typeof n==="object"&&n!==null){if(t.has(n)){return"[Circular]"}t.add(n)}return n})}function a(e){if(s(e)){return e}if(false){}return Object.defineProperty(new Error((0,i.isPlainObject)(e)?o(e):e+""),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true})}},36070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"AlternatesMetadata",{enumerable:true,get:function(){return c}});const r=n(37413);const i=o(n(61120));const s=n(80407);function o(e){return e&&e.__esModule?e:{default:e}}function a({descriptor:e,...t}){if(!e.url)return null;return(0,r.jsx)("link",{...t,...e.title&&{title:e.title},href:e.url.toString()})}function c({alternates:e}){if(!e)return null;const{canonical:t,languages:n,media:r,types:i}=e;return(0,s.MetaFilter)([t?a({rel:"canonical",descriptor:t}):null,n?Object.entries(n).flatMap(([e,t])=>t==null?void 0:t.map(t=>a({rel:"alternate",hrefLang:e,descriptor:t}))):null,r?Object.entries(r).flatMap(([e,t])=>t==null?void 0:t.map(t=>a({rel:"alternate",media:e,descriptor:t}))):null,i?Object.entries(i).flatMap(([e,t])=>t==null?void 0:t.map(t=>a({rel:"alternate",type:e,descriptor:t}))):null])}},36142:(e,t,n)=>{"use strict";var r;r={value:true};r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=r=t.ex=r=r=r=r=r=r=t.OS=t.z3=void 0;const i=n(37391);r={enumerable:true,get:function(){return i.CallCredentials}};const s=n(18453);r={enumerable:true,get:function(){return s.ChannelImplementation}};const o=n(68655);r={enumerable:true,get:function(){return o.CompressionAlgorithms}};const a=n(18155);r={enumerable:true,get:function(){return a.ConnectivityState}};const c=n(56070);r={enumerable:true,get:function(){return c.ChannelCredentials}};const l=n(7775);r={enumerable:true,get:function(){return l.Client}};const u=n(71271);r={enumerable:true,get:function(){return u.LogVerbosity}};r={enumerable:true,get:function(){return u.Status}};r={enumerable:true,get:function(){return u.Propagate}};const d=n(31359);const f=n(61480);Object.defineProperty(t,"ex",{enumerable:true,get:function(){return f.loadPackageDefinition}});r={enumerable:true,get:function(){return f.makeClientConstructor}};r={enumerable:true,get:function(){return f.makeClientConstructor}};const h=n(86777);Object.defineProperty(t,"OS",{enumerable:true,get:function(){return h.Metadata}});const p=n(4227);r={enumerable:true,get:function(){return p.Server}};const m=n(19420);r={enumerable:true,get:function(){return m.ServerCredentials}};const g=n(10788);r={enumerable:true,get:function(){return g.StatusBuilder}};t.z3={combineChannelCredentials:(e,...t)=>{return t.reduce((e,t)=>e.compose(t),e)},combineCallCredentials:(e,...t)=>{return t.reduce((e,t)=>e.compose(t),e)},createInsecure:c.ChannelCredentials.createInsecure,createSsl:c.ChannelCredentials.createSsl,createFromSecureContext:c.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:i.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:i.CallCredentials.createFromGoogleCredential,createEmpty:i.CallCredentials.createEmpty};const y=e=>e.close();r=y;const v=(e,t,n)=>e.waitForReady(t,n);r=v;const b=(e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};r=b;const w=(e,t,n)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};r=w;const E=e=>{d.setLogger(e)};r=E;const _=e=>{d.setLoggerVerbosity(e)};r=_;const S=e=>{return l.Client.prototype.getChannel.call(e)};r=S;var T=n(3712);r={enumerable:true,get:function(){return T.ListenerBuilder}};r={enumerable:true,get:function(){return T.RequesterBuilder}};r={enumerable:true,get:function(){return T.InterceptingCall}};r={enumerable:true,get:function(){return T.InterceptorConfigurationError}};var C=n(66827);r={enumerable:true,get:function(){return C.getChannelzServiceDefinition}};r={enumerable:true,get:function(){return C.getChannelzHandlers}};var I=n(17061);r={enumerable:true,get:function(){return I.addAdminServicesToServer}};const R=n(76250);r=R;const O=n(44660);const A=n(85481);const k=n(1470);const x=n(37386);const P=n(30015);const N=n(1532);const D=n(66827);(()=>{O.setup();A.setup();k.setup();x.setup();P.setup();N.setup();D.setup()})()},36536:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{resolveAlternates:function(){return u},resolveAppLinks:function(){return y},resolveAppleWebApp:function(){return g},resolveFacebook:function(){return b},resolveItunes:function(){return v},resolvePagination:function(){return w},resolveRobots:function(){return h},resolveThemeColor:function(){return a},resolveVerification:function(){return m}});const i=n(77341);const s=n(96258);function o(e,t,n){if(e instanceof URL){const t=new URL(n.pathname,e);e.searchParams.forEach((e,n)=>t.searchParams.set(n,e));e=t}return(0,s.resolveAbsoluteUrlWithPathname)(e,t,n)}const a=e=>{var t;if(!e)return null;const n=[];(t=(0,i.resolveAsArrayOrUndefined)(e))==null?void 0:t.forEach(e=>{if(typeof e==="string")n.push({color:e});else if(typeof e==="object")n.push({color:e.color,media:e.media})});return n};function c(e,t,n){if(!e)return null;const r={};for(const[i,s]of Object.entries(e)){if(typeof s==="string"||s instanceof URL){r[i]=[{url:o(s,t,n)}]}else{r[i]=[];s==null?void 0:s.forEach((e,s)=>{const a=o(e.url,t,n);r[i][s]={url:a,title:e.title}})}}return r}function l(e,t,n){if(!e)return null;const r=typeof e==="string"||e instanceof URL?e:e.url;return{url:o(r,t,n)}}const u=(e,t,n)=>{if(!e)return null;const r=l(e.canonical,t,n);const i=c(e.languages,t,n);const s=c(e.media,t,n);const o=c(e.types,t,n);const a={canonical:r,languages:i,media:s,types:o};return a};const d=["noarchive","nosnippet","noimageindex","nocache","notranslate","indexifembedded","nositelinkssearchbox","unavailable_after","max-video-preview","max-image-preview","max-snippet"];const f=e=>{if(!e)return null;if(typeof e==="string")return e;const t=[];if(e.index)t.push("index");else if(typeof e.index==="boolean")t.push("noindex");if(e.follow)t.push("follow");else if(typeof e.follow==="boolean")t.push("nofollow");for(const n of d){const r=e[n];if(typeof r!=="undefined"&&r!==false){t.push(typeof r==="boolean"?n:`${n}:${r}`)}}return t.join(", ")};const h=e=>{if(!e)return null;return{basic:f(e),googleBot:typeof e!=="string"?f(e.googleBot):null}};const p=["google","yahoo","yandex","me","other"];const m=e=>{if(!e)return null;const t={};for(const n of p){const r=e[n];if(r){if(n==="other"){t.other={};for(const n in e.other){const r=(0,i.resolveAsArrayOrUndefined)(e.other[n]);if(r)t.other[n]=r}}else t[n]=(0,i.resolveAsArrayOrUndefined)(r)}}return t};const g=e=>{var t;if(!e)return null;if(e===true){return{capable:true}}const n=e.startupImage?(t=(0,i.resolveAsArrayOrUndefined)(e.startupImage))==null?void 0:t.map(e=>typeof e==="string"?{url:e}:e):null;return{capable:"capable"in e?!!e.capable:true,title:e.title||null,startupImage:n,statusBarStyle:e.statusBarStyle||"default"}};const y=e=>{if(!e)return null;for(const t in e){e[t]=(0,i.resolveAsArrayOrUndefined)(e[t])}return e};const v=(e,t,n)=>{if(!e)return null;return{appId:e.appId,appArgument:e.appArgument?o(e.appArgument,t,n):undefined}};const b=e=>{if(!e)return null;return{appId:e.appId,admins:(0,i.resolveAsArrayOrUndefined)(e.admins)}};const w=(e,t,n)=>{return{previous:(e==null?void 0:e.previous)?o(e.previous,t,n):null,next:(e==null?void 0:e.next)?o(e.next,t,n):null}}},36875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{getRedirectError:function(){return a},getRedirectStatusCodeFromError:function(){return f},getRedirectTypeFromError:function(){return d},getURLFromRedirectError:function(){return u},permanentRedirect:function(){return l},redirect:function(){return c}});const i=n(17974);const s=n(97860);const o=true?n(19121).actionAsyncStorage:0;function a(e,t,n){if(n===void 0)n=i.RedirectStatusCode.TemporaryRedirect;const r=Object.defineProperty(new Error(s.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true});r.digest=s.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+n+";";return r}function c(e,t){var n;t!=null?t:t=(o==null?void 0:(n=o.getStore())==null?void 0:n.isAction)?s.RedirectType.push:s.RedirectType.replace;throw a(e,t,i.RedirectStatusCode.TemporaryRedirect)}function l(e,t){if(t===void 0)t=s.RedirectType.replace;throw a(e,t,i.RedirectStatusCode.PermanentRedirect)}function u(e){if(!(0,s.isRedirectError)(e))return null;return e.digest.split(";").slice(2,-2).join(";")}function d(e){if(!(0,s.isRedirectError)(e)){throw Object.defineProperty(new Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:false,configurable:true})}return e.digest.split(";",2)[1]}function f(e){if(!(0,s.isRedirectError)(e)){throw Object.defineProperty(new Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:false,configurable:true})}return Number(e.digest.split(";").at(-2))}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},37386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setup=t.PickFirstLoadBalancer=t.shuffled=t.PickFirstLoadBalancingConfig=void 0;const r=n(86239);const i=n(18155);const s=n(72910);const o=n(31359);const a=n(71271);const c="pick_first";function l(e){o.trace(a.LogVerbosity.DEBUG,c,e)}const u="pick_first";const d=250;class f{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return u}toJsonObject(){return{[u]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&!(typeof e.shuffleAddressList==="boolean")){throw new Error("pick_first config field shuffleAddressList must be a boolean if provided")}return new f(e.shuffleAddressList===true)}}t.PickFirstLoadBalancingConfig=f;class h{constructor(e){this.subchannel=e}pick(e){return{pickResultType:s.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function p(e){const t=e.slice();for(let e=t.length-1;e>1;e--){const n=Math.floor(Math.random()*(e+1));const r=t[e];t[e]=t[n];t[n]=r}return t}t.shuffled=p;class m{constructor(e){this.channelControlHelper=e;this.children=[];this.currentState=i.ConnectivityState.IDLE;this.currentSubchannelIndex=0;this.currentPick=null;this.subchannelStateListener=(e,t,n,r,i)=>{this.onSubchannelStateUpdate(e,t,n,i)};this.triedAllSubchannels=false;this.stickyTransientFailureMode=false;this.requestedResolutionSinceLastUpdate=false;this.lastError=null;this.latestAddressList=null;this.connectionDelayTimeout=setTimeout(()=>{},0);clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){if(this.currentPick){this.updateState(i.ConnectivityState.READY,new h(this.currentPick))}else if(this.children.length===0){this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this))}else{if(this.stickyTransientFailureMode){this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`}))}else{this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this))}}}requestReresolution(){this.requestedResolutionSinceLastUpdate=true;this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(!this.allChildrenHaveReportedTF()){return}if(!this.requestedResolutionSinceLastUpdate){this.requestReresolution()}if(this.stickyTransientFailureMode){return}this.stickyTransientFailureMode=true;for(const{subchannel:e}of this.children){e.startConnecting()}this.calculateAndReportNewState()}removeCurrentPick(){if(this.currentPick!==null){const e=this.currentPick;this.currentPick=null;e.unref();e.removeConnectivityStateListener(this.subchannelStateListener);this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}}onSubchannelStateUpdate(e,t,n,r){var s;if((s=this.currentPick)===null||s===void 0?void 0:s.realSubchannelEquals(e)){if(n!==i.ConnectivityState.READY){this.removeCurrentPick();this.calculateAndReportNewState();this.requestReresolution()}return}for(const[t,s]of this.children.entries()){if(e.realSubchannelEquals(s.subchannel)){if(n===i.ConnectivityState.READY){this.pickSubchannel(s.subchannel)}if(n===i.ConnectivityState.TRANSIENT_FAILURE){s.hasReportedTransientFailure=true;if(r){this.lastError=r}this.maybeEnterStickyTransientFailureMode();if(t===this.currentSubchannelIndex){this.startNextSubchannelConnecting(t+1)}}s.subchannel.startConnecting();return}}}startNextSubchannelConnecting(e){clearTimeout(this.connectionDelayTimeout);if(this.triedAllSubchannels){return}for(const[t,n]of this.children.entries()){if(t>=e){const e=n.subchannel.getConnectivityState();if(e===i.ConnectivityState.IDLE||e===i.ConnectivityState.CONNECTING){this.startConnecting(t);return}}}this.triedAllSubchannels=true;this.maybeEnterStickyTransientFailureMode()}startConnecting(e){var t,n;clearTimeout(this.connectionDelayTimeout);this.currentSubchannelIndex=e;if(this.children[e].subchannel.getConnectivityState()===i.ConnectivityState.IDLE){l("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress());process.nextTick(()=>{var t;(t=this.children[e])===null||t===void 0?void 0:t.subchannel.startConnecting()})}this.connectionDelayTimeout=(n=(t=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},d)).unref)===null||n===void 0?void 0:n.call(t)}pickSubchannel(e){if(this.currentPick&&e.realSubchannelEquals(this.currentPick)){return}l("Pick subchannel with address "+e.getAddress());this.stickyTransientFailureMode=false;if(this.currentPick!==null){this.currentPick.unref();this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef());this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)}this.currentPick=e;e.ref();this.channelControlHelper.addChannelzChild(e.getChannelzRef());this.resetSubchannelList();clearTimeout(this.connectionDelayTimeout);this.calculateAndReportNewState()}updateState(e,t){l(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]);this.currentState=e;this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.children){if(!(this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick))){e.subchannel.removeConnectivityStateListener(this.subchannelStateListener)}e.subchannel.unref();this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef())}this.currentSubchannelIndex=0;this.children=[];this.triedAllSubchannels=false;this.requestedResolutionSinceLastUpdate=false}connectToAddressList(e){const t=e.map(e=>({subchannel:this.channelControlHelper.createSubchannel(e,{}),hasReportedTransientFailure:false}));for(const{subchannel:e}of t){e.ref();this.channelControlHelper.addChannelzChild(e.getChannelzRef())}this.resetSubchannelList();this.children=t;for(const{subchannel:e}of this.children){e.addConnectivityStateListener(this.subchannelStateListener);if(e.getConnectivityState()===i.ConnectivityState.READY){this.pickSubchannel(e);return}}for(const e of this.children){if(e.subchannel.getConnectivityState()===i.ConnectivityState.TRANSIENT_FAILURE){e.hasReportedTransientFailure=true}}this.startNextSubchannelConnecting(0);this.calculateAndReportNewState()}updateAddressList(e,t){if(!(t instanceof f)){return}if(t.getShuffleAddressList()){e=p(e)}this.latestAddressList=e;this.connectToAddressList(e)}exitIdle(){if(this.currentState===i.ConnectivityState.IDLE&&this.latestAddressList){this.connectToAddressList(this.latestAddressList)}}resetBackoff(){}destroy(){this.resetSubchannelList();this.removeCurrentPick()}getTypeName(){return u}}t.PickFirstLoadBalancer=m;function g(){(0,r.registerLoadBalancerType)(u,m,f);(0,r.registerDefaultLoadBalancerType)(u)}t.setup=g},37391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CallCredentials=void 0;const r=n(86777);function i(e){return"getRequestHeaders"in e&&typeof e.getRequestHeaders==="function"}class s{static createFromMetadataGenerator(e){return new a(e)}static createFromGoogleCredential(e){return s.createFromMetadataGenerator((t,n)=>{let s;if(i(e)){s=e.getRequestHeaders(t.service_url)}else{s=new Promise((n,r)=>{e.getRequestMetadata(t.service_url,(e,t)=>{if(e){r(e);return}if(!t){r(new Error("Headers not set by metadata plugin"));return}n(t)})})}s.then(e=>{const t=new r.Metadata;for(const n of Object.keys(e)){t.add(n,e[n])}n(null,t)},e=>{n(e)})})}static createEmpty(){return new c}}t.CallCredentials=s;class o extends s{constructor(e){super();this.creds=e}async generateMetadata(e){const t=new r.Metadata;const n=await Promise.all(this.creds.map(t=>t.generateMetadata(e)));for(const e of n){t.merge(e)}return t}compose(e){return new o(this.creds.concat([e]))}_equals(e){if(this===e){return true}if(e instanceof o){return this.creds.every((t,n)=>t._equals(e.creds[n]))}else{return false}}}class a extends s{constructor(e){super();this.metadataGenerator=e}generateMetadata(e){return new Promise((t,n)=>{this.metadataGenerator(e,(e,r)=>{if(r!==undefined){t(r)}else{n(e)}})})}compose(e){return new o([this,e])}_equals(e){if(this===e){return true}if(e instanceof a){return this.metadataGenerator===e.metadataGenerator}else{return false}}}class c extends s{generateMetadata(e){return Promise.resolve(new r.Metadata)}compose(e){return e}_equals(e){return e instanceof c}}},37413:(e,t,n)=>{"use strict";e.exports=n(65239).vendored["react-rsc"].ReactJsxRuntime},37697:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{createDefaultMetadata:function(){return i},createDefaultViewport:function(){return r}});function r(){return{width:"device-width",initialScale:1,themeColor:null,colorScheme:null}}function i(){return{viewport:null,themeColor:null,colorScheme:null,metadataBase:null,title:null,description:null,applicationName:null,authors:null,generator:null,keywords:null,referrer:null,creator:null,publisher:null,robots:null,manifest:null,alternates:{canonical:null,languages:null,media:null,types:null},icons:null,openGraph:null,twitter:null,verification:{},appleWebApp:null,formatDetection:null,itunes:null,facebook:null,pinterest:null,abstract:null,appLinks:null,archives:null,assets:null,bookmarks:null,category:null,classification:null,pagination:{previous:null,next:null},other:{}}}},38243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function(){return x}});const r=n(14985);const i=n(40740);const s=n(60687);const o=n(59154);const a=i._(n(43210));const c=r._(n(51215));const l=n(22142);const u=n(59008);const d=n(89330);const f=n(35656);const h=n(14077);const p=n(86719);const m=n(67086);const g=n(40099);const y=n(33123);const v=n(68214);const b=n(19129);function w(e,t){if(e){const[n,r]=e;const i=e.length===2;if((0,h.matchSegment)(t[0],n)){if(t[1].hasOwnProperty(r)){if(i){const e=w(undefined,t[1][r]);return[t[0],{...t[1],[r]:[e[0],e[1],e[2],"refetch"]}]}return[t[0],{...t[1],[r]:w(e.slice(2),t[1][r])}]}}}return t}const E=c.default.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(e){if(true)return null;const t=E.findDOMNode;return t(e)}const S=["bottom","height","left","right","top","width","x","y"];function T(e){if(["sticky","fixed"].includes(getComputedStyle(e).position)){if(false){}return true}const t=e.getBoundingClientRect();return S.every(e=>t[e]===0)}function C(e,t){const n=e.getBoundingClientRect();return n.top>=0&&n.top<=t}function I(e){if(e==="top"){return document.body}var t;return(t=document.getElementById(e))!=null?t:document.getElementsByName(e)[0]}class R extends a.default.Component{componentDidMount(){this.handlePotentialScroll()}componentDidUpdate(){if(this.props.focusAndScrollRef.apply){this.handlePotentialScroll()}}render(){return this.props.children}constructor(...e){super(...e),this.handlePotentialScroll=()=>{const{focusAndScrollRef:e,segmentPath:t}=this.props;if(e.apply){if(e.segmentPaths.length!==0&&!e.segmentPaths.some(e=>t.every((t,n)=>(0,h.matchSegment)(t,e[n])))){return}let r=null;const i=e.hashFragment;if(i){r=I(i)}if(!r){r=_(this)}if(!(r instanceof Element)){return}while(!(r instanceof HTMLElement)||T(r)){if(false){var n}if(r.nextElementSibling===null){return}r=r.nextElementSibling}e.apply=false;e.hashFragment=null;e.segmentPaths=[];(0,p.handleSmoothScroll)(()=>{if(i){;r.scrollIntoView();return}const e=document.documentElement;const t=e.clientHeight;if(C(r,t)){return}e.scrollTop=0;if(!C(r,t)){;r.scrollIntoView()}},{dontForceLayout:true,onlyHashChange:e.onlyHashChange});e.onlyHashChange=false;r.focus()}}}}function O(e){let{segmentPath:t,children:n}=e;const r=(0,a.useContext)(l.GlobalLayoutRouterContext);if(!r){throw Object.defineProperty(new Error("invariant global layout router not mounted"),"__NEXT_ERROR_CODE",{value:"E473",enumerable:false,configurable:true})}return(0,s.jsx)(R,{segmentPath:t,focusAndScrollRef:r.focusAndScrollRef,children:n})}function A(e){let{tree:t,segmentPath:n,cacheNode:r,url:i}=e;const c=(0,a.useContext)(l.GlobalLayoutRouterContext);if(!c){throw Object.defineProperty(new Error("invariant global layout router not mounted"),"__NEXT_ERROR_CODE",{value:"E473",enumerable:false,configurable:true})}const{tree:f}=c;const h=r.prefetchRsc!==null?r.prefetchRsc:r.rsc;const p=(0,a.useDeferredValue)(r.rsc,h);const m=typeof p==="object"&&p!==null&&typeof p.then==="function"?(0,a.use)(p):p;if(!m){let e=r.lazyData;if(e===null){const t=w(["",...n],f);const s=(0,v.hasInterceptionRouteInCurrentTree)(f);const l=Date.now();r.lazyData=e=(0,u.fetchServerResponse)(new URL(i,location.origin),{flightRouterState:t,nextUrl:s?c.nextUrl:null}).then(e=>{(0,a.startTransition)(()=>{(0,b.dispatchAppRouterAction)({type:o.ACTION_SERVER_PATCH,previousTree:f,serverResponse:e,navigatedAt:l})});return e});(0,a.use)(e)}(0,a.use)(d.unresolvedThenable)}const g=(0,s.jsx)(l.LayoutRouterContext.Provider,{value:{parentTree:t,parentCacheNode:r,parentSegmentPath:n,url:i},children:m});return g}function k(e){let{loading:t,children:n}=e;let r;if(typeof t==="object"&&t!==null&&typeof t.then==="function"){const e=t;r=(0,a.use)(e)}else{r=t}if(r){const e=r[0];const t=r[1];const i=r[2];return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsxs)(s.Fragment,{children:[t,i,e]}),children:n})}return(0,s.jsx)(s.Fragment,{children:n})}function x(e){let{parallelRouterKey:t,error:n,errorStyles:r,errorScripts:i,templateStyles:o,templateScripts:c,template:u,notFound:d,forbidden:h,unauthorized:p}=e;const v=(0,a.useContext)(l.LayoutRouterContext);if(!v){throw Object.defineProperty(new Error("invariant expected layout router to be mounted"),"__NEXT_ERROR_CODE",{value:"E56",enumerable:false,configurable:true})}const{parentTree:b,parentCacheNode:w,parentSegmentPath:E,url:_}=v;const S=w.parallelRoutes;let T=S.get(t);if(!T){T=new Map;S.set(t,T)}const C=b[0];const I=b[1][t];const R=I[0];const x=E===null?[t]:E.concat([C,t]);const P=(0,y.createRouterCacheKey)(R);const N=(0,y.createRouterCacheKey)(R,true);let D=T.get(P);if(D===undefined){const e={lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:null,navigatedAt:-1};D=e;T.set(P,e)}const M=w.loading;return(0,s.jsxs)(l.TemplateContext.Provider,{value:(0,s.jsx)(O,{segmentPath:x,children:(0,s.jsx)(f.ErrorBoundary,{errorComponent:n,errorStyles:r,errorScripts:i,children:(0,s.jsx)(k,{loading:M,children:(0,s.jsx)(g.HTTPAccessFallbackBoundary,{notFound:d,forbidden:h,unauthorized:p,children:(0,s.jsx)(m.RedirectBoundary,{children:(0,s.jsx)(A,{url:_,tree:I,cacheNode:D,segmentPath:x})})})})})}),children:[o,c,u]},N)}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},38522:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"LRUCache",{enumerable:true,get:function(){return n}});class n{constructor(e,t){this.cache=new Map;this.sizes=new Map;this.totalSize=0;this.maxSize=e;this.calculateSize=t||(()=>1)}set(e,t){if(!e||!t)return;const n=this.calculateSize(t);if(n>this.maxSize){console.warn("Single item size exceeds maxSize");return}if(this.cache.has(e)){this.totalSize-=this.sizes.get(e)||0}this.cache.set(e,t);this.sizes.set(e,n);this.totalSize+=n;this.touch(e)}has(e){if(!e)return false;this.touch(e);return Boolean(this.cache.get(e))}get(e){if(!e)return;const t=this.cache.get(e);if(t===undefined){return undefined}this.touch(e);return t}touch(e){const t=this.cache.get(e);if(t!==undefined){this.cache.delete(e);this.cache.set(e,t);this.evictIfNecessary()}}evictIfNecessary(){while(this.totalSize>this.maxSize&&this.cache.size>0){this.evictLeastRecentlyUsed()}}evictLeastRecentlyUsed(){const e=this.cache.keys().next().value;if(e!==undefined){const t=this.sizes.get(e)||0;this.totalSize-=t;this.cache.delete(e);this.sizes.delete(e)}}reset(){this.cache.clear();this.sizes.clear();this.totalSize=0}keys(){return[...this.cache.keys()]}remove(e){if(this.cache.has(e)){this.totalSize-=this.sizes.get(e)||0;this.cache.delete(e);this.sizes.delete(e)}}clear(){this.cache.clear();this.sizes.clear();this.totalSize=0}get size(){return this.cache.size}get currentSize(){return this.totalSize}}},38637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"setCacheBustingSearchParam",{enumerable:true,get:function(){return s}});const r=n(15102);const i=n(91563);const s=(e,t)=>{const n=(0,r.hexHash)([t[i.NEXT_ROUTER_PREFETCH_HEADER]||"0",t[i.NEXT_ROUTER_SEGMENT_PREFETCH_HEADER]||"0",t[i.NEXT_ROUTER_STATE_TREE_HEADER],t[i.NEXT_URL]].join(","));const s=e.search;const o=s.startsWith("?")?s.slice(1):s;const a=o.split("&").filter(Boolean);a.push(i.NEXT_RSC_UNION_QUERY+"="+n);e.search=a.length?"?"+a.join("&"):""};if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},39444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{normalizeAppPath:function(){return o},normalizeRscURL:function(){return a}});const i=n(46453);const s=n(83913);function o(e){return(0,i.ensureLeadingSlash)(e.split("/").reduce((e,t,n,r)=>{if(!t){return e}if((0,s.isGroupSegment)(t)){return e}if(t[0]==="@"){return e}if((t==="page"||t==="route")&&n===r.length-1){return e}return e+"/"+t},""))}function a(e){return e.replace(/\.rsc($|\?)/,"$1")}},39695:(e,t,n)=>{"use strict";e.exports=n(94041).vendored.contexts.ServerInsertedHtml},39844:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"createProxy",{enumerable:true,get:function(){return i}});const r=n(12907);const i=r.createClientModuleProxy},40099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"HTTPAccessFallbackBoundary",{enumerable:true,get:function(){return d}});const r=n(40740);const i=n(60687);const s=r._(n(43210));const o=n(93883);const a=n(86358);const c=n(50148);const l=n(22142);class u extends s.default.Component{componentDidCatch(){if(false){}}static getDerivedStateFromError(e){if((0,a.isHTTPAccessFallbackError)(e)){const t=(0,a.getAccessFallbackHTTPStatus)(e);return{triggeredStatus:t}}throw e}static getDerivedStateFromProps(e,t){if(e.pathname!==t.previousPathname&&t.triggeredStatus){return{triggeredStatus:undefined,previousPathname:e.pathname}}return{triggeredStatus:t.triggeredStatus,previousPathname:e.pathname}}render(){const{notFound:e,forbidden:t,unauthorized:n,children:r}=this.props;const{triggeredStatus:s}=this.state;const o={[a.HTTPAccessErrorStatus.NOT_FOUND]:e,[a.HTTPAccessErrorStatus.FORBIDDEN]:t,[a.HTTPAccessErrorStatus.UNAUTHORIZED]:n};if(s){const c=s===a.HTTPAccessErrorStatus.NOT_FOUND&&e;const l=s===a.HTTPAccessErrorStatus.FORBIDDEN&&t;const u=s===a.HTTPAccessErrorStatus.UNAUTHORIZED&&n;if(!(c||l||u)){return r}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("meta",{name:"robots",content:"noindex"}),false&&0,o[s]]})}return r}constructor(e){super(e);this.state={triggeredStatus:undefined,previousPathname:e.pathname}}}function d(e){let{notFound:t,forbidden:n,unauthorized:r,children:a}=e;const c=(0,o.useUntrackedPathname)();const d=(0,s.useContext)(l.MissingSlotContext);const f=!!(t||n||r);if(f){return(0,i.jsx)(u,{pathname:c,notFound:t,forbidden:n,unauthorized:r,missingSlots:d,children:a})}return(0,i.jsx)(i.Fragment,{children:a})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},40740:(e,t,n)=>{"use strict";n.r(t);n.d(t,{_:()=>i});function r(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var n=new WeakMap;return(r=function(e){return e?n:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!=="object"&&typeof e!=="function")return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;if(a&&(a.get||a.set))Object.defineProperty(i,o,a);else i[o]=e[o]}}i.default=e;if(n)n.set(e,i);return i}},40962:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BaseFilter=void 0;class n{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}}t.BaseFilter=n},42292:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"unstable_rethrow",{enumerable:true,get:function(){return l}});const r=n(18238);const i=n(76299);const s=n(81208);const o=n(88092);const a=n(54717);const c=n(22113);function l(e){if((0,o.isNextRouterError)(e)||(0,s.isBailoutToCSRError)(e)||(0,c.isDynamicServerError)(e)||(0,a.isDynamicPostpone)(e)||(0,i.isPostpone)(e)||(0,r.isHangingPromiseRejectionError)(e)){throw e}if(e instanceof Error&&"cause"in e){l(e.cause)}}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},42706:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{accumulateMetadata:function(){return q},accumulateViewport:function(){return $},resolveMetadata:function(){return G},resolveViewport:function(){return W}});n(34822);const i=n(61120);const s=n(37697);const o=n(66483);const a=n(57373);const c=n(77341);const l=n(22586);const u=n(6255);const d=n(36536);const f=n(97181);const h=n(81289);const p=n(14823);const m=n(35499);const g=b(n(21709));const y=n(73102);function v(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var n=v(t);if(n&&n.has(e)){return n.get(e)}var r={__proto__:null};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;if(o&&(o.get||o.set)){Object.defineProperty(r,s,o)}else{r[s]=e[s]}}}r.default=e;if(n){n.set(e,r)}return r}function w(e){if(!e){return false}return(e.url==="/favicon.ico"||e.url.toString().startsWith("/favicon.ico?"))&&e.type==="image/x-icon"}function E(e,t,n,r,i,s){var a,c;if(!n)return;const{icon:l,apple:u,openGraph:d,twitter:f,manifest:h}=n;if(l){s.icon=l}if(u){s.apple=u}if(f&&!(e==null?void 0:(a=e.twitter)==null?void 0:a.hasOwnProperty("images"))){const e=(0,o.resolveTwitter)({...t.twitter,images:f},t.metadataBase,{...r,isStaticMetadataRouteFile:true},i.twitter);t.twitter=e}if(d&&!(e==null?void 0:(c=e.openGraph)==null?void 0:c.hasOwnProperty("images"))){const e=(0,o.resolveOpenGraph)({...t.openGraph,images:d},t.metadataBase,{...r,isStaticMetadataRouteFile:true},i.openGraph);t.openGraph=e}if(h){t.manifest=h}return t}function _({source:e,target:t,staticFilesMetadata:n,titleTemplates:r,metadataContext:i,buildState:s,leafSegmentStaticIcons:l}){const u=typeof(e==null?void 0:e.metadataBase)!=="undefined"?e.metadataBase:t.metadataBase;for(const n in e){const l=n;switch(l){case"title":{t.title=(0,a.resolveTitle)(e.title,r.title);break}case"alternates":{t.alternates=(0,d.resolveAlternates)(e.alternates,u,i);break}case"openGraph":{t.openGraph=(0,o.resolveOpenGraph)(e.openGraph,u,i,r.openGraph);break}case"twitter":{t.twitter=(0,o.resolveTwitter)(e.twitter,u,i,r.twitter);break}case"facebook":t.facebook=(0,d.resolveFacebook)(e.facebook);break;case"verification":t.verification=(0,d.resolveVerification)(e.verification);break;case"icons":{t.icons=(0,f.resolveIcons)(e.icons);break}case"appleWebApp":t.appleWebApp=(0,d.resolveAppleWebApp)(e.appleWebApp);break;case"appLinks":t.appLinks=(0,d.resolveAppLinks)(e.appLinks);break;case"robots":{t.robots=(0,d.resolveRobots)(e.robots);break}case"archives":case"assets":case"bookmarks":case"keywords":{t[l]=(0,c.resolveAsArrayOrUndefined)(e[l]);break}case"authors":{t[l]=(0,c.resolveAsArrayOrUndefined)(e.authors);break}case"itunes":{t[l]=(0,d.resolveItunes)(e.itunes,u,i);break}case"pagination":{t.pagination=(0,d.resolvePagination)(e.pagination,u,i);break}case"applicationName":case"description":case"generator":case"creator":case"publisher":case"category":case"classification":case"referrer":case"formatDetection":case"manifest":case"pinterest":t[l]=e[l]||null;break;case"other":t.other=Object.assign({},t.other,e.other);break;case"metadataBase":t.metadataBase=u;break;default:{if((l==="viewport"||l==="themeColor"||l==="colorScheme")&&e[l]!=null){s.warnings.add(`Unsupported metadata ${l} is configured in metadata export in ${i.pathname}. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport`)}break}}}E(e,t,n,i,r,l)}function S({target:e,source:t}){if(!t)return;for(const n in t){const r=n;switch(r){case"themeColor":{e.themeColor=(0,d.resolveThemeColor)(t.themeColor);break}case"colorScheme":e.colorScheme=t.colorScheme||null;break;default:e[r]=t[r];break}}}function T(e,t,n){if(typeof e.generateViewport==="function"){const{route:r}=n;return n=>(0,h.getTracer)().trace(p.ResolveMetadataSpan.generateViewport,{spanName:`generateViewport ${r}`,attributes:{"next.page":r}},()=>e.generateViewport(t,n))}return e.viewport||null}function C(e,t,n){if(typeof e.generateMetadata==="function"){const{route:r}=n;return n=>(0,h.getTracer)().trace(p.ResolveMetadataSpan.generateMetadata,{spanName:`generateMetadata ${r}`,attributes:{"next.page":r}},()=>e.generateMetadata(t,n))}return e.metadata||null}async function I(e,t,n){var r;if(!(e==null?void 0:e[n]))return undefined;const i=e[n].map(async e=>(0,u.interopDefault)(await e(t)));return(i==null?void 0:i.length)>0?(r=await Promise.all(i))==null?void 0:r.flat():undefined}async function R(e,t){const{metadata:n}=e;if(!n)return null;const[r,i,s,o]=await Promise.all([I(n,t,"icon"),I(n,t,"apple"),I(n,t,"openGraph"),I(n,t,"twitter")]);const a={icon:r,apple:i,openGraph:s,twitter:o,manifest:n.manifest};return a}async function O({tree:e,metadataItems:t,errorMetadataItem:n,props:r,route:i,errorConvention:s}){let o;let a;const c=Boolean(s&&e[2][s]);if(s){o=await (0,l.getComponentTypeModule)(e,"layout");a=s}else{const{mod:t,modType:n}=await (0,l.getLayoutOrPageModule)(e);o=t;a=n}if(a){i+=`/${a}`}const u=await R(e[2],r);const d=o?C(o,r,{route:i}):null;t.push([d,u]);if(c&&s){const t=await (0,l.getComponentTypeModule)(e,s);const o=t?C(t,r,{route:i}):null;n[0]=o;n[1]=u}}async function A({tree:e,viewportItems:t,errorViewportItemRef:n,props:r,route:i,errorConvention:s}){let o;let a;const c=Boolean(s&&e[2][s]);if(s){o=await (0,l.getComponentTypeModule)(e,"layout");a=s}else{const{mod:t,modType:n}=await (0,l.getLayoutOrPageModule)(e);o=t;a=n}if(a){i+=`/${a}`}const u=o?T(o,r,{route:i}):null;t.push(u);if(c&&s){const t=await (0,l.getComponentTypeModule)(e,s);const o=t?T(t,r,{route:i}):null;n.current=o}}const k=(0,i.cache)(async function(e,t,n,r,i){const s={};const o=[];const a=[null,null];const c=undefined;return x(o,e,c,s,t,n,a,r,i)});async function x(e,t,n,r,i,s,o,a,c){const[l,u,{page:d}]=t;const f=n&&n.length?[...n,l]:[l];const h=typeof d!=="undefined";const p=a(l);let g=r;if(p&&p.value!==null){g={...r,[p.param]:p.value}}const v=(0,y.createServerParamsForMetadata)(g,c);let b;if(h){b={params:v,searchParams:i}}else{b={params:v}}await O({tree:t,metadataItems:e,errorMetadataItem:o,errorConvention:s,props:b,route:f.filter(e=>e!==m.PAGE_SEGMENT_KEY).join("/")});for(const t in u){const n=u[t];await x(e,n,f,g,i,s,o,a,c)}if(Object.keys(u).length===0&&s){e.push(o)}return e}const P=(0,i.cache)(async function(e,t,n,r,i){const s={};const o=[];const a={current:null};const c=undefined;return N(o,e,c,s,t,n,a,r,i)});async function N(e,t,n,r,i,s,o,a,c){const[l,u,{page:d}]=t;const f=n&&n.length?[...n,l]:[l];const h=typeof d!=="undefined";const p=a(l);let g=r;if(p&&p.value!==null){g={...r,[p.param]:p.value}}const v=(0,y.createServerParamsForMetadata)(g,c);let b;if(h){b={params:v,searchParams:i}}else{b={params:v}}await A({tree:t,viewportItems:e,errorViewportItemRef:o,errorConvention:s,props:b,route:f.filter(e=>e!==m.PAGE_SEGMENT_KEY).join("/")});for(const t in u){const n=u[t];await N(e,n,f,g,i,s,o,a,c)}if(Object.keys(u).length===0&&s){e.push(o.current)}return e}const D=e=>!!(e==null?void 0:e.absolute);const M=e=>D(e==null?void 0:e.title);function L(e,t){if(e){if(!M(e)&&M(t)){e.title=t.title}if(!e.description&&t.description){e.description=t.description}}}const j=null&&["title","description","images"];function F(e,t,n,r){const{openGraph:i,twitter:s}=e;if(i){let t={};const a=M(s);const c=s==null?void 0:s.description;const l=Boolean((s==null?void 0:s.hasOwnProperty("images"))&&s.images);if(!a){if(D(i.title)){t.title=i.title}else if(e.title&&D(e.title)){t.title=e.title}}if(!c)t.description=i.description||e.description||undefined;if(!l)t.images=i.images;if(Object.keys(t).length>0){const i=(0,o.resolveTwitter)(t,e.metadataBase,r,n.twitter);if(e.twitter){e.twitter=Object.assign({},e.twitter,{...!a&&{title:i==null?void 0:i.title},...!c&&{description:i==null?void 0:i.description},...!l&&{images:i==null?void 0:i.images}})}else{e.twitter=i}}}L(i,e);L(s,e);if(t){if(!e.icons){e.icons={icon:[],apple:[]}}e.icons.icon.unshift(t)}return e}function B(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n][0];V(t,r)}return t}function U(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];V(t,r)}return t}function V(e,t){if(typeof t==="function"){const n=t(new Promise(t=>e.push(t)));e.push(n);if(n instanceof Promise){n.catch(e=>{return{__nextError:e}})}}else if(typeof t==="object"){e.push(t)}else{e.push(null)}}function z(e,t){if(false){}t(e)}async function q(e,t){const n=(0,s.createDefaultMetadata)();let r={title:null,twitter:null,openGraph:null};const i={warnings:new Set};let o;const a={icon:[],apple:[]};const c=B(e);let l=0;for(let s=0;s<e.length;s++){var u;const m=e[s][1];if(s<=1&&w(m==null?void 0:(u=m.icon)==null?void 0:u[0])){var d;const e=m==null?void 0:(d=m.icon)==null?void 0:d.shift();if(s===0)o=e}let g=c[l++];if(typeof g==="function"){const e=g;g=c[l++];z(n,e)}let y;if(H(g)){y=await g}else{y=g}_({target:n,source:y,metadataContext:t,staticFilesMetadata:m,titleTemplates:r,buildState:i,leafSegmentStaticIcons:a});if(s<e.length-2){var f,h,p;r={title:((f=n.title)==null?void 0:f.template)||null,openGraph:((h=n.openGraph)==null?void 0:h.title.template)||null,twitter:((p=n.twitter)==null?void 0:p.title.template)||null}}}if(a.icon.length>0||a.apple.length>0){if(!n.icons){n.icons={icon:[],apple:[]};if(a.icon.length>0){n.icons.icon.unshift(...a.icon)}if(a.apple.length>0){n.icons.apple.unshift(...a.apple)}}}if(i.warnings.size>0){for(const e of i.warnings){g.warn(e)}}return F(n,o,r,t)}async function $(e){const t=(0,s.createDefaultViewport)();const n=U(e);let r=0;while(r<n.length){let e=n[r++];if(typeof e==="function"){const i=e;e=n[r++];z(t,i)}let i;if(H(e)){i=await e}else{i=e}S({target:t,source:i})}return t}async function G(e,t,n,r,i,s){const o=await k(e,t,n,r,i);return q(o,s)}async function W(e,t,n,r,i){const s=await P(e,t,n,r,i);return $(s)}function H(e){return typeof e==="object"&&e!==null&&typeof e.then==="function"}},43210:(e,t,n)=>{"use strict";e.exports=n(94041).vendored["react-ssr"].React},43356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.stringToSubchannelAddress=t.subchannelAddressToString=t.subchannelAddressEqual=t.isTcpSubchannelAddress=void 0;const r=n(91645);function i(e){return"port"in e}t.isTcpSubchannelAddress=i;function s(e,t){if(!e&&!t){return true}if(!e||!t){return false}if(i(e)){return i(t)&&e.host===t.host&&e.port===t.port}else{return!i(t)&&e.path===t.path}}t.subchannelAddressEqual=s;function o(e){if(i(e)){return e.host+":"+e.port}else{return e.path}}t.subchannelAddressToString=o;const a=443;function c(e,t){if((0,r.isIP)(e)){return{host:e,port:t!==null&&t!==void 0?t:a}}else{return{path:e}}}t.stringToSubchannelAddress=c},44660:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setup=t.DEFAULT_PORT=void 0;const r=n(5674);const i=n(37366);const s=n(28354);const o=n(10504);const a=n(71271);const c=n(86777);const l=n(31359);const u=n(71271);const d=n(26786);const f=n(91645);const h=n(50268);const p="dns_resolver";function m(e){l.trace(u.LogVerbosity.DEBUG,p,e)}t.DEFAULT_PORT=443;const g=3e4;const y=s.promisify(i.resolveTxt);const v=s.promisify(i.lookup);function b(...e){const t=[];for(let n=0;n<Math.max.apply(null,e.map(e=>e.length));n++){for(const r of e){if(n<r.length){t.push(r[n])}}}return t}class w{constructor(e,n,r){var i,s,o;this.target=e;this.listener=n;this.pendingLookupPromise=null;this.pendingTxtPromise=null;this.latestLookupResult=null;this.latestServiceConfig=null;this.latestServiceConfigError=null;this.continueResolving=false;this.isNextResolutionTimerRunning=false;this.isServiceConfigEnabled=true;this.returnedIpResult=false;m("Resolver constructed for target "+(0,d.uriToString)(e));const l=(0,d.splitHostPort)(e.path);if(l===null){this.ipResult=null;this.dnsHostname=null;this.port=null}else{if((0,f.isIPv4)(l.host)||(0,f.isIPv6)(l.host)){this.ipResult=[{host:l.host,port:(i=l.port)!==null&&i!==void 0?i:t.DEFAULT_PORT}];this.dnsHostname=null;this.port=null}else{this.ipResult=null;this.dnsHostname=l.host;this.port=(s=l.port)!==null&&s!==void 0?s:t.DEFAULT_PORT}}this.percentage=Math.random()*100;if(r["grpc.service_config_disable_resolution"]===1){this.isServiceConfigEnabled=false}this.defaultResolutionError={code:a.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,d.uriToString)(this.target)}`,metadata:new c.Metadata};const u={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoff=new h.BackoffTimeout(()=>{if(this.continueResolving){this.startResolutionWithBackoff()}},u);this.backoff.unref();this.minTimeBetweenResolutionsMs=(o=r["grpc.dns_min_time_between_resolutions_ms"])!==null&&o!==void 0?o:g;this.nextResolutionTimer=setTimeout(()=>{},0);clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){if(!this.returnedIpResult){m("Returning IP address for target "+(0,d.uriToString)(this.target));setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})});this.returnedIpResult=true}this.backoff.stop();this.backoff.reset();this.stopNextResolutionTimer();return}if(this.dnsHostname===null){m("Failed to parse DNS address "+(0,d.uriToString)(this.target));setImmediate(()=>{this.listener.onError({code:a.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,d.uriToString)(this.target)}`,metadata:new c.Metadata})});this.stopNextResolutionTimer()}else{if(this.pendingLookupPromise!==null){return}m("Looking up DNS hostname "+this.dnsHostname);this.latestLookupResult=null;const e=this.dnsHostname;this.pendingLookupPromise=v(e,{all:true});this.pendingLookupPromise.then(e=>{if(this.pendingLookupPromise===null){return}this.pendingLookupPromise=null;this.backoff.reset();this.backoff.stop();const t=e.filter(e=>e.family===4);const n=e.filter(e=>e.family===6);this.latestLookupResult=b(n,t).map(e=>({host:e.address,port:+this.port}));const r="["+this.latestLookupResult.map(e=>e.host+":"+e.port).join(",")+"]";m("Resolved addresses for target "+(0,d.uriToString)(this.target)+": "+r);if(this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},e=>{if(this.pendingLookupPromise===null){return}m("Resolution error for target "+(0,d.uriToString)(this.target)+": "+e.message);this.pendingLookupPromise=null;this.stopNextResolutionTimer();this.listener.onError(this.defaultResolutionError)});if(this.isServiceConfigEnabled&&this.pendingTxtPromise===null){this.pendingTxtPromise=y(e);this.pendingTxtPromise.then(e=>{if(this.pendingTxtPromise===null){return}this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,o.extractAndSelectServiceConfig)(e,this.percentage)}catch(e){this.latestServiceConfigError={code:a.Status.UNAVAILABLE,details:`Parsing service config failed with error ${e.message}`,metadata:new c.Metadata}}if(this.latestLookupResult!==null){this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},e=>{})}}}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer);this.nextResolutionTimer=(t=(e=setTimeout(()=>{this.stopNextResolutionTimer();if(this.continueResolving){this.startResolutionWithBackoff()}},this.minTimeBetweenResolutionsMs)).unref)===null||t===void 0?void 0:t.call(e);this.isNextResolutionTimerRunning=true}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer);this.isNextResolutionTimerRunning=false}startResolutionWithBackoff(){if(this.pendingLookupPromise===null){this.continueResolving=false;this.backoff.runOnce();this.startNextResolutionTimer();this.startResolution()}}updateResolution(){if(this.pendingLookupPromise===null){if(this.isNextResolutionTimerRunning||this.backoff.isRunning()){if(this.isNextResolutionTimerRunning){m('resolution update delayed by "min time between resolutions" rate limit')}else{m("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString())}this.continueResolving=true}else{this.startResolutionWithBackoff()}}}destroy(){this.continueResolving=false;this.backoff.reset();this.backoff.stop();this.stopNextResolutionTimer();this.pendingLookupPromise=null;this.pendingTxtPromise=null;this.latestLookupResult=null;this.latestServiceConfig=null;this.latestServiceConfigError=null;this.returnedIpResult=false}static getDefaultAuthority(e){return e.path}}function E(){(0,r.registerResolver)("dns",w);(0,r.registerDefaultScheme)("dns")}t.setup=E},46033:(e,t,n)=>{"use strict";e.exports=n(65239).vendored["react-rsc"].ReactDOM},46059:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var r=n(43210);var i=n(98599);var s=n(66156);function o(e,t){return r.useReducer((e,n)=>{const r=t[e][n];return r??e},e)}var a=e=>{const{present:t,children:n}=e;const s=c(t);const o=typeof n==="function"?n({present:s.isPresent}):r.Children.only(n);const a=(0,i.s)(s.ref,u(o));const l=typeof n==="function";return l||s.isPresent?r.cloneElement(o,{ref:a}):null};a.displayName="Presence";function c(e){const[t,n]=r.useState();const i=r.useRef({});const a=r.useRef(e);const c=r.useRef("none");const u=e?"mounted":"unmounted";const[d,f]=o(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});r.useEffect(()=>{const e=l(i.current);c.current=d==="mounted"?e:"none"},[d]);(0,s.N)(()=>{const t=i.current;const n=a.current;const r=n!==e;if(r){const r=c.current;const i=l(t);if(e){f("MOUNT")}else if(i==="none"||t?.display==="none"){f("UNMOUNT")}else{const e=r!==i;if(n&&e){f("ANIMATION_OUT")}else{f("UNMOUNT")}}a.current=e}},[e,f]);(0,s.N)(()=>{if(t){let e;const n=t.ownerDocument.defaultView??window;const r=r=>{const s=l(i.current);const o=s.includes(r.animationName);if(r.target===t&&o){f("ANIMATION_END");if(!a.current){const r=t.style.animationFillMode;t.style.animationFillMode="forwards";e=n.setTimeout(()=>{if(t.style.animationFillMode==="forwards"){t.style.animationFillMode=r}})}}};const s=e=>{if(e.target===t){c.current=l(i.current)}};t.addEventListener("animationstart",s);t.addEventListener("animationcancel",r);t.addEventListener("animationend",r);return()=>{n.clearTimeout(e);t.removeEventListener("animationstart",s);t.removeEventListener("animationcancel",r);t.removeEventListener("animationend",r)}}else{f("ANIMATION_END")}},[t,f]);return{isPresent:["mounted","unmountSuspended"].includes(d),ref:r.useCallback(e=>{if(e)i.current=getComputedStyle(e);n(e)},[])}}function l(e){return e?.animationName||"none"}function u(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get;let n=t&&"isReactWarning"in t&&t.isReactWarning;if(n){return e.ref}t=Object.getOwnPropertyDescriptor(e,"ref")?.get;n=t&&"isReactWarning"in t&&t.isReactWarning;if(n){return e.props.ref}return e.props.ref||e.ref}},46453:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ensureLeadingSlash",{enumerable:true,get:function(){return n}});function n(e){return e.startsWith("/")?e:"/"+e}},46577:(e,t,n)=>{const{createProxy:r}=n(39844);e.exports=r("/data/data/com.termux/files/home/Golden-hours/node_modules/next/dist/client/components/metadata/metadata-boundary.js")},46642:e=>{"use strict";e.exports={}},47099:e=>{var t=1/0;var n="[object Symbol]";var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var s="\ud800-\udfff",o="\\u0300-\\u036f\\ufe20-\\ufe23",a="\\u20d0-\\u20f0",c="\\u2700-\\u27bf",l="a-z\\xdf-\\xf6\\xf8-\\xff",u="\\xac\\xb1\\xd7\\xf7",d="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",f="\\u2000-\\u206f",h=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="A-Z\\xc0-\\xd6\\xd8-\\xde",m="\\ufe0e\\ufe0f",g=u+d+f+h;var y="[']",v="["+s+"]",b="["+g+"]",w="["+o+a+"]",E="\\d+",_="["+c+"]",S="["+l+"]",T="[^"+s+g+E+c+l+p+"]",C="\ud83c[\udffb-\udfff]",I="(?:"+w+"|"+C+")",R="[^"+s+"]",O="(?:\ud83c[\udde6-\uddff]){2}",A="[\ud800-\udbff][\udc00-\udfff]",k="["+p+"]",x="\\u200d";var P="(?:"+S+"|"+T+")",N="(?:"+k+"|"+T+")",D="(?:"+y+"(?:d|ll|m|re|s|t|ve))?",M="(?:"+y+"(?:D|LL|M|RE|S|T|VE))?",L=I+"?",j="["+m+"]?",F="(?:"+x+"(?:"+[R,O,A].join("|")+")"+j+L+")*",B=j+L+F,U="(?:"+[_,O,A].join("|")+")"+B,V="(?:"+[R+w+"?",w,O,A,v].join("|")+")";var z=RegExp(y,"g");var q=RegExp(w,"g");var $=RegExp(C+"(?="+C+")|"+V+B,"g");var G=RegExp([k+"?"+S+"+"+D+"(?="+[b,k,"$"].join("|")+")",N+"+"+M+"(?="+[b,k+P,"$"].join("|")+")",k+"?"+P+"+"+D,k+"+"+M,E,U].join("|"),"g");var W=RegExp("["+x+s+o+a+m+"]");var H=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var K={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"ss"};var Q=typeof global=="object"&&global&&global.Object===Object&&global;var Y=typeof self=="object"&&self&&self.Object===Object&&self;var X=Q||Y||Function("return this")();function J(e,t,n,r){var i=-1,s=e?e.length:0;if(r&&s){n=e[++i]}while(++i<s){n=t(n,e[i],i,e)}return n}function Z(e){return e.split("")}function ee(e){return e.match(r)||[]}function et(e){return function(t){return e==null?undefined:e[t]}}var en=et(K);function er(e){return W.test(e)}function ei(e){return H.test(e)}function es(e){return er(e)?eo(e):Z(e)}function eo(e){return e.match($)||[]}function ea(e){return e.match(G)||[]}var ec=Object.prototype;var el=ec.toString;var eu=X.Symbol;var ed=eu?eu.prototype:undefined,ef=ed?ed.toString:undefined;function eh(e,t,n){var r=-1,i=e.length;if(t<0){t=-t>i?0:i+t}n=n>i?i:n;if(n<0){n+=i}i=t>n?0:n-t>>>0;t>>>=0;var s=Array(i);while(++r<i){s[r]=e[r+t]}return s}function ep(e){if(typeof e=="string"){return e}if(eb(e)){return ef?ef.call(e):""}var n=e+"";return n=="0"&&1/e==-t?"-0":n}function em(e,t,n){var r=e.length;n=n===undefined?r:n;return!t&&n>=r?e:eh(e,t,n)}function eg(e){return function(t){t=ew(t);var n=er(t)?es(t):undefined;var r=n?n[0]:t.charAt(0);var i=n?em(n,1).join(""):t.slice(1);return r[e]()+i}}function ey(e){return function(t){return J(eC(eS(t).replace(z,"")),e,"")}}function ev(e){return!!e&&typeof e=="object"}function eb(e){return typeof e=="symbol"||ev(e)&&el.call(e)==n}function ew(e){return e==null?"":ep(e)}var eE=ey(function(e,t,n){t=t.toLowerCase();return e+(n?e_(t):t)});function e_(e){return eT(ew(e).toLowerCase())}function eS(e){e=ew(e);return e&&e.replace(i,en).replace(q,"")}var eT=eg("toUpperCase");function eC(e,t,n){e=ew(e);t=n?undefined:t;if(t===undefined){return ei(e)?ea(e):ee(e)}return e.match(t)||[]}e.exports=eE},49026:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{REDIRECT_ERROR_CODE:function(){return s},RedirectType:function(){return o},isRedirectError:function(){return a}});const i=n(52836);const s="NEXT_REDIRECT";var o=function(e){e["push"]="push";e["replace"]="replace";return e}({});function a(e){if(typeof e!=="object"||e===null||!("digest"in e)||typeof e.digest!=="string"){return false}const t=e.digest.split(";");const[n,r]=t;const o=t.slice(2,-2).join(";");const a=t.at(-2);const c=Number(a);return n===s&&(r==="replace"||r==="push")&&typeof o==="string"&&!isNaN(c)&&c in i.RedirectStatusCode}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},49384:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function i(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}var s=null&&i},49477:(e,t,n)=>{const{createProxy:r}=n(39844);e.exports=r("/data/data/com.termux/files/home/Golden-hours/node_modules/next/dist/client/components/http-access-fallback/error-boundary.js")},50148:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"warnOnce",{enumerable:true,get:function(){return n}});let n=e=>{};if(false){}},50268:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BackoffTimeout=void 0;const n=1e3;const r=1.6;const i=12e4;const s=.2;function o(e,t){return Math.random()*(t-e)+e}class a{constructor(e,t){this.callback=e;this.initialDelay=n;this.multiplier=r;this.maxDelay=i;this.jitter=s;this.running=false;this.hasRef=true;this.startTime=new Date;this.endTime=new Date;if(t){if(t.initialDelay){this.initialDelay=t.initialDelay}if(t.multiplier){this.multiplier=t.multiplier}if(t.jitter){this.jitter=t.jitter}if(t.maxDelay){this.maxDelay=t.maxDelay}}this.nextDelay=this.initialDelay;this.timerId=setTimeout(()=>{},0);clearTimeout(this.timerId)}runTimer(e){var t,n;this.endTime=this.startTime;this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay);clearTimeout(this.timerId);this.timerId=setTimeout(()=>{this.callback();this.running=false},e);if(!this.hasRef){(n=(t=this.timerId).unref)===null||n===void 0?void 0:n.call(t)}}runOnce(){this.running=true;this.startTime=new Date;this.runTimer(this.nextDelay);const e=Math.min(this.nextDelay*this.multiplier,this.maxDelay);const t=e*this.jitter;this.nextDelay=e+o(-t,t)}stop(){clearTimeout(this.timerId);this.running=false}reset(){this.nextDelay=this.initialDelay;if(this.running){const e=new Date;const t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay);clearTimeout(this.timerId);if(e<t){this.runTimer(t.getTime()-e.getTime())}else{this.running=false}}}isRunning(){return this.running}ref(){var e,t;this.hasRef=true;(t=(e=this.timerId).ref)===null||t===void 0?void 0:t.call(e)}unref(){var e,t;this.hasRef=false;(t=(e=this.timerId).unref)===null||t===void 0?void 0:t.call(e)}getEndTime(){return this.endTime}}t.BackoffTimeout=a},51215:(e,t,n)=>{"use strict";e.exports=n(94041).vendored["react-ssr"].ReactDOM},51846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{BailoutToCSRError:function(){return i},isBailoutToCSRError:function(){return s}});const r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class i extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function s(e){if(typeof e!=="object"||e===null||!("digest"in e)){return false}return e.digest===r}},52122:(e,t,n)=>{"use strict";n.d(t,{cY:()=>I,FA:()=>ee,g:()=>Z,u:()=>h,Uj:()=>f,Fy:()=>A,tD:()=>eE,bD:()=>ep,hp:()=>eb,T9:()=>T,Tj:()=>_,yU:()=>S,mS:()=>y,Ku:()=>eU,ZQ:()=>M,sr:()=>V,zJ:()=>R,c1:()=>U,zW:()=>Q,jZ:()=>L,lV:()=>z,nr:()=>H,Ov:()=>K,gE:()=>O,Am:()=>ey,I9:()=>ev,P1:()=>D,eX:()=>Y});const r=()=>undefined;const i={NODE_CLIENT:false,NODE_ADMIN:false,SDK_VERSION:"${JSCORE_VERSION}"};const s=function(e,t){if(!e){throw o(t)}};const o=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};const a=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if((i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320){i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return t};const c=function(e){const t=[];let n=0,r=0;while(n<e.length){const i=e[n++];if(i<128){t[r++]=String.fromCharCode(i)}else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++];const o=e[n++];const a=e[n++];const c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10));t[r++]=String.fromCharCode(56320+(c&1023))}else{const s=e[n++];const o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")};const l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"abcdefghijklmnopqrstuvwxyz"+"0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(e,t){if(!Array.isArray(e)){throw Error("encodeByteArray takes an array as a parameter")}this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_;const r=[];for(let t=0;t<e.length;t+=3){const i=e[t];const s=t+1<e.length;const o=s?e[t+1]:0;const a=t+2<e.length;const c=a?e[t+2]:0;const l=i>>2;const u=(i&3)<<4|o>>4;let d=(o&15)<<2|c>>6;let f=c&63;if(!a){f=64;if(!s){d=64}}r.push(n[l],n[u],n[d],n[f])}return r.join("")},encodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return btoa(e)}return this.encodeByteArray(a(e),t)},decodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return atob(e)}return c(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_;const r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)];const s=t<e.length;const o=s?n[e.charAt(t)]:0;++t;const a=t<e.length;const c=a?n[e.charAt(t)]:64;++t;const l=t<e.length;const d=l?n[e.charAt(t)]:64;++t;if(i==null||o==null||c==null||d==null){throw new u}const f=i<<2|o>>4;r.push(f);if(c!==64){const e=o<<4&240|c>>2;r.push(e);if(d!==64){const e=c<<6&192|d;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++){this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e);this.charToByteMap_[this.byteToCharMap_[e]]=e;this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e);this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e;if(e>=this.ENCODED_VALS_BASE.length){this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e;this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e}}}}};class u extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}const d=function(e){const t=a(e);return l.encodeByteArray(t,true)};const f=function(e){return d(e).replace(/\./g,"")};const h=function(e){try{return l.decodeString(e,true)}catch(e){console.error("base64Decode failed: ",e)}return null};function p(e){return m(undefined,e)}function m(e,t){if(!(t instanceof Object)){return t}switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:if(e===undefined){e={}}break;case Array:e=[];break;default:return t}for(const n in t){if(!t.hasOwnProperty(n)||!g(n)){continue}e[n]=m(e[n],t[n])}return e}function g(e){return e!=="__proto__"}function y(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("Unable to locate global object.")}const v=()=>y().__FIREBASE_DEFAULTS__;const b=()=>{if(typeof process==="undefined"||typeof process.env==="undefined"){return}const e=process.env.__FIREBASE_DEFAULTS__;if(e){return JSON.parse(e)}};const w=()=>{if(typeof document==="undefined"){return}let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&h(e[1]);return t&&JSON.parse(t)};const E=()=>{try{return r()||v()||b()||w()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}};const _=e=>{var t,n;return(n=(t=E())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]};const S=e=>{const t=_(e);if(!t){return undefined}const n=t.lastIndexOf(":");if(n<=0||n+1===t.length){throw new Error(`Invalid host ${t} with no separate hostname and port!`)}const r=parseInt(t.substring(n+1),10);if(t[0]==="["){return[t.substring(1,n-1),r]}else{return[t.substring(0,n),r]}};const T=()=>{var e;return(e=E())===null||e===void 0?void 0:e.config};const C=e=>{var t;return(t=E())===null||t===void 0?void 0:t[`_${e}`]};class I{constructor(){this.reject=()=>{};this.resolve=()=>{};this.promise=new Promise((e,t)=>{this.resolve=e;this.reject=t})}wrapCallback(e){return(t,n)=>{if(t){this.reject(t)}else{this.resolve(n)}if(typeof e==="function"){this.promise.catch(()=>{});if(e.length===1){e(t)}else{e(t,n)}}}}}function R(e){return e.endsWith(".cloudworkstations.dev")}async function O(e){const t=await fetch(e,{credentials:"include"});return t.ok}function A(e,t){if(e.uid){throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.')}const n={alg:"none",type:"JWT"};const r=t||"demo-project";const i=e.iat||0;const s=e.sub||e.user_id;if(!s){throw new Error("mockUserToken must contain 'sub' or 'user_id' field!")}const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);const a="";return[f(JSON.stringify(n)),f(JSON.stringify(o)),a].join(".")}const k={};function x(){const e={prod:[],emulator:[]};for(const t of Object.keys(k)){if(k[t]){e.emulator.push(t)}else{e.prod.push(t)}}return e}function P(e){let t=document.getElementById(e);let n=false;if(!t){t=document.createElement("div");t.setAttribute("id",e);n=true}return{created:n,element:t}}let N=false;function D(e,t){if(typeof window==="undefined"||typeof document==="undefined"||!R(window.location.host)||k[e]===t||k[e]||N){return}k[e]=t;function n(e){return`__firebase__banner__${e}`}const r="__firebase__banner";const i=x();const s=i.prod.length>0;function o(){const e=document.getElementById(r);if(e){e.remove()}}function a(e){e.style.display="flex";e.style.background="#7faaf0";e.style.position="fixed";e.style.bottom="5px";e.style.left="5px";e.style.padding=".5em";e.style.borderRadius="5px";e.style.alignItems="center"}function c(e,t){e.setAttribute("width","24");e.setAttribute("id",t);e.setAttribute("height","24");e.setAttribute("viewBox","0 0 24 24");e.setAttribute("fill","none");e.style.marginLeft="-6px"}function l(){const e=document.createElement("span");e.style.cursor="pointer";e.style.marginLeft="16px";e.style.fontSize="24px";e.innerHTML=" &times;";e.onclick=()=>{N=true;o()};return e}function u(e,t){e.setAttribute("id",t);e.innerText="Learn more";e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend";e.setAttribute("target","__blank");e.style.paddingLeft="5px";e.style.textDecoration="underline"}function d(){const e=P(r);const t=n("text");const i=document.getElementById(t)||document.createElement("span");const o=n("learnmore");const d=document.getElementById(o)||document.createElement("a");const f=n("preprendIcon");const h=document.getElementById(f)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;a(t);u(d,o);const n=l();c(h,f);t.append(h,i,d,n);document.body.appendChild(t)}if(s){i.innerText=`Preview backend disconnected.`;h.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`}else{h.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`;i.innerText="Preview backend running in this workspace."}i.setAttribute("id",t)}if(document.readyState==="loading"){window.addEventListener("DOMContentLoaded",d)}else{d()}}function M(){if(typeof navigator!=="undefined"&&typeof navigator["userAgent"]==="string"){return navigator["userAgent"]}else{return""}}function L(){return typeof window!=="undefined"&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(M())}function j(){var e;const t=(e=E())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node"){return true}else if(t==="browser"){return false}try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(e){return false}}function F(){return typeof window!=="undefined"||B()}function B(){return typeof WorkerGlobalScope!=="undefined"&&typeof self!=="undefined"&&self instanceof WorkerGlobalScope}function U(){return typeof navigator!=="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function V(){const e=typeof chrome==="object"?chrome.runtime:typeof browser==="object"?browser.runtime:undefined;return typeof e==="object"&&e.id!==undefined}function z(){return typeof navigator==="object"&&navigator["product"]==="ReactNative"}function q(){return M().indexOf("Electron/")>=0}function $(){const e=M();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function G(){return M().indexOf("MSAppHost/")>=0}function W(){return i.NODE_CLIENT===true||i.NODE_ADMIN===true}function H(){return!j()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K(){return!j()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Q(){try{return typeof indexedDB==="object"}catch(e){return false}}function Y(){return new Promise((e,t)=>{try{let n=true;const r="validate-browser-context-for-indexeddb-analytics-module";const i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close();if(!n){self.indexedDB.deleteDatabase(r)}e(true)};i.onupgradeneeded=()=>{n=false};i.onerror=()=>{var e;t(((e=i.error)===null||e===void 0?void 0:e.message)||"")}}catch(e){t(e)}})}function X(){if(typeof navigator==="undefined"||!navigator.cookieEnabled){return false}return true}const J="FirebaseError";class Z extends Error{constructor(e,t,n){super(t);this.code=e;this.customData=n;this.name=J;Object.setPrototypeOf(this,Z.prototype);if(Error.captureStackTrace){Error.captureStackTrace(this,ee.prototype.create)}}}class ee{constructor(e,t,n){this.service=e;this.serviceName=t;this.errors=n}create(e,...t){const n=t[0]||{};const r=`${this.service}/${e}`;const i=this.errors[e];const s=i?et(i,n):"Error";const o=`${this.serviceName}: ${s} (${r}).`;const a=new Z(r,o,n);return a}}function et(e,t){return e.replace(en,(e,n)=>{const r=t[n];return r!=null?String(r):`<${n}?>`})}const en=/\{\$([^}]+)}/g;function er(e){return JSON.parse(e)}function ei(e){return JSON.stringify(e)}const es=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=er(h(s[0])||"");n=er(h(s[1])||"");i=s[2];r=n["d"]||{};delete n["d"]}catch(e){}return{header:t,claims:n,data:r,signature:i}};const eo=function(e){const t=es(e).claims;const n=Math.floor(new Date().getTime()/1e3);let r=0,i=0;if(typeof t==="object"){if(t.hasOwnProperty("nbf")){r=t["nbf"]}else if(t.hasOwnProperty("iat")){r=t["iat"]}if(t.hasOwnProperty("exp")){i=t["exp"]}else{i=r+86400}}return!!n&&!!r&&!!i&&n>=r&&n<=i};const ea=function(e){const t=es(e).claims;if(typeof t==="object"&&t.hasOwnProperty("iat")){return t["iat"]}return null};const ec=function(e){const t=es(e),n=t.claims;return!!n&&typeof n==="object"&&n.hasOwnProperty("iat")};const el=function(e){const t=es(e).claims;return typeof t==="object"&&t["admin"]===true};function eu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ed(e,t){if(Object.prototype.hasOwnProperty.call(e,t)){return e[t]}else{return undefined}}function ef(e){for(const t in e){if(Object.prototype.hasOwnProperty.call(e,t)){return false}}return true}function eh(e,t,n){const r={};for(const i in e){if(Object.prototype.hasOwnProperty.call(e,i)){r[i]=t.call(n,e[i],i,e)}}return r}function ep(e,t){if(e===t){return true}const n=Object.keys(e);const r=Object.keys(t);for(const i of n){if(!r.includes(i)){return false}const n=e[i];const s=t[i];if(em(n)&&em(s)){if(!ep(n,s)){return false}}else if(n!==s){return false}}for(const e of r){if(!n.includes(e)){return false}}return true}function em(e){return e!==null&&typeof e==="object"}function eg(e,t=2e3){const n=new I;setTimeout(()=>n.reject("timeout!"),t);e.then(n.resolve,n.reject);return n.promise}function ey(e){const t=[];for(const[n,r]of Object.entries(e)){if(Array.isArray(r)){r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})}else{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}}return t.length?"&"+t.join("&"):""}function ev(e){const t={};const n=e.replace(/^\?/,"").split("&");n.forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}});return t}function eb(e){const t=e.indexOf("?");if(!t){return""}const n=e.indexOf("#",t);return e.substring(t,n>0?n:undefined)}class ew{constructor(){this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.inbuf_=0;this.total_=0;this.blockSize=512/8;this.pad_[0]=128;for(let e=1;e<this.blockSize;++e){this.pad_[e]=0}this.reset()}reset(){this.chain_[0]=0x67452301;this.chain_[1]=0xefcdab89;this.chain_[2]=0x98badcfe;this.chain_[3]=0x10325476;this.chain_[4]=0xc3d2e1f0;this.inbuf_=0;this.total_=0}compress_(e,t){if(!t){t=0}const n=this.W_;if(typeof e==="string"){for(let r=0;r<16;r++){n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3);t+=4}}else{for(let r=0;r<16;r++){n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];t+=4}}for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=(t<<1|t>>>31)&0xffffffff}let r=this.chain_[0];let i=this.chain_[1];let s=this.chain_[2];let o=this.chain_[3];let a=this.chain_[4];let c,l;for(let e=0;e<80;e++){if(e<40){if(e<20){c=o^i&(s^o);l=0x5a827999}else{c=i^s^o;l=0x6ed9eba1}}else{if(e<60){c=i&s|o&(i|s);l=0x8f1bbcdc}else{c=i^s^o;l=0xca62c1d6}}const t=(r<<5|r>>>27)+c+a+l+n[e]&0xffffffff;a=o;o=s;s=(i<<30|i>>>2)&0xffffffff;i=r;r=t}this.chain_[0]=this.chain_[0]+r&0xffffffff;this.chain_[1]=this.chain_[1]+i&0xffffffff;this.chain_[2]=this.chain_[2]+s&0xffffffff;this.chain_[3]=this.chain_[3]+o&0xffffffff;this.chain_[4]=this.chain_[4]+a&0xffffffff}update(e,t){if(e==null){return}if(t===undefined){t=e.length}const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;while(r<t){if(s===0){while(r<=n){this.compress_(e,r);r+=this.blockSize}}if(typeof e==="string"){while(r<t){i[s]=e.charCodeAt(r);++s;++r;if(s===this.blockSize){this.compress_(i);s=0;break}}}else{while(r<t){i[s]=e[r];++s;++r;if(s===this.blockSize){this.compress_(i);s=0;break}}}}this.inbuf_=s;this.total_+=t}digest(){const e=[];let t=this.total_*8;if(this.inbuf_<56){this.update(this.pad_,56-this.inbuf_)}else{this.update(this.pad_,this.blockSize-(this.inbuf_-56))}for(let e=this.blockSize-1;e>=56;e--){this.buf_[e]=t&255;t/=256}this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++){for(let r=24;r>=0;r-=8){e[n]=this.chain_[t]>>r&255;++n}}return e}}function eE(e,t){const n=new e_(e,t);return n.subscribe.bind(n)}class e_{constructor(e,t){this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=Promise.resolve();this.finalized=false;this.onNoObservers=t;this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)});this.close(e)}complete(){this.forEachObserver(e=>{e.complete()});this.close()}subscribe(e,t,n){let r;if(e===undefined&&t===undefined&&n===undefined){throw new Error("Missing Observer.")}if(eT(e,["next","error","complete"])){r=e}else{r={next:e,error:t,complete:n}}if(r.next===undefined){r.next=eC}if(r.error===undefined){r.error=eC}if(r.complete===undefined){r.complete=eC}const i=this.unsubscribeOne.bind(this,this.observers.length);if(this.finalized){this.task.then(()=>{try{if(this.finalError){r.error(this.finalError)}else{r.complete()}}catch(e){}return})}this.observers.push(r);return i}unsubscribeOne(e){if(this.observers===undefined||this.observers[e]===undefined){return}delete this.observers[e];this.observerCount-=1;if(this.observerCount===0&&this.onNoObservers!==undefined){this.onNoObservers(this)}}forEachObserver(e){if(this.finalized){return}for(let t=0;t<this.observers.length;t++){this.sendOne(t,e)}}sendOne(e,t){this.task.then(()=>{if(this.observers!==undefined&&this.observers[e]!==undefined){try{t(this.observers[e])}catch(e){if(typeof console!=="undefined"&&console.error){console.error(e)}}}})}close(e){if(this.finalized){return}this.finalized=true;if(e!==undefined){this.finalError=e}this.task.then(()=>{this.observers=undefined;this.onNoObservers=undefined})}}function eS(e,t){return(...n)=>{Promise.resolve(true).then(()=>{e(...n)}).catch(e=>{if(t){t(e)}})}}function eT(e,t){if(typeof e!=="object"||e===null){return false}for(const n of t){if(n in e&&typeof e[n]==="function"){return true}}return false}function eC(){}const eI=function(e,t,n,r){let i;if(r<t){i="at least "+t}else if(r>n){i=n===0?"none":"no more than "+n}if(i){const t=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(t)}};function eR(e,t){return`${e} failed: ${t} argument `}function eO(e,t,n){if(n&&!t){return}if(typeof t!=="string"){throw new Error(eR(e,"namespace")+"must be a valid firebase namespace.")}}function eA(e,t,n,r){if(r&&!n){return}if(typeof n!=="function"){throw new Error(eR(e,t)+"must be a valid function.")}}function ek(e,t,n,r){if(r&&!n){return}if(typeof n!=="object"||n===null){throw new Error(eR(e,t)+"must be a valid context object.")}}const ex=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++;s(r<e.length,"Surrogate pair missing trail surrogate.");const n=e.charCodeAt(r)-56320;i=65536+(t<<10)+n}if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if(i<65536){t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return t};const eP=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(r<128){t++}else if(r<2048){t+=2}else if(r>=55296&&r<=56319){t+=4;n++}else{t+=3}}return t};const eN=1e3;const eD=2;const eM=null&&4*60*60*1e3;const eL=.5;function ej(e,t=eN,n=eD){const r=t*Math.pow(n,e);const i=Math.round(eL*r*(Math.random()-.5)*2);return Math.min(eM,r+i)}function eF(e){if(!Number.isFinite(e)){return`${e}`}return e+eB(e)}function eB(e){e=Math.abs(e);const t=e%100;if(t>=10&&t<=20){return"th"}const n=e%10;if(n===1){return"st"}if(n===2){return"nd"}if(n===3){return"rd"}return"th"}function eU(e){if(e&&e._delegate){return e._delegate}else{return e}}i.NODE_CLIENT=true},52513:(e,t,n)=>{"use strict";if(true){e.exports=n(20884)}else{}},52637:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"isPostpone",{enumerable:true,get:function(){return r}});const n=Symbol.for("react.postpone");function r(e){return typeof e==="object"&&e!==null&&e.$$typeof===n}},52825:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{atLeastOneTask:function(){return s},scheduleImmediate:function(){return i},scheduleOnNextTick:function(){return r},waitAtLeastOneReactRenderTask:function(){return o}});const r=e=>{Promise.resolve().then(()=>{if(false){}else{process.nextTick(e)}})};const i=e=>{if(false){}else{setImmediate(e)}};function s(){return new Promise(e=>i(e))}function o(){if(false){}else{return new Promise(e=>setImmediate(e))}}},52836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"RedirectStatusCode",{enumerable:true,get:function(){return n}});var n=function(e){e[e["SeeOther"]=303]="SeeOther";e[e["TemporaryRedirect"]=307]="TemporaryRedirect";e[e["PermanentRedirect"]=308]="PermanentRedirect";return e}({});if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},54003:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FilterStackFactory=t.FilterStack=void 0;class n{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let e=0;e<this.filters.length;e++){t=this.filters[e].sendMetadata(t)}return t}receiveMetadata(e){let t=e;for(let e=this.filters.length-1;e>=0;e--){t=this.filters[e].receiveMetadata(t)}return t}sendMessage(e){let t=e;for(let e=0;e<this.filters.length;e++){t=this.filters[e].sendMessage(t)}return t}receiveMessage(e){let t=e;for(let e=this.filters.length-1;e>=0;e--){t=this.filters[e].receiveMessage(t)}return t}receiveTrailers(e){let t=e;for(let e=this.filters.length-1;e>=0;e--){t=this.filters[e].receiveTrailers(t)}return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}}t.FilterStack=n;class r{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new r([...this.factories])}createFilter(){return new n(this.factories.map(e=>e.createFilter()))}}t.FilterStackFactory=r},54351:(e,t,n)=>{"use strict";e.exports=v;var r=n(77968);((v.prototype=Object.create(r.prototype)).constructor=v).className="Type";var i=n(32110),s=n(12630),o=n(73267),a=n(25585),c=n(3076),l=n(8920),u=n(26996),d=n(96120),f=n(93107),h=n(30847),p=n(62823),m=n(16973),g=n(97659),y=n(63695);function v(e,t){r.call(this,e,t);this.fields={};this.oneofs=undefined;this.extensions=undefined;this.reserved=undefined;this.group=undefined;this._fieldsById=null;this._fieldsArray=null;this._oneofsArray=null;this._ctor=null}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=f.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=f.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(e){var t=e.prototype;if(!(t instanceof l)){(e.prototype=new l).constructor=e;f.merge(e.prototype,t)}e.$type=e.prototype.$type=this;f.merge(e,l,true);this._ctor=e;var n=0;for(;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:f.oneOfGetter(this._oneofsArray[n].oneof),set:f.oneOfSetter(this._oneofsArray[n].oneof)};if(n)Object.defineProperties(e.prototype,r)}}});v.generateConstructor=function e(e){var t=f.codegen(["p"],e.name);for(var n=0,r;n<e.fieldsArray.length;++n)if((r=e._fieldsArray[n]).map)t("this%s={}",f.safeProp(r.name));else if(r.repeated)t("this%s=[]",f.safeProp(r.name));return t("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function b(e){e._fieldsById=e._fieldsArray=e._oneofsArray=null;delete e.encode;delete e.decode;delete e.verify;return e}v.fromJSON=function e(e,t){var n=new v(e,t.options);n.extensions=t.extensions;n.reserved=t.reserved;var l=Object.keys(t.fields),u=0;for(;u<l.length;++u)n.add((typeof t.fields[l[u]].keyType!=="undefined"?a.fromJSON:o.fromJSON)(l[u],t.fields[l[u]]));if(t.oneofs)for(l=Object.keys(t.oneofs),u=0;u<l.length;++u)n.add(s.fromJSON(l[u],t.oneofs[l[u]]));if(t.nested)for(l=Object.keys(t.nested),u=0;u<l.length;++u){var d=t.nested[l[u]];n.add((d.id!==undefined?o.fromJSON:d.fields!==undefined?v.fromJSON:d.values!==undefined?i.fromJSON:d.methods!==undefined?c.fromJSON:r.fromJSON)(l[u],d))}if(t.extensions&&t.extensions.length)n.extensions=t.extensions;if(t.reserved&&t.reserved.length)n.reserved=t.reserved;if(t.group)n.group=true;if(t.comment)n.comment=t.comment;if(t.edition)n._edition=t.edition;n._defaultEdition="proto3";return n};v.prototype.toJSON=function e(e){var t=r.prototype.toJSON.call(this,e);var n=e?Boolean(e.keepComments):false;return f.toObject(["edition",this._editionToJSON(),"options",t&&t.options||undefined,"oneofs",r.arrayToJSON(this.oneofsArray,e),"fields",r.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:undefined,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"group",this.group||undefined,"nested",t&&t.nested||undefined,"comment",n?this.comment:undefined])};v.prototype.resolveAll=function e(){if(!this._needsRecursiveResolve)return this;r.prototype.resolveAll.call(this);var e=this.oneofsArray;n=0;while(n<e.length)e[n++].resolve();var t=this.fieldsArray,n=0;while(n<t.length)t[n++].resolve();return this};v.prototype._resolveFeaturesRecursive=function e(e){if(!this._needsRecursiveFeatureResolution)return this;e=this._edition||e;r.prototype._resolveFeaturesRecursive.call(this,e);this.oneofsArray.forEach(t=>{t._resolveFeatures(e)});this.fieldsArray.forEach(t=>{t._resolveFeatures(e)});return this};v.prototype.get=function e(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};v.prototype.add=function e(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof o&&e.extend===undefined){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);if(e.parent)e.parent.remove(e);this.fields[e.name]=e;e.message=this;e.onAdd(this);return b(this)}if(e instanceof s){if(!this.oneofs)this.oneofs={};this.oneofs[e.name]=e;e.onAdd(this);return b(this)}return r.prototype.add.call(this,e)};v.prototype.remove=function e(e){if(e instanceof o&&e.extend===undefined){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);delete this.fields[e.name];e.parent=null;e.onRemove(this);return b(this)}if(e instanceof s){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);delete this.oneofs[e.name];e.parent=null;e.onRemove(this);return b(this)}return r.prototype.remove.call(this,e)};v.prototype.isReservedId=function e(e){return r.isReservedId(this.reserved,e)};v.prototype.isReservedName=function e(e){return r.isReservedName(this.reserved,e)};v.prototype.create=function e(e){return new this.ctor(e)};v.prototype.setup=function e(){var e=this.fullName,t=[];for(var n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=h(this)({Writer:d,types:t,util:f});this.decode=p(this)({Reader:u,types:t,util:f});this.verify=m(this)({types:t,util:f});this.fromObject=g.fromObject(this)({types:t,util:f});this.toObject=g.toObject(this)({types:t,util:f});var r=y[e];if(r){var i=Object.create(this);i.fromObject=this.fromObject;this.fromObject=r.fromObject.bind(i);i.toObject=this.toObject;this.toObject=r.toObject.bind(i)}return this};v.prototype.encode=function e(e,t){return this.setup().encode(e,t)};v.prototype.encodeDelimited=function e(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()};v.prototype.decode=function e(e,t){return this.setup().decode(e,t)};v.prototype.decodeDelimited=function e(e){if(!(e instanceof u))e=u.create(e);return this.decode(e,e.uint32())};v.prototype.verify=function e(e){return this.setup().verify(e)};v.prototype.fromObject=function e(e){return this.setup().fromObject(e)};v.prototype.toObject=function e(e,t){return this.setup().toObject(e,t)};v.d=function e(e){return function t(t){f.decorateType(t,e)}}},54369:(e,t,n)=>{"use strict";e.exports=s;var r=n(96120);(s.prototype=Object.create(r.prototype)).constructor=s;var i=n(8707);function s(){r.call(this)}s._configure=function(){s.alloc=i._Buffer_allocUnsafe;s.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&i.Buffer.prototype.set.name==="set"?function e(e,t,n){t.set(e,n)}:function e(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}};s.prototype.bytes=function e(e){if(i.isString(e))e=i._Buffer_from(e,"base64");var t=e.length>>>0;this.uint32(t);if(t)this._push(s.writeBytesBuffer,t,e);return this};function o(e,t,n){if(e.length<40)i.utf8.write(e,t,n);else if(t.utf8Write)t.utf8Write(e,n);else t.write(e,n)}s.prototype.string=function e(e){var t=i.Buffer.byteLength(e);this.uint32(t);if(t)this._push(o,t,e);return this};s._configure()},54717:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{Postpone:function(){return I},abortAndThrowOnSynchronousRequestDataAccess:function(){return T},abortOnSynchronousPlatformIOAccess:function(){return _},accessedDynamicData:function(){return D},annotateDynamicAccess:function(){return U},consumeDynamicAccess:function(){return M},createDynamicTrackingState:function(){return p},createDynamicValidationState:function(){return m},createHangingInputAbortSignal:function(){return B},createPostponedAbortSignal:function(){return F},formatDynamicAPIAccesses:function(){return L},getFirstDynamicReason:function(){return g},isDynamicPostpone:function(){return A},isPrerenderInterruptedError:function(){return N},markCurrentScopeAsDynamic:function(){return y},postponeWithTracking:function(){return R},throwIfDisallowedDynamic:function(){return K},throwToInterruptStaticGeneration:function(){return b},trackAllowedDynamicAccess:function(){return W},trackDynamicDataInDynamicRender:function(){return w},trackFallbackParamAccessed:function(){return v},trackSynchronousPlatformIOAccessInDev:function(){return S},trackSynchronousRequestDataAccessInDev:function(){return C},useDynamicRouteParams:function(){return V}});const i=f(n(43210));const s=n(22113);const o=n(7797);const a=n(63033);const c=n(29294);const l=n(18238);const u=n(24207);const d=n(52825);function f(e){return e&&e.__esModule?e:{default:e}}const h=typeof i.default.unstable_postpone==="function";function p(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicExpression:undefined,syncDynamicErrorWithStack:null}}function m(){return{hasSuspendedDynamic:false,hasDynamicMetadata:false,hasDynamicViewport:false,hasSyncDynamicErrors:false,dynamicErrors:[]}}function g(e){var t;return(t=e.dynamicAccesses[0])==null?void 0:t.expression}function y(e,t,n){if(t){if(t.type==="cache"||t.type==="unstable-cache"){return}}if(e.forceDynamic||e.forceStatic)return;if(e.dynamicShouldError){throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${n}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:false,configurable:true})}if(t){if(t.type==="prerender-ppr"){R(e.route,n,t.dynamicTracking)}else if(t.type==="prerender-legacy"){t.revalidate=0;const r=Object.defineProperty(new s.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${n}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:false,configurable:true});e.dynamicUsageDescription=n;e.dynamicUsageStack=r.stack;throw r}else if(false){}}}function v(e,t){const n=a.workUnitAsyncStorage.getStore();if(!n||n.type!=="prerender-ppr")return;R(e.route,t,n.dynamicTracking)}function b(e,t,n){const r=Object.defineProperty(new s.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:false,configurable:true});n.revalidate=0;t.dynamicUsageDescription=e;t.dynamicUsageStack=r.stack;throw r}function w(e,t){if(t){if(t.type==="cache"||t.type==="unstable-cache"){return}if(t.type==="prerender"||t.type==="prerender-legacy"){t.revalidate=0}if(false){}}}function E(e,t,n){const r=`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`;const i=P(r);n.controller.abort(i);const s=n.dynamicTracking;if(s){s.dynamicAccesses.push({stack:s.isDebugDynamicAccesses?new Error().stack:undefined,expression:t})}}function _(e,t,n,r){const i=r.dynamicTracking;if(i){if(i.syncDynamicErrorWithStack===null){i.syncDynamicExpression=t;i.syncDynamicErrorWithStack=n}}E(e,t,r)}function S(e){e.prerenderPhase=false}function T(e,t,n,r){const i=r.controller.signal;if(i.aborted===false){const i=r.dynamicTracking;if(i){if(i.syncDynamicErrorWithStack===null){i.syncDynamicExpression=t;i.syncDynamicErrorWithStack=n;if(r.validating===true){i.syncDynamicLogged=true}}}E(e,t,r)}throw P(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}const C=S;function I({reason:e,route:t}){const n=a.workUnitAsyncStorage.getStore();const r=n&&n.type==="prerender-ppr"?n.dynamicTracking:null;R(t,e,r)}function R(e,t,n){j();if(n){n.dynamicAccesses.push({stack:n.isDebugDynamicAccesses?new Error().stack:undefined,expression:t})}i.default.unstable_postpone(O(e,t))}function O(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. `+`React throws this special object to indicate where. It should not be caught by `+`your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function A(e){if(typeof e==="object"&&e!==null&&typeof e.message==="string"){return k(e.message)}return false}function k(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(k(O("%%%","^^^"))===false){throw Object.defineProperty(new Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:false,configurable:true})}const x="NEXT_PRERENDER_INTERRUPTED";function P(e){const t=Object.defineProperty(new Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true});t.digest=x;return t}function N(e){return typeof e==="object"&&e!==null&&e.digest===x&&"name"in e&&"message"in e&&e instanceof Error}function D(e){return e.length>0}function M(e,t){e.dynamicAccesses.push(...t.dynamicAccesses);return e.dynamicAccesses}function L(e){return e.filter(e=>typeof e.stack==="string"&&e.stack.length>0).map(({expression:e,stack:t})=>{t=t.split("\n").slice(4).filter(e=>{if(e.includes("node_modules/next/")){return false}if(e.includes(" (<anonymous>)")){return false}if(e.includes(" (node:")){return false}return true}).join("\n");return`Dynamic API Usage Debug - ${e}:
${t}`})}function j(){if(!h){throw Object.defineProperty(new Error(`Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js`),"__NEXT_ERROR_CODE",{value:"E224",enumerable:false,configurable:true})}}function F(e){j();const t=new AbortController;try{i.default.unstable_postpone(e)}catch(e){t.abort(e)}return t.signal}function B(e){const t=new AbortController;if(e.cacheSignal){e.cacheSignal.inputReady().then(()=>{t.abort()})}else{(0,d.scheduleOnNextTick)(()=>t.abort())}return t.signal}function U(e,t){const n=t.dynamicTracking;if(n){n.dynamicAccesses.push({stack:n.isDebugDynamicAccesses?new Error().stack:undefined,expression:e})}}function V(e){const t=c.workAsyncStorage.getStore();if(t&&t.isStaticGeneration&&t.fallbackRouteParams&&t.fallbackRouteParams.size>0){const n=a.workUnitAsyncStorage.getStore();if(n){if(n.type==="prerender"){i.default.use((0,l.makeHangingPromise)(n.renderSignal,e))}else if(n.type==="prerender-ppr"){R(t.route,e,n.dynamicTracking)}else if(n.type==="prerender-legacy"){b(e,t,n)}}}}const z=/\n\s+at Suspense \(<anonymous>\)/;const q=new RegExp(`\\n\\s+at ${u.METADATA_BOUNDARY_NAME}[\\n\\s]`);const $=new RegExp(`\\n\\s+at ${u.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`);const G=new RegExp(`\\n\\s+at ${u.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function W(e,t,n,r,i){if(G.test(t)){return}else if(q.test(t)){n.hasDynamicMetadata=true;return}else if($.test(t)){n.hasDynamicViewport=true;return}else if(z.test(t)){n.hasSuspendedDynamic=true;return}else if(r.syncDynamicErrorWithStack||i.syncDynamicErrorWithStack){n.hasSyncDynamicErrors=true;return}else{const r=`Route "${e}": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a "use cache" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense`;const i=H(r,t);n.dynamicErrors.push(i);return}}function H(e,t){const n=Object.defineProperty(new Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true});n.stack="Error: "+e+t;return n}function K(e,t,n,r){let i;let s;let a;if(n.syncDynamicErrorWithStack){i=n.syncDynamicErrorWithStack;s=n.syncDynamicExpression;a=n.syncDynamicLogged===true}else if(r.syncDynamicErrorWithStack){i=r.syncDynamicErrorWithStack;s=r.syncDynamicExpression;a=r.syncDynamicLogged===true}else{i=null;s=undefined;a=false}if(t.hasSyncDynamicErrors&&i){if(!a){console.error(i)}throw new o.StaticGenBailoutError}const c=t.dynamicErrors;if(c.length){for(let e=0;e<c.length;e++){console.error(c[e])}throw new o.StaticGenBailoutError}if(!t.hasSuspendedDynamic){if(t.hasDynamicMetadata){if(i){console.error(i);throw Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that could not finish rendering before ${s} was used. Follow the instructions in the error for this expression to resolve.`),"__NEXT_ERROR_CODE",{value:"E608",enumerable:false,configurable:true})}throw Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateMetadata\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`),"__NEXT_ERROR_CODE",{value:"E534",enumerable:false,configurable:true})}else if(t.hasDynamicViewport){if(i){console.error(i);throw Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that could not finish rendering before ${s} was used. Follow the instructions in the error for this expression to resolve.`),"__NEXT_ERROR_CODE",{value:"E573",enumerable:false,configurable:true})}throw Object.defineProperty(new o.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateViewport\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`),"__NEXT_ERROR_CODE",{value:"E590",enumerable:false,configurable:true})}}}},54838:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{AppleWebAppMeta:function(){return g},BasicMeta:function(){return u},FacebookMeta:function(){return f},FormatDetectionMeta:function(){return m},ItunesMeta:function(){return d},PinterestMeta:function(){return h},VerificationMeta:function(){return y},ViewportMeta:function(){return l}});const i=n(37413);const s=n(80407);const o=n(4871);const a=n(77341);function c(e){let t=null;if(e&&typeof e==="object"){t="";for(const n in o.ViewportMetaKeys){const r=n;if(r in e){let n=e[r];if(typeof n==="boolean"){n=n?"yes":"no"}else if(!n&&r==="initialScale"){n=undefined}if(n){if(t)t+=", ";t+=`${o.ViewportMetaKeys[r]}=${n}`}}}}return t}function l({viewport:e}){return(0,s.MetaFilter)([(0,i.jsx)("meta",{charSet:"utf-8"}),(0,s.Meta)({name:"viewport",content:c(e)}),...e.themeColor?e.themeColor.map(e=>(0,s.Meta)({name:"theme-color",content:e.color,media:e.media})):[],(0,s.Meta)({name:"color-scheme",content:e.colorScheme})])}function u({metadata:e}){var t,n,r;const o=e.manifest?(0,a.getOrigin)(e.manifest):undefined;return(0,s.MetaFilter)([e.title!==null&&e.title.absolute?(0,i.jsx)("title",{children:e.title.absolute}):null,(0,s.Meta)({name:"description",content:e.description}),(0,s.Meta)({name:"application-name",content:e.applicationName}),...e.authors?e.authors.map(e=>[e.url?(0,i.jsx)("link",{rel:"author",href:e.url.toString()}):null,(0,s.Meta)({name:"author",content:e.name})]):[],e.manifest?(0,i.jsx)("link",{rel:"manifest",href:e.manifest.toString(),crossOrigin:!o&&process.env.VERCEL_ENV==="preview"?"use-credentials":undefined}):null,(0,s.Meta)({name:"generator",content:e.generator}),(0,s.Meta)({name:"keywords",content:(t=e.keywords)==null?void 0:t.join(",")}),(0,s.Meta)({name:"referrer",content:e.referrer}),(0,s.Meta)({name:"creator",content:e.creator}),(0,s.Meta)({name:"publisher",content:e.publisher}),(0,s.Meta)({name:"robots",content:(n=e.robots)==null?void 0:n.basic}),(0,s.Meta)({name:"googlebot",content:(r=e.robots)==null?void 0:r.googleBot}),(0,s.Meta)({name:"abstract",content:e.abstract}),...e.archives?e.archives.map(e=>(0,i.jsx)("link",{rel:"archives",href:e})):[],...e.assets?e.assets.map(e=>(0,i.jsx)("link",{rel:"assets",href:e})):[],...e.bookmarks?e.bookmarks.map(e=>(0,i.jsx)("link",{rel:"bookmarks",href:e})):[],...e.pagination?[e.pagination.previous?(0,i.jsx)("link",{rel:"prev",href:e.pagination.previous}):null,e.pagination.next?(0,i.jsx)("link",{rel:"next",href:e.pagination.next}):null]:[],(0,s.Meta)({name:"category",content:e.category}),(0,s.Meta)({name:"classification",content:e.classification}),...e.other?Object.entries(e.other).map(([e,t])=>{if(Array.isArray(t)){return t.map(t=>(0,s.Meta)({name:e,content:t}))}else{return(0,s.Meta)({name:e,content:t})}}):[]])}function d({itunes:e}){if(!e)return null;const{appId:t,appArgument:n}=e;let r=`app-id=${t}`;if(n){r+=`, app-argument=${n}`}return(0,i.jsx)("meta",{name:"apple-itunes-app",content:r})}function f({facebook:e}){if(!e)return null;const{appId:t,admins:n}=e;return(0,s.MetaFilter)([t?(0,i.jsx)("meta",{property:"fb:app_id",content:t}):null,...n?n.map(e=>(0,i.jsx)("meta",{property:"fb:admins",content:e})):[]])}function h({pinterest:e}){if(!e||!e.richPin)return null;const{richPin:t}=e;return(0,i.jsx)("meta",{property:"pinterest-rich-pin",content:t.toString()})}const p=["telephone","date","address","email","url"];function m({formatDetection:e}){if(!e)return null;let t="";for(const n of p){if(n in e){if(t)t+=", ";t+=`${n}=no`}}return(0,i.jsx)("meta",{name:"format-detection",content:t})}function g({appleWebApp:e}){if(!e)return null;const{capable:t,title:n,startupImage:r,statusBarStyle:o}=e;return(0,s.MetaFilter)([t?(0,s.Meta)({name:"mobile-web-app-capable",content:"yes"}):null,(0,s.Meta)({name:"apple-mobile-web-app-title",content:n}),r?r.map(e=>(0,i.jsx)("link",{href:e.url,media:e.media,rel:"apple-touch-startup-image"})):null,o?(0,s.Meta)({name:"apple-mobile-web-app-status-bar-style",content:o}):null])}function y({verification:e}){if(!e)return null;return(0,s.MetaFilter)([(0,s.MultiMeta)({namePrefix:"google-site-verification",contents:e.google}),(0,s.MultiMeta)({namePrefix:"y_key",contents:e.yahoo}),(0,s.MultiMeta)({namePrefix:"yandex-verification",contents:e.yandex}),(0,s.MultiMeta)({namePrefix:"me",contents:e.me}),...e.other?Object.entries(e.other).map(([e,t])=>(0,s.MultiMeta)({namePrefix:e,contents:t})):[]])}},55211:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"notFound",{enumerable:true,get:function(){return s}});const r=n(86358);const i=""+r.HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function s(){const e=Object.defineProperty(new Error(i),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true});e.digest=i;throw e}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},56061:(e,t)=>{var n,r;var i=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function n(e,t,n){this.low=e|0;this.high=t|0;this.unsigned=!!n}n.prototype.__isLong__;Object.defineProperty(n.prototype,"__isLong__",{value:true});function r(e){return(e&&e["__isLong__"])===true}function i(e){var t=Math.clz32(e&-e);return e?31-t:t}n.isLong=r;var s={};var o={};function a(e,t){var n,r,i;if(t){e>>>=0;if(i=0<=e&&e<256){r=o[e];if(r)return r}n=l(e,0,true);if(i)o[e]=n;return n}else{e|=0;if(i=-128<=e&&e<128){r=s[e];if(r)return r}n=l(e,e<0?-1:0,false);if(i)s[e]=n;return n}}n.fromInt=a;function c(e,t){if(isNaN(e))return t?w:b;if(t){if(e<0)return w;if(e>=g)return C}else{if(e<=-y)return I;if(e+1>=y)return T}if(e<0)return c(-e,t).neg();return l(e%m|0,e/m|0,t)}n.fromNumber=c;function l(e,t,r){return new n(e,t,r)}n.fromBits=l;var u=Math.pow;function d(e,t,n){if(e.length===0)throw Error("empty string");if(typeof t==="number"){n=t;t=false}else{t=!!t}if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?w:b;n=n||10;if(n<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");else if(r===0){return d(e.substring(1),t,n).neg()}var i=c(u(n,8));var s=b;for(var o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+a),n);if(a<8){var f=c(u(n,a));s=s.mul(f).add(c(l))}else{s=s.mul(i);s=s.add(c(l))}}s.unsigned=t;return s}n.fromString=d;function f(e,t){if(typeof e==="number")return c(e,t);if(typeof e==="string")return d(e,t);return l(e.low,e.high,typeof t==="boolean"?t:e.unsigned)}n.fromValue=f;var h=1<<16;var p=1<<24;var m=h*h;var g=m*m;var y=g/2;var v=a(p);var b=a(0);n.ZERO=b;var w=a(0,true);n.UZERO=w;var E=a(1);n.ONE=E;var _=a(1,true);n.UONE=_;var S=a(-1);n.NEG_ONE=S;var T=l(0xffffffff|0,0x7fffffff|0,false);n.MAX_VALUE=T;var C=l(0xffffffff|0,0xffffffff|0,true);n.MAX_UNSIGNED_VALUE=C;var I=l(0,0x80000000|0,false);n.MIN_VALUE=I;var R=n.prototype;R.toInt=function e(){return this.unsigned?this.low>>>0:this.low};R.toNumber=function e(){if(this.unsigned)return(this.high>>>0)*m+(this.low>>>0);return this.high*m+(this.low>>>0)};R.toString=function e(e){e=e||10;if(e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(I)){var t=c(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}else return"-"+this.neg().toString(e)}var i=c(u(e,6),this.unsigned),s=this;var o="";while(true){var a=s.div(i),l=s.sub(a.mul(i)).toInt()>>>0,d=l.toString(e);s=a;if(s.isZero())return d+o;else{while(d.length<6)d="0"+d;o=""+d+o}}};R.getHighBits=function e(){return this.high};R.getHighBitsUnsigned=function e(){return this.high>>>0};R.getLowBits=function e(){return this.low};R.getLowBitsUnsigned=function e(){return this.low>>>0};R.getNumBitsAbs=function e(){if(this.isNegative())return this.eq(I)?64:this.neg().getNumBitsAbs();var e=this.high!=0?this.high:this.low;for(var t=31;t>0;t--)if((e&1<<t)!=0)break;return this.high!=0?t+33:t+1};R.isSafeInteger=function e(){var e=this.high>>21;if(!e)return true;if(this.unsigned)return false;return e===-1&&!(this.low===0&&this.high===-2097152)};R.isZero=function e(){return this.high===0&&this.low===0};R.eqz=R.isZero;R.isNegative=function e(){return!this.unsigned&&this.high<0};R.isPositive=function e(){return this.unsigned||this.high>=0};R.isOdd=function e(){return(this.low&1)===1};R.isEven=function e(){return(this.low&1)===0};R.equals=function e(e){if(!r(e))e=f(e);if(this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1)return false;return this.high===e.high&&this.low===e.low};R.eq=R.equals;R.notEquals=function e(e){return!this.eq(e)};R.neq=R.notEquals;R.ne=R.notEquals;R.lessThan=function e(e){return this.comp(e)<0};R.lt=R.lessThan;R.lessThanOrEqual=function e(e){return this.comp(e)<=0};R.lte=R.lessThanOrEqual;R.le=R.lessThanOrEqual;R.greaterThan=function e(e){return this.comp(e)>0};R.gt=R.greaterThan;R.greaterThanOrEqual=function e(e){return this.comp(e)>=0};R.gte=R.greaterThanOrEqual;R.ge=R.greaterThanOrEqual;R.compare=function e(e){if(!r(e))e=f(e);if(this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();if(t&&!n)return-1;if(!t&&n)return 1;if(!this.unsigned)return this.sub(e).isNegative()?-1:1;return e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1};R.comp=R.compare;R.negate=function e(){if(!this.unsigned&&this.eq(I))return I;return this.not().add(E)};R.neg=R.negate;R.add=function e(e){if(!r(e))e=f(e);var t=this.high>>>16;var n=this.high&65535;var i=this.low>>>16;var s=this.low&65535;var o=e.high>>>16;var a=e.high&65535;var c=e.low>>>16;var u=e.low&65535;var d=0,h=0,p=0,m=0;m+=s+u;p+=m>>>16;m&=65535;p+=i+c;h+=p>>>16;p&=65535;h+=n+a;d+=h>>>16;h&=65535;d+=t+o;d&=65535;return l(p<<16|m,d<<16|h,this.unsigned)};R.subtract=function e(e){if(!r(e))e=f(e);return this.add(e.neg())};R.sub=R.subtract;R.multiply=function e(e){if(this.isZero())return this;if(!r(e))e=f(e);if(t){var n=t["mul"](this.low,this.high,e.low,e.high);return l(n,t["get_high"](),this.unsigned)}if(e.isZero())return this.unsigned?w:b;if(this.eq(I))return e.isOdd()?I:b;if(e.eq(I))return this.isOdd()?I:b;if(this.isNegative()){if(e.isNegative())return this.neg().mul(e.neg());else return this.neg().mul(e).neg()}else if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(v)&&e.lt(v))return c(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16;var s=this.high&65535;var o=this.low>>>16;var a=this.low&65535;var u=e.high>>>16;var d=e.high&65535;var h=e.low>>>16;var p=e.low&65535;var m=0,g=0,y=0,E=0;E+=a*p;y+=E>>>16;E&=65535;y+=o*p;g+=y>>>16;y&=65535;y+=a*h;g+=y>>>16;y&=65535;g+=s*p;m+=g>>>16;g&=65535;g+=o*h;m+=g>>>16;g&=65535;g+=a*d;m+=g>>>16;g&=65535;m+=i*p+s*h+o*d+a*u;m&=65535;return l(y<<16|E,m<<16|g,this.unsigned)};R.mul=R.multiply;R.divide=function e(e){if(!r(e))e=f(e);if(e.isZero())throw Error("division by zero");if(t){if(!this.unsigned&&this.high===-0x80000000&&e.low===-1&&e.high===-1){return this}var n=(this.unsigned?t["div_u"]:t["div_s"])(this.low,this.high,e.low,e.high);return l(n,t["get_high"](),this.unsigned)}if(this.isZero())return this.unsigned?w:b;var i,s,o;if(!this.unsigned){if(this.eq(I)){if(e.eq(E)||e.eq(S))return I;else if(e.eq(I))return E;else{var a=this.shr(1);i=a.div(e).shl(1);if(i.eq(b)){return e.isNegative()?E:S}else{s=this.sub(e.mul(i));o=i.add(s.div(e));return o}}}else if(e.eq(I))return this.unsigned?w:b;if(this.isNegative()){if(e.isNegative())return this.neg().div(e.neg());return this.neg().div(e).neg()}else if(e.isNegative())return this.div(e.neg()).neg();o=b}else{if(!e.unsigned)e=e.toUnsigned();if(e.gt(this))return w;if(e.gt(this.shru(1)))return _;o=w}s=this;while(s.gte(e)){i=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));var d=Math.ceil(Math.log(i)/Math.LN2),h=d<=48?1:u(2,d-48),p=c(i),m=p.mul(e);while(m.isNegative()||m.gt(s)){i-=h;p=c(i,this.unsigned);m=p.mul(e)}if(p.isZero())p=E;o=o.add(p);s=s.sub(m)}return o};R.div=R.divide;R.modulo=function e(e){if(!r(e))e=f(e);if(t){var n=(this.unsigned?t["rem_u"]:t["rem_s"])(this.low,this.high,e.low,e.high);return l(n,t["get_high"](),this.unsigned)}return this.sub(this.div(e).mul(e))};R.mod=R.modulo;R.rem=R.modulo;R.not=function e(){return l(~this.low,~this.high,this.unsigned)};R.countLeadingZeros=function e(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};R.clz=R.countLeadingZeros;R.countTrailingZeros=function e(){return this.low?i(this.low):i(this.high)+32};R.ctz=R.countTrailingZeros;R.and=function e(e){if(!r(e))e=f(e);return l(this.low&e.low,this.high&e.high,this.unsigned)};R.or=function e(e){if(!r(e))e=f(e);return l(this.low|e.low,this.high|e.high,this.unsigned)};R.xor=function e(e){if(!r(e))e=f(e);return l(this.low^e.low,this.high^e.high,this.unsigned)};R.shiftLeft=function e(e){if(r(e))e=e.toInt();if((e&=63)===0)return this;else if(e<32)return l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned);else return l(0,this.low<<e-32,this.unsigned)};R.shl=R.shiftLeft;R.shiftRight=function e(e){if(r(e))e=e.toInt();if((e&=63)===0)return this;else if(e<32)return l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned);else return l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};R.shr=R.shiftRight;R.shiftRightUnsigned=function e(e){if(r(e))e=e.toInt();if((e&=63)===0)return this;if(e<32)return l(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned);if(e===32)return l(this.high,0,this.unsigned);return l(this.high>>>e-32,0,this.unsigned)};R.shru=R.shiftRightUnsigned;R.shr_u=R.shiftRightUnsigned;R.rotateLeft=function e(e){var t;if(r(e))e=e.toInt();if((e&=63)===0)return this;if(e===32)return l(this.high,this.low,this.unsigned);if(e<32){t=32-e;return l(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)}e-=32;t=32-e;return l(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned)};R.rotl=R.rotateLeft;R.rotateRight=function e(e){var t;if(r(e))e=e.toInt();if((e&=63)===0)return this;if(e===32)return l(this.high,this.low,this.unsigned);if(e<32){t=32-e;return l(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)}e-=32;t=32-e;return l(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned)};R.rotr=R.rotateRight;R.toSigned=function e(){if(!this.unsigned)return this;return l(this.low,this.high,false)};R.toUnsigned=function e(){if(this.unsigned)return this;return l(this.low,this.high,true)};R.toBytes=function e(e){return e?this.toBytesLE():this.toBytesBE()};R.toBytesLE=function e(){var e=this.high,t=this.low;return[t&255,t>>>8&255,t>>>16&255,t>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};R.toBytesBE=function e(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,t>>>24,t>>>16&255,t>>>8&255,t&255]};n.fromBytes=function e(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)};n.fromBytesLE=function e(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)};n.fromBytesBE=function e(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};if(typeof BigInt==="function"){n.fromBigInt=function e(e,t){var n=Number(BigInt.asIntN(32,e));var r=Number(BigInt.asIntN(32,e>>BigInt(32)));return l(n,r,t)};n.fromValue=function e(e,t){if(typeof e==="bigint")return fromBigInt(e,t);return f(e,t)};R.toBigInt=function e(){var e=BigInt(this.low>>>0);var t=BigInt(this.unsigned?this.high>>>0:this.high);return t<<BigInt(32)|e}}var O=e.default=n;return"default"in e?e.default:e}({});if(true)!(n=[],r=(function(){return i}).apply(t,n),r!==undefined&&(e.exports=r));else{}},56070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ChannelCredentials=void 0;const r=n(34631);const i=n(37391);const s=n(9227);function o(e,t){if(e&&!(e instanceof Buffer)){throw new TypeError(`${t}, if provided, must be a Buffer.`)}}class a{constructor(e){this.callCredentials=e||i.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,n,i){var a;o(e,"Root certificate");o(t,"Private key");o(n,"Certificate chain");if(t&&!n){throw new Error("Private key must be given with accompanying certificate chain")}if(!t&&n){throw new Error("Certificate chain must be given with accompanying private key")}const c=(0,r.createSecureContext)({ca:(a=e!==null&&e!==void 0?e:(0,s.getDefaultRootsData)())!==null&&a!==void 0?a:undefined,key:t!==null&&t!==void 0?t:undefined,cert:n!==null&&n!==void 0?n:undefined,ciphers:s.CIPHER_SUITES});return new l(c,i!==null&&i!==void 0?i:{})}static createFromSecureContext(e,t){return new l(e,t!==null&&t!==void 0?t:{})}static createInsecure(){return new c}}t.ChannelCredentials=a;class c extends a{constructor(e){super(e)}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return false}_equals(e){return e instanceof c}}class l extends a{constructor(e,t){super();this.secureContext=e;this.verifyOptions=t;this.connectionOptions={secureContext:e};if(t===null||t===void 0?void 0:t.checkServerIdentity){this.connectionOptions.checkServerIdentity=t.checkServerIdentity}}compose(e){const t=this.callCredentials.compose(e);return new u(this,t)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return true}_equals(e){if(this===e){return true}if(e instanceof l){return this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity}else{return false}}}class u extends a{constructor(e,t){super(t);this.channelCredentials=e}compose(e){const t=this.callCredentials.compose(e);return new u(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return true}_equals(e){if(this===e){return true}if(e instanceof u){return this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials)}else{return false}}}},56271:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},56526:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{copyNextErrorCode:function(){return s},createDigestWithErrorCode:function(){return i},extractNextErrorCode:function(){return o}});const r="@";const i=(e,t)=>{if(typeof e==="object"&&e!==null&&"__NEXT_ERROR_CODE"in e){return`${t}${r}${e.__NEXT_ERROR_CODE}`}return t};const s=(e,t)=>{const n=o(e);if(n&&typeof t==="object"&&t!==null){Object.defineProperty(t,"__NEXT_ERROR_CODE",{value:n,enumerable:false,configurable:true})}};const o=e=>{if(typeof e==="object"&&e!==null&&"__NEXT_ERROR_CODE"in e&&typeof e.__NEXT_ERROR_CODE==="string"){return e.__NEXT_ERROR_CODE}if(typeof e==="object"&&e!==null&&"digest"in e&&typeof e.digest==="string"){const t=e.digest.split(r);const n=t.find(e=>e.startsWith("E"));return n}return undefined}},57354:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.channelOptionsEqual=t.recognizedOptions=void 0;t.recognizedOptions={"grpc.ssl_target_name_override":true,"grpc.primary_user_agent":true,"grpc.secondary_user_agent":true,"grpc.default_authority":true,"grpc.keepalive_time_ms":true,"grpc.keepalive_timeout_ms":true,"grpc.keepalive_permit_without_calls":true,"grpc.service_config":true,"grpc.max_concurrent_streams":true,"grpc.initial_reconnect_backoff_ms":true,"grpc.max_reconnect_backoff_ms":true,"grpc.use_local_subchannel_pool":true,"grpc.max_send_message_length":true,"grpc.max_receive_message_length":true,"grpc.enable_http_proxy":true,"grpc.enable_channelz":true,"grpc.dns_min_time_between_resolutions_ms":true,"grpc.enable_retries":true,"grpc.per_rpc_retry_buffer_size":true,"grpc.retry_buffer_size":true,"grpc.max_connection_age_ms":true,"grpc.max_connection_age_grace_ms":true,"grpc-node.max_session_memory":true,"grpc.service_config_disable_resolution":true,"grpc.client_idle_timeout_ms":true,"grpc-node.tls_enable_trace":true};function n(e,t){const n=Object.keys(e).sort();const r=Object.keys(t).sort();if(n.length!==r.length){return false}for(let i=0;i<n.length;i+=1){if(n[i]!==r[i]){return false}if(e[n[i]]!==t[r[i]]){return false}}return true}t.channelOptionsEqual=n},57373:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"resolveTitle",{enumerable:true,get:function(){return r}});function n(e,t){return e?e.replace(/%s/g,t):t}function r(e,t){let r;const i=typeof e!=="string"&&e&&"template"in e?e.template:null;if(typeof e==="string"){r=n(t,e)}else if(e){if("default"in e){r=n(t,e.default)}if("absolute"in e&&e.absolute){r=e.absolute}}if(e&&typeof e!=="string"){return{template:i,absolute:r||""}}else{return{absolute:r||e||"",template:i}}}},57391:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"createHrefFromUrl",{enumerable:true,get:function(){return n}});function n(e,t){if(t===void 0)t=true;return e.pathname+e.search+(t?e.hash:"")}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},57398:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function(){return s}});const r=n(37413);const i=n(1765);function s(){return(0,r.jsx)(i.HTTPAccessErrorFallback,{status:404,message:"This page could not be found."})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},57782:(e,t,n)=>{"use strict";n.d(t,{sk:()=>tk,HF:()=>tx,xI:()=>nK,hg:()=>nO,eN:()=>tY,df:()=>n7});var r=n(27728);var i=n(52122);var s=n(4363);var o=n(35545);var a=n(88060);const c={PHONE:"phone",TOTP:"totp"};const l={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const u={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"};const d={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"};const f={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function h(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not "+"authorized to use Firebase Authentication with the provided API key. "+"Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier ("+"Android package name or iOS bundle ID) provided is not installed on "+"this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, "+"already used or the domain associated with it does not match the list "+"of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try "+"again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in "+"again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is "+"initialized. Please be sure to call `initializeAuth` or `getAuth` before "+"starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and "+"conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:"Auth instance has already been used to make a network call. Auth can "+"no longer be configured to use the emulator. Try calling "+'"connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier."+" The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registered for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen "+"if the user's token has been tampered with, or if the user isn't for "+"the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is "+"invalid. Please resend the verification code sms and be sure to use the "+"verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: "+"cordova-plugin-buildinfo, cordova-universal-links-plugin, "+"cordova-plugin-browsertab, cordova-plugin-inappbrowser and "+"cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is incorrect, malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. "+"Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation "+"only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the "+"specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase "+"project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, "+"expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the "+"phone number in a format that can be parsed into E.164 format. E.164 "+"phone numbers are written in the format [+][country code][subscriber "+"number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided "+"recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. "+"Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), "+"by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier "+"assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the "+"SHA-256 hash of the provided raw nonce does not match the hashed nonce "+"in the ID token payload.",["missing-password"]:"A non-empty password must be provided",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different "+"sign-in credentials. Sign in using a provider associated with this "+"email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which "+"requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. "+"Enable it in the Firebase console, under the sign-in method tab of the "+"Auth section.",["operation-not-supported-in-this-environment"]:"This operation is not supported in the environment this application is "+'running on. "location.protocol" must be http, https or chrome-extension'+" and web storage must be enabled.",["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",["timeout"]:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. "+"Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist "+"the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may "+"have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with "+"different options. To avoid this error, call initializeAuth() with the "+"same options as when it was originally called, or call getAuth() to return the"+" already initialized instance.",["missing-recaptcha-token"]:"The reCAPTCHA token is missing when sending request to the backend.",["invalid-recaptcha-token"]:"The reCAPTCHA token is invalid when sending request to the backend.",["invalid-recaptcha-action"]:"The reCAPTCHA action is invalid when sending request to the backend.",["recaptcha-not-enabled"]:"reCAPTCHA Enterprise integration is not enabled for this project.",["missing-client-type"]:"The reCAPTCHA client type is missing when sending request to the backend.",["missing-recaptcha-version"]:"The reCAPTCHA version is missing when sending request to the backend.",["invalid-req-type"]:"Invalid request parameters.",["invalid-recaptcha-version"]:"The reCAPTCHA version is invalid when sending request to the backend.",["unsupported-password-policy-schema-version"]:"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.",["password-does-not-meet-requirements"]:"The password does not meet the requirements.",["invalid-hosting-link-domain"]:"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by "+"the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function p(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is "+"initialized. Please be sure to call `initializeAuth` or `getAuth` before "+"starting any other Firebase SDK."}}const m=null&&h;const g=p;const y=new i.FA("auth","Firebase",p());const v={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};const b=new a.Vy("@firebase/auth");function w(e,...t){if(b.logLevel<=a.$b.WARN){b.warn(`Auth (${r.MF}): ${e}`,...t)}}function E(e,...t){if(b.logLevel<=a.$b.ERROR){b.error(`Auth (${r.MF}): ${e}`,...t)}}function _(e,...t){throw I(e,...t)}function S(e,...t){return I(e,...t)}function T(e,t,n){const r=Object.assign(Object.assign({},g()),{[t]:n});const s=new i.FA("auth","Firebase",r);return s.create(t,{appName:e.name})}function C(e){return T(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I(e,...t){if(typeof e!=="string"){const n=t[0];const r=[...t.slice(1)];if(r[0]){r[0].appName=e.name}return e._errorFactory.create(n,...r)}return y.create(e,...t)}function R(e,t,...n){if(!e){throw I(t,...n)}}function O(e){const t=`INTERNAL ASSERTION FAILED: `+e;E(t);throw new Error(t)}function A(e,t){if(!e){O(t)}}function k(){var e;return typeof self!=="undefined"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function x(){return P()==="http:"||P()==="https:"}function P(){var e;return typeof self!=="undefined"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function N(){if(typeof navigator!=="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine==="boolean"&&(x()||(0,i.sr)()||"connection"in navigator)){return navigator.onLine}return true}function D(){if(typeof navigator==="undefined"){return null}const e=navigator;return e.languages&&e.languages[0]||e.language||null}class M{constructor(e,t){this.shortDelay=e;this.longDelay=t;A(t>e,"Short delay should be less than long delay!");this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){if(!N()){return Math.min(5e3,this.shortDelay)}return this.isMobile?this.longDelay:this.shortDelay}}function L(e,t){A(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;if(!t){return n}return`${n}${t.startsWith("/")?t.slice(1):t}`}class j{static initialize(e,t,n){this.fetchImpl=e;if(t){this.headersImpl=t}if(n){this.responseImpl=n}}static fetch(){if(this.fetchImpl){return this.fetchImpl}if(typeof self!=="undefined"&&"fetch"in self){return self.fetch}if(typeof globalThis!=="undefined"&&globalThis.fetch){return globalThis.fetch}if(typeof fetch!=="undefined"){return fetch}O("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl){return this.headersImpl}if(typeof self!=="undefined"&&"Headers"in self){return self.Headers}if(typeof globalThis!=="undefined"&&globalThis.Headers){return globalThis.Headers}if(typeof Headers!=="undefined"){return Headers}O("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl){return this.responseImpl}if(typeof self!=="undefined"&&"Response"in self){return self.Response}if(typeof globalThis!=="undefined"&&globalThis.Response){return globalThis.Response}if(typeof Response!=="undefined"){return Response}O("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const F={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"missing-password",["INVALID_LOGIN_CREDENTIALS"]:"invalid-credential",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["PASSWORD_DOES_NOT_MEET_REQUIREMENTS"]:"password-does-not-meet-requirements",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error",["RECAPTCHA_NOT_ENABLED"]:"recaptcha-not-enabled",["MISSING_RECAPTCHA_TOKEN"]:"missing-recaptcha-token",["INVALID_RECAPTCHA_TOKEN"]:"invalid-recaptcha-token",["INVALID_RECAPTCHA_ACTION"]:"invalid-recaptcha-action",["MISSING_CLIENT_TYPE"]:"missing-client-type",["MISSING_RECAPTCHA_VERSION"]:"missing-recaptcha-version",["INVALID_RECAPTCHA_VERSION"]:"invalid-recaptcha-version",["INVALID_REQ_TYPE"]:"invalid-req-type"};const B=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"];const U=new M(3e4,6e4);function V(e,t){if(e.tenantId&&!t.tenantId){return Object.assign(Object.assign({},t),{tenantId:e.tenantId})}return t}async function z(e,t,n,r,s={}){return q(e,s,async()=>{let s={};let o={};if(r){if(t==="GET"){o=r}else{s={body:JSON.stringify(r)}}}const a=(0,i.Am)(Object.assign({key:e.config.apiKey},o)).slice(1);const c=await e._getAdditionalHeaders();c["Content-Type"]="application/json";if(e.languageCode){c["X-Firebase-Locale"]=e.languageCode}const l=Object.assign({method:t,headers:c},s);if(!(0,i.c1)()){l.referrerPolicy="no-referrer"}if(e.emulatorConfig&&(0,i.zJ)(e.emulatorConfig.host)){l.credentials="include"}return j.fetch()(await G(e,e.config.apiHost,n,a),l)})}async function q(e,t,n){e._canInitEmulator=false;const r=Object.assign(Object.assign({},F),t);try{const t=new H(e);const i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s){throw K(e,"account-exists-with-different-credential",s)}if(i.ok&&!("errorMessage"in s)){return s}else{const t=i.ok?s.errorMessage:s.error.message;const[n,o]=t.split(" : ");if(n==="FEDERATED_USER_ID_ALREADY_LINKED"){throw K(e,"credential-already-in-use",s)}else if(n==="EMAIL_EXISTS"){throw K(e,"email-already-in-use",s)}else if(n==="USER_DISABLED"){throw K(e,"user-disabled",s)}const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o){throw T(e,a,o)}else{_(e,a)}}}catch(t){if(t instanceof i.g){throw t}_(e,"network-request-failed",{"message":String(t)})}}async function $(e,t,n,r,i={}){const s=await z(e,t,n,r,i);if("mfaPendingCredential"in s){_(e,"multi-factor-auth-required",{_serverResponse:s})}return s}async function G(e,t,n,r){const i=`${t}${n}?${r}`;const s=e;const o=s.config.emulator?L(e.config,i):`${e.config.apiScheme}://${i}`;if(B.includes(n)){await s._persistenceManagerAvailable;if(s._getPersistenceType()==="COOKIE"){const e=s._getPersistence();return e._getFinalTarget(o).toString()}}return o}function W(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class H{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e;this.timer=null;this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>{return t(S(this.auth,"network-request-failed"))},U.get())})}}function K(e,t,n){const r={appName:e.name};if(n.email){r.email=n.email}if(n.phoneNumber){r.phoneNumber=n.phoneNumber}const i=S(e,t,r);i.customData._tokenResponse=n;return i}function Q(e){return e!==undefined&&e.enterprise!==undefined}class Y{constructor(e){this.siteKey="";this.recaptchaEnforcementState=[];if(e.recaptchaKey===undefined){throw new Error("recaptchaKey undefined")}this.siteKey=e.recaptchaKey.split("/")[3];this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0){return null}for(const t of this.recaptchaEnforcementState){if(t.provider&&t.provider===e){return W(t.enforcementState)}}return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X(e,t){return z(e,"GET","/v2/recaptchaConfig",V(e,t))}async function J(e,t){return z(e,"POST","/v1/accounts:delete",t)}async function Z(e,t){return z(e,"POST","/v1/accounts:update",t)}async function ee(e,t){return z(e,"POST","/v1/accounts:lookup",t)}function et(e){if(!e){return undefined}try{const t=new Date(Number(e));if(!isNaN(t.getTime())){return t.toUTCString()}}catch(e){}return undefined}function en(e,t=false){return getModularInstance(e).getIdToken(t)}async function er(e,t=false){const n=(0,i.Ku)(e);const r=await n.getIdToken(t);const s=es(r);R(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase==="object"?s.firebase:undefined;const a=o===null||o===void 0?void 0:o["sign_in_provider"];return{claims:s,token:r,authTime:et(ei(s.auth_time)),issuedAtTime:et(ei(s.iat)),expirationTime:et(ei(s.exp)),signInProvider:a||null,signInSecondFactor:(o===null||o===void 0?void 0:o["sign_in_second_factor"])||null}}function ei(e){return Number(e)*1e3}function es(e){const[t,n,r]=e.split(".");if(t===undefined||n===undefined||r===undefined){E("JWT malformed, contained fewer than 3 sections");return null}try{const e=(0,i.u)(n);if(!e){E("Failed to decode base64 JWT payload");return null}return JSON.parse(e)}catch(e){E("Caught error parsing JWT payload as JSON",e===null||e===void 0?void 0:e.toString());return null}}function eo(e){const t=es(e);R(t,"internal-error");R(typeof t.exp!=="undefined","internal-error");R(typeof t.iat!=="undefined","internal-error");return Number(t.exp)-Number(t.iat)}async function ea(e,t,n=false){if(n){return t}try{return await t}catch(t){if(t instanceof i.g&&ec(t)){if(e.auth.currentUser===e){await e.auth.signOut()}}throw t}}function ec({code:e}){return e===`auth/${"user-disabled"}`||e===`auth/${"user-token-expired"}`}class el{constructor(e){this.user=e;this.isRunning=false;this.timerId=null;this.errorBackoff=3e4}_start(){if(this.isRunning){return}this.isRunning=true;this.schedule()}_stop(){if(!this.isRunning){return}this.isRunning=false;if(this.timerId!==null){clearTimeout(this.timerId)}}getInterval(e){var t;if(e){const e=this.errorBackoff;this.errorBackoff=Math.min(this.errorBackoff*2,96e4);return e}else{this.errorBackoff=3e4;const e=(t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0;const n=e-Date.now()-3e5;return Math.max(0,n)}}schedule(e=false){if(!this.isRunning){return}const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(true)}catch(e){if((e===null||e===void 0?void 0:e.code)===`auth/${"network-request-failed"}`){this.schedule(true)}return}this.schedule()}}class eu{constructor(e,t){this.createdAt=e;this.lastLoginAt=t;this._initializeTime()}_initializeTime(){this.lastSignInTime=et(this.lastLoginAt);this.creationTime=et(this.createdAt)}_copy(e){this.createdAt=e.createdAt;this.lastLoginAt=e.lastLoginAt;this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ed(e){var t;const n=e.auth;const r=await e.getIdToken();const i=await ea(e,ee(n,{idToken:r}));R(i===null||i===void 0?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=((t=s.providerUserInfo)===null||t===void 0?void 0:t.length)?ep(s.providerUserInfo):[];const a=eh(e.providerData,o);const c=e.isAnonymous;const l=!(e.email&&s.passwordHash)&&!(a===null||a===void 0?void 0:a.length);const u=!c?false:l;const d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||false,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eu(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}async function ef(e){const t=(0,i.Ku)(e);await ed(t);await t.auth._persistUserIfCurrent(t);t.auth._notifyListenersIfCurrent(t)}function eh(e,t){const n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}function ep(e){return e.map(e=>{var{providerId:t}=e,n=(0,s.Tt)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function em(e,t){const n=await q(e,{},async()=>{const n=(0,i.Am)({"grant_type":"refresh_token","refresh_token":t}).slice(1);const{tokenApiHost:r,apiKey:s}=e.config;const o=await G(e,r,"/v1/token",`key=${s}`);const a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:n};if(e.emulatorConfig&&(0,i.zJ)(e.emulatorConfig.host)){c.credentials="include"}return j.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eg(e,t){return z(e,"POST","/v2/accounts:revokeToken",V(e,t))}class ey{constructor(){this.refreshToken=null;this.accessToken=null;this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error");R(typeof e.idToken!=="undefined","internal-error");R(typeof e.refreshToken!=="undefined","internal-error");const t="expiresIn"in e&&typeof e.expiresIn!=="undefined"?Number(e.expiresIn):eo(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){R(e.length!==0,"internal-error");const t=eo(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=false){if(!t&&this.accessToken&&!this.isExpired){return this.accessToken}R(this.refreshToken,e,"user-token-expired");if(this.refreshToken){await this.refresh(e,this.refreshToken);return this.accessToken}return null}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await em(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null;this.accessToken=e||null;this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t;const s=new ey;if(n){R(typeof n==="string","internal-error",{appName:e});s.refreshToken=n}if(r){R(typeof r==="string","internal-error",{appName:e});s.accessToken=r}if(i){R(typeof i==="number","internal-error",{appName:e});s.expirationTime=i}return s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken;this.refreshToken=e.refreshToken;this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ey,this.toJSON())}_performRefresh(){return O("not implemented")}}function ev(e,t){R(typeof e==="string"||typeof e==="undefined","internal-error",{appName:t})}class eb{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,s.Tt)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase";this.proactiveRefresh=new el(this);this.reloadUserInfo=null;this.reloadListener=null;this.uid=t;this.auth=n;this.stsTokenManager=r;this.accessToken=r.accessToken;this.displayName=i.displayName||null;this.email=i.email||null;this.emailVerified=i.emailVerified||false;this.phoneNumber=i.phoneNumber||null;this.photoURL=i.photoURL||null;this.isAnonymous=i.isAnonymous||false;this.tenantId=i.tenantId||null;this.providerData=i.providerData?[...i.providerData]:[];this.metadata=new eu(i.createdAt||undefined,i.lastLoginAt||undefined)}async getIdToken(e){const t=await ea(this,this.stsTokenManager.getToken(this.auth,e));R(t,this.auth,"internal-error");if(this.accessToken!==t){this.accessToken=t;await this.auth._persistUserIfCurrent(this);this.auth._notifyListenersIfCurrent(this)}return t}getIdTokenResult(e){return er(this,e)}reload(){return ef(this)}_assign(e){if(this===e){return}R(this.uid===e.uid,this.auth,"internal-error");this.displayName=e.displayName;this.photoURL=e.photoURL;this.email=e.email;this.emailVerified=e.emailVerified;this.phoneNumber=e.phoneNumber;this.isAnonymous=e.isAnonymous;this.tenantId=e.tenantId;this.providerData=e.providerData.map(e=>Object.assign({},e));this.metadata._copy(e.metadata);this.stsTokenManager._assign(e.stsTokenManager)}_clone(e){const t=new eb(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));t.metadata._copy(this.metadata);return t}_onReload(e){R(!this.reloadListener,this.auth,"internal-error");this.reloadListener=e;if(this.reloadUserInfo){this._notifyReloadListener(this.reloadUserInfo);this.reloadUserInfo=null}}_notifyReloadListener(e){if(this.reloadListener){this.reloadListener(e)}else{this.reloadUserInfo=e}}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=false){let n=false;if(e.idToken&&e.idToken!==this.stsTokenManager.accessToken){this.stsTokenManager.updateFromServerResponse(e);n=true}if(t){await ed(this)}await this.auth._persistUserIfCurrent(this);if(n){this.auth._notifyListenersIfCurrent(this)}}async delete(){if((0,r.xZ)(this.auth.app)){return Promise.reject(C(this.auth))}const e=await this.getIdToken();await ea(this,J(this.auth,{idToken:e}));this.stsTokenManager.clearRefreshToken();return this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||undefined,emailVerified:this.emailVerified,displayName:this.displayName||undefined,isAnonymous:this.isAnonymous,photoURL:this.photoURL||undefined,phoneNumber:this.phoneNumber||undefined,tenantId:this.tenantId||undefined,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,l;const u=(n=t.displayName)!==null&&n!==void 0?n:undefined;const d=(r=t.email)!==null&&r!==void 0?r:undefined;const f=(i=t.phoneNumber)!==null&&i!==void 0?i:undefined;const h=(s=t.photoURL)!==null&&s!==void 0?s:undefined;const p=(o=t.tenantId)!==null&&o!==void 0?o:undefined;const m=(a=t._redirectEventId)!==null&&a!==void 0?a:undefined;const g=(c=t.createdAt)!==null&&c!==void 0?c:undefined;const y=(l=t.lastLoginAt)!==null&&l!==void 0?l:undefined;const{uid:v,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:_}=t;R(v&&_,e,"internal-error");const S=ey.fromJSON(this.name,_);R(typeof v==="string",e,"internal-error");ev(u,e.name);ev(d,e.name);R(typeof b==="boolean",e,"internal-error");R(typeof w==="boolean",e,"internal-error");ev(f,e.name);ev(h,e.name);ev(p,e.name);ev(m,e.name);ev(g,e.name);ev(y,e.name);const T=new eb({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:h,phoneNumber:f,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});if(E&&Array.isArray(E)){T.providerData=E.map(e=>Object.assign({},e))}if(m){T._redirectEventId=m}return T}static async _fromIdTokenResponse(e,t,n=false){const r=new ey;r.updateFromServerResponse(t);const i=new eb({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});await ed(i);return i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];R(r.localId!==undefined,"internal-error");const i=r.providerUserInfo!==undefined?ep(r.providerUserInfo):[];const s=!(r.email&&r.passwordHash)&&!(i===null||i===void 0?void 0:i.length);const o=new ey;o.updateFromIdToken(n);const a=new eb({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s});const c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||false,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new eu(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i===null||i===void 0?void 0:i.length)};Object.assign(a,c);return a}}const ew=new Map;function eE(e){A(e instanceof Function,"Expected a class definition");let t=ew.get(e);if(t){A(t instanceof e,"Instance stored in cache mismatched with class");return t}t=new e;ew.set(e,t);return t}class e_{constructor(){this.type="NONE";this.storage={}}async _isAvailable(){return true}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===undefined?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){return}_removeListener(e,t){return}}e_.type="NONE";const eS=e_;function eT(e,t,n){return`${"firebase"}:${e}:${t}:${n}`}class eC{constructor(e,t,n){this.persistence=e;this.auth=t;this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=eT(this.userKey,r.apiKey,i);this.fullPersistenceKey=eT("persistence",r.apiKey,i);this.boundEventHandler=t._onStorageEvent.bind(t);this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e){return null}if(typeof e==="string"){const t=await ee(this.auth,{idToken:e}).catch(()=>undefined);if(!t){return null}return eb._fromGetAccountInfoResponse(this.auth,t,e)}return eb._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e){return}const t=await this.getCurrentUser();await this.removeCurrentUser();this.persistence=e;if(t){return this.setCurrentUser(t)}}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length){return new eC(eE(eS),e,n)}const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable()){return e}return undefined}))).filter(e=>e);let i=r[0]||eE(eS);const s=eT(n,e.config.apiKey,e.name);let o=null;for(const n of t){try{const t=await n._get(s);if(t){let r;if(typeof t==="string"){const n=await ee(e,{idToken:t}).catch(()=>undefined);if(!n){break}r=await eb._fromGetAccountInfoResponse(e,n,t)}else{r=eb._fromJSON(e,t)}if(n!==i){o=r}i=n;break}}catch(e){}}const a=r.filter(e=>e._shouldAllowMigration);if(!i._shouldAllowMigration||!a.length){return new eC(i,e,n)}i=a[0];if(o){await i._set(s,o.toJSON())}await Promise.all(t.map(async e=>{if(e!==i){try{await e._remove(s)}catch(e){}}}));return new eC(i,e,n)}}function eI(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/")){return"Opera"}else if(ek(t)){return"IEMobile"}else if(t.includes("msie")||t.includes("trident/")){return"IE"}else if(t.includes("edge/")){return"Edge"}else if(eR(t)){return"Firefox"}else if(t.includes("silk/")){return"Silk"}else if(eP(t)){return"Blackberry"}else if(eN(t)){return"Webos"}else if(eO(t)){return"Safari"}else if((t.includes("chrome/")||eA(t))&&!t.includes("edge/")){return"Chrome"}else if(ex(t)){return"Android"}else{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/;const n=e.match(t);if((n===null||n===void 0?void 0:n.length)===2){return n[1]}}return"Other"}function eR(e=(0,i.ZQ)()){return/firefox\//i.test(e)}function eO(e=(0,i.ZQ)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eA(e=(0,i.ZQ)()){return/crios\//i.test(e)}function ek(e=(0,i.ZQ)()){return/iemobile/i.test(e)}function ex(e=(0,i.ZQ)()){return/android/i.test(e)}function eP(e=(0,i.ZQ)()){return/blackberry/i.test(e)}function eN(e=(0,i.ZQ)()){return/webos/i.test(e)}function eD(e=getUA()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function eM(e=getUA()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function eL(){return isIE()&&document.documentMode===10}function ej(e=getUA()){return eD(e)||ex(e)||eN(e)||eP(e)||/windows phone/i.test(e)||ek(e)}function eF(e,t=[]){let n;switch(e){case"Browser":n=eI((0,i.ZQ)());break;case"Worker":n=`${eI((0,i.ZQ)())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/${"JsCore"}/${r.MF}/${s}`}class eB{constructor(e){this.auth=e;this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{const r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t;this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e){return}const t=[];try{for(const n of this.queue){await n(e);if(n.onAbort){t.push(n.onAbort)}}}catch(e){t.reverse();for(const e of t){try{e()}catch(e){}}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e===null||e===void 0?void 0:e.message})}}}async function eU(e,t={}){return z(e,"GET","/v2/passwordPolicy",V(e,t))}const eV=6;class ez{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={};this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:eV;if(s.maxPasswordLength){this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength}if(s.containsLowercaseCharacter!==undefined){this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter}if(s.containsUppercaseCharacter!==undefined){this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter}if(s.containsNumericCharacter!==undefined){this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter}if(s.containsNonAlphanumericCharacter!==undefined){this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter}this.enforcementState=e.enforcementState;if(this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"){this.enforcementState="OFF"}this.allowedNonAlphanumericCharacters=(r=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"";this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:false;this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:true,passwordPolicy:this};this.validatePasswordLengthOptions(e,a);this.validatePasswordCharacterOptions(e,a);a.isValid&&(a.isValid=(t=a.meetsMinPasswordLength)!==null&&t!==void 0?t:true);a.isValid&&(a.isValid=(n=a.meetsMaxPasswordLength)!==null&&n!==void 0?n:true);a.isValid&&(a.isValid=(r=a.containsLowercaseLetter)!==null&&r!==void 0?r:true);a.isValid&&(a.isValid=(i=a.containsUppercaseLetter)!==null&&i!==void 0?i:true);a.isValid&&(a.isValid=(s=a.containsNumericCharacter)!==null&&s!==void 0?s:true);a.isValid&&(a.isValid=(o=a.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:true);return a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength;const r=this.customStrengthOptions.maxPasswordLength;if(n){t.meetsMinPasswordLength=e.length>=n}if(r){t.meetsMaxPasswordLength=e.length<=r}}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,false,false,false,false);let n;for(let r=0;r<e.length;r++){n=e.charAt(r);this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){if(this.customStrengthOptions.containsLowercaseLetter){e.containsLowercaseLetter||(e.containsLowercaseLetter=t)}if(this.customStrengthOptions.containsUppercaseLetter){e.containsUppercaseLetter||(e.containsUppercaseLetter=n)}if(this.customStrengthOptions.containsNumericCharacter){e.containsNumericCharacter||(e.containsNumericCharacter=r)}if(this.customStrengthOptions.containsNonAlphanumericCharacter){e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i)}}}class eq{constructor(e,t,n,r){this.app=e;this.heartbeatServiceProvider=t;this.appCheckServiceProvider=n;this.config=r;this.currentUser=null;this.emulatorConfig=null;this.operations=Promise.resolve();this.authStateSubscription=new eG(this);this.idTokenSubscription=new eG(this);this.beforeStateQueue=new eB(this);this.redirectUser=null;this.isProactiveRefreshEnabled=false;this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1;this._canInitEmulator=true;this._isInitialized=false;this._deleted=false;this._initializationPromise=null;this._popupRedirectResolver=null;this._errorFactory=y;this._agentRecaptchaConfig=null;this._tenantRecaptchaConfigs={};this._projectPasswordPolicy=null;this._tenantPasswordPolicies={};this._resolvePersistenceManagerAvailable=undefined;this.lastNotifiedUid=undefined;this.languageCode=null;this.tenantId=null;this.settings={appVerificationDisabledForTesting:false};this.frameworks=[];this.name=e.name;this.clientVersion=r.sdkClientVersion;this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){if(t){this._popupRedirectResolver=eE(t)}this._initializationPromise=this.queue(async()=>{var n,r,i;if(this._deleted){return}this.persistenceManager=await eC.create(this,e);(n=this._resolvePersistenceManagerAvailable)===null||n===void 0?void 0:n.call(this);if(this._deleted){return}if((r=this._popupRedirectResolver)===null||r===void 0?void 0:r._shouldInitProactively){try{await this._popupRedirectResolver._initialize(this)}catch(e){}}await this.initializeCurrentUser(t);this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null;if(this._deleted){return}this._isInitialized=true});return this._initializationPromise}async _onStorageEvent(){if(this._deleted){return}const e=await this.assertedPersistence.getCurrentUser();if(!this.currentUser&&!e){return}if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e);await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,true)}async initializeCurrentUserFromIdToken(e){try{const t=await ee(this,{idToken:e});const n=await eb._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e);await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;if(e){return new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))})}else{return this.directlySetCurrentUser(null)}}const n=await this.assertedPersistence.getCurrentUser();let i=n;let s=false;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId;const r=i===null||i===void 0?void 0:i._redirectEventId;const o=await this.tryRedirectSignIn(e);if((!n||n===r)&&(o===null||o===void 0?void 0:o.user)){i=o.user;s=true}}if(!i){return this.directlySetCurrentUser(null)}if(!i._redirectEventId){if(s){try{await this.beforeStateQueue.runMiddleware(i)}catch(e){i=n;this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}}if(i){return this.reloadAndSetCurrentUserOrClear(i)}else{return this.directlySetCurrentUser(null)}}R(this._popupRedirectResolver,this,"argument-error");await this.getOrInitRedirectPersistenceManager();if(this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId){return this.directlySetCurrentUser(i)}return this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,true)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ed(e)}catch(e){if((e===null||e===void 0?void 0:e.code)!==`auth/${"network-request-failed"}`){return this.directlySetCurrentUser(null)}}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D()}async _delete(){this._deleted=true}async updateCurrentUser(e){if((0,r.xZ)(this.app)){return Promise.reject(C(this))}const t=e?(0,i.Ku)(e):null;if(t){R(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token")}return this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=false){if(this._deleted){return}if(e){R(this.tenantId===e.tenantId,this,"tenant-id-mismatch")}if(!t){await this.beforeStateQueue.runMiddleware(e)}return this.queue(async()=>{await this.directlySetCurrentUser(e);this.notifyAuthListeners()})}async signOut(){if((0,r.xZ)(this.app)){return Promise.reject(C(this))}await this.beforeStateQueue.runMiddleware(null);if(this.redirectPersistenceManager||this._popupRedirectResolver){await this._setRedirectUser(null)}return this._updateCurrentUser(null,true)}setPersistence(e){if((0,r.xZ)(this.app)){return Promise.reject(C(this))}return this.queue(async()=>{await this.assertedPersistence.setPersistence(eE(e))})}_getRecaptchaConfig(){if(this.tenantId==null){return this._agentRecaptchaConfig}else{return this._tenantRecaptchaConfigs[this.tenantId]}}async validatePassword(e){if(!this._getPasswordPolicyInternal()){await this._updatePasswordPolicy()}const t=this._getPasswordPolicyInternal();if(t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){return Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}))}return t.validatePassword(e)}_getPasswordPolicyInternal(){if(this.tenantId===null){return this._projectPasswordPolicy}else{return this._tenantPasswordPolicies[this.tenantId]}}async _updatePasswordPolicy(){const e=await eU(this);const t=new ez(e);if(this.tenantId===null){this._projectPasswordPolicy=t}else{this._tenantPasswordPolicies[this.tenantId]=t}}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser){e()}else{const n=this.onAuthStateChanged(()=>{n();e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken();const n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};if(this.tenantId!=null){n.tenantId=this.tenantId}await eg(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&eE(e)||this._popupRedirectResolver;R(t,this,"argument-error");this.redirectPersistenceManager=await eC.create(this,[eE(t._redirectPersistence)],"redirectUser");this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;if(this._isInitialized){await this.queue(async()=>{})}if(((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e){return this._currentUser}if(((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e){return this.redirectUser}return null}async _persistUserIfCurrent(e){if(e===this.currentUser){return this.queue(async()=>this.directlySetCurrentUser(e))}}_notifyListenersIfCurrent(e){if(e===this.currentUser){this.notifyAuthListeners()}}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=true;if(this.currentUser){this._currentUser._startProactiveRefresh()}}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=false;if(this.currentUser){this._currentUser._stopProactiveRefresh()}}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized){return}this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;if(this.lastNotifiedUid!==n){this.lastNotifiedUid=n;this.authStateSubscription.next(this.currentUser)}}registerStateListener(e,t,n,r){if(this._deleted){return()=>{}}const i=typeof t==="function"?t:t.next.bind(t);let s=false;const o=this._isInitialized?Promise.resolve():this._initializationPromise;R(o,this,"internal-error");o.then(()=>{if(s){return}i(this.currentUser)});if(typeof t==="function"){const i=e.addObserver(t,n,r);return()=>{s=true;i()}}else{const n=e.addObserver(t);return()=>{s=true;n()}}}async directlySetCurrentUser(e){if(this.currentUser&&this.currentUser!==e){this._currentUser._stopProactiveRefresh()}if(e&&this.isProactiveRefreshEnabled){e._startProactiveRefresh()}this.currentUser=e;if(e){await this.assertedPersistence.setCurrentUser(e)}else{await this.assertedPersistence.removeCurrentUser()}}queue(e){this.operations=this.operations.then(e,e);return this.operations}get assertedPersistence(){R(this.persistenceManager,this,"internal-error");return this.persistenceManager}_logFramework(e){if(!e||this.frameworks.includes(e)){return}this.frameworks.push(e);this.frameworks.sort();this.clientVersion=eF(this.config.clientPlatform,this._getFrameworks())}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={["X-Client-Version"]:this.clientVersion};if(this.app.options.appId){t["X-Firebase-gmpid"]=this.app.options.appId}const n=await ((e=this.heartbeatServiceProvider.getImmediate({optional:true}))===null||e===void 0?void 0:e.getHeartbeatsHeader());if(n){t["X-Firebase-Client"]=n}const r=await this._getAppCheckToken();if(r){t["X-Firebase-AppCheck"]=r}return t}async _getAppCheckToken(){var e;if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken){return this.app.settings.appCheckToken}const t=await ((e=this.appCheckServiceProvider.getImmediate({optional:true}))===null||e===void 0?void 0:e.getToken());if(t===null||t===void 0?void 0:t.error){w(`Error while retrieving App Check token: ${t.error}`)}return t===null||t===void 0?void 0:t.token}}function e$(e){return(0,i.Ku)(e)}class eG{constructor(e){this.auth=e;this.observer=null;this.addObserver=(0,i.tD)(e=>this.observer=e)}get next(){R(this.observer,this.auth,"internal-error");return this.observer.next.bind(this.observer)}}let eW={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eH(e){return eW.loadJS(e)}function eK(){return eW.recaptchaEnterpriseScript}class eQ{constructor(){this.enterprise=new eY}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eY{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const eX="recaptcha-enterprise";const eJ="NO_RECAPTCHA";class eZ{constructor(e){this.type=eX;this.auth=e$(e)}async verify(e="verify",t=false){async function n(e){if(!t){if(e.tenantId==null&&e._agentRecaptchaConfig!=null){return e._agentRecaptchaConfig.siteKey}if(e.tenantId!=null&&e._tenantRecaptchaConfigs[e.tenantId]!==undefined){return e._tenantRecaptchaConfigs[e.tenantId].siteKey}}return new Promise(async(t,n)=>{X(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(r.recaptchaKey===undefined){n(new Error("recaptcha Enterprise site key undefined"))}else{const n=new Y(r);if(e.tenantId==null){e._agentRecaptchaConfig=n}else{e._tenantRecaptchaConfigs[e.tenantId]=n}return t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){const i=window.grecaptcha;if(Q(i)){i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(eJ)})})}else{r(Error("No reCAPTCHA enterprise script loaded."))}}if(this.auth.settings.appVerificationDisabledForTesting){const e=new eQ;return e.execute("siteKey",{action:"verify"})}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&Q(window.grecaptcha)){r(n,e,i)}else{if(typeof window==="undefined"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let t=eK();if(t.length!==0){t+=n}eH(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function e0(e,t,n,r=false,i=false){const s=new eZ(e);let o;if(i){o=eJ}else{try{o=await s.verify(n)}catch(e){o=await s.verify(n,true)}}const a=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber;const t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{"phoneEnrollmentInfo":{phoneNumber:e,recaptchaToken:t,captchaResponse:o,"clientType":"CLIENT_TYPE_WEB","recaptchaVersion":"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{"phoneSignInInfo":{recaptchaToken:e,captchaResponse:o,"clientType":"CLIENT_TYPE_WEB","recaptchaVersion":"RECAPTCHA_ENTERPRISE"}})}return a}if(!r){Object.assign(a,{captchaResponse:o})}else{Object.assign(a,{"captchaResp":o})}Object.assign(a,{"clientType":"CLIENT_TYPE_WEB"});Object.assign(a,{"recaptchaVersion":"RECAPTCHA_ENTERPRISE"});return a}async function e1(e,t,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER"){if((s=e._getRecaptchaConfig())===null||s===void 0?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await e0(e,t,n,n==="getOobCode");return r(e,i)}else{return r(e,t).catch(async i=>{if(i.code===`auth/${"missing-recaptcha-token"}`){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await e0(e,t,n,n==="getOobCode");return r(e,i)}else{return Promise.reject(i)}})}}else if(i==="PHONE_PROVIDER"){if((o=e._getRecaptchaConfig())===null||o===void 0?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await e0(e,t,n);return r(e,i).catch(async i=>{var s;if(((s=e._getRecaptchaConfig())===null||s===void 0?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"){if(i.code===`auth/${"missing-recaptcha-token"}`||i.code===`auth/${"invalid-app-credential"}`){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await e0(e,t,n,false,true);return r(e,i)}}return Promise.reject(i)})}else{const i=await e0(e,t,n,false,true);return r(e,i)}}else{return Promise.reject(i+" provider is not supported.")}}async function e2(e){const t=e$(e);const n=await X(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});const r=new Y(n);if(t.tenantId==null){t._agentRecaptchaConfig=r}else{t._tenantRecaptchaConfigs[t.tenantId]=r}if(r.isAnyProviderEnabled()){const e=new eZ(t);void e.verify()}}function e3(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate();const r=n.getOptions();if((0,i.bD)(r,t!==null&&t!==void 0?t:{})){return e}else{_(e,"already-initialized")}}const s=n.initialize({options:t});return s}function e6(e,t){const n=(t===null||t===void 0?void 0:t.persistence)||[];const r=(Array.isArray(n)?n:[n]).map(eE);if(t===null||t===void 0?void 0:t.errorMap){e._updateErrorMap(t.errorMap)}e._initializeWithPersistence(r,t===null||t===void 0?void 0:t.popupRedirectResolver)}function e4(e,t,n){const r=e$(e);R(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(n===null||n===void 0?void 0:n.disableWarnings);const o=e5(t);const{host:a,port:c}=e8(t);const l=c===null?"":`:${c}`;const u={url:`${o}//${a}${l}/`};const d=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){R(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed");R((0,i.bD)(u,r.config.emulator)&&(0,i.bD)(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u;r.emulatorConfig=d;r.settings.appVerificationDisabledForTesting=true;if((0,i.zJ)(a)){void(0,i.gE)(`${o}//${a}${l}`);(0,i.P1)("Auth",true)}else if(!s){e9()}}function e5(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function e8(e){const t=e5(e);const n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n){return{host:"",port:null}}const r=n[2].split("@").pop()||"";const i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:e7(r.substr(e.length+1))}}else{const[e,t]=r.split(":");return{host:e,port:e7(t)}}}function e7(e){if(!e){return null}const t=Number(e);if(isNaN(t)){return null}return t}function e9(){function e(){const e=document.createElement("p");const t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.";t.position="fixed";t.width="100%";t.backgroundColor="#ffffff";t.border=".1em solid #000000";t.color="#b50000";t.bottom="0px";t.left="0px";t.margin="0px";t.zIndex="10000";t.textAlign="center";e.classList.add("firebase-emulator-warning");document.body.appendChild(e)}if(typeof console!=="undefined"&&typeof console.info==="function"){console.info("WARNING: You are using the Auth Emulator,"+" which is intended for local testing only.  Do not use with"+" production credentials.")}if(typeof window!=="undefined"&&typeof document!=="undefined"){if(document.readyState==="loading"){window.addEventListener("DOMContentLoaded",e)}else{e()}}}class te{constructor(e,t){this.providerId=e;this.signInMethod=t}toJSON(){return O("not implemented")}_getIdTokenResponse(e){return O("not implemented")}_linkToIdToken(e,t){return O("not implemented")}_getReauthenticationResolver(e){return O("not implemented")}}async function tt(e,t){return z(e,"POST","/v1/accounts:resetPassword",V(e,t))}async function tn(e,t){return z(e,"POST","/v1/accounts:update",t)}async function tr(e,t){return z(e,"POST","/v1/accounts:signUp",t)}async function ti(e,t){return z(e,"POST","/v1/accounts:update",V(e,t))}async function ts(e,t){return $(e,"POST","/v1/accounts:signInWithPassword",V(e,t))}async function to(e,t){return z(e,"POST","/v1/accounts:sendOobCode",V(e,t))}async function ta(e,t){return to(e,t)}async function tc(e,t){return to(e,t)}async function tl(e,t){return to(e,t)}async function tu(e,t){return to(e,t)}async function td(e,t){return $(e,"POST","/v1/accounts:signInWithEmailLink",V(e,t))}async function tf(e,t){return $(e,"POST","/v1/accounts:signInWithEmailLink",V(e,t))}class th extends te{constructor(e,t,n,r=null){super("password",n);this._email=e;this._password=t;this._tenantId=r}static _fromEmailAndPassword(e,t){return new th(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new th(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e==="string"?JSON.parse(e):e;if((t===null||t===void 0?void 0:t.email)&&(t===null||t===void 0?void 0:t.password)){if(t.signInMethod==="password"){return this._fromEmailAndPassword(t.email,t.password)}else if(t.signInMethod==="emailLink"){return this._fromEmailAndCode(t.email,t.password,t.tenantId)}}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:true,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e1(e,t,"signInWithPassword",ts,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return td(e,{email:this._email,oobCode:this._password});default:_(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:true,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e1(e,n,"signUpPassword",tr,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return tf(e,{idToken:t,email:this._email,oobCode:this._password});default:_(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function tp(e,t){return $(e,"POST","/v1/accounts:signInWithIdp",V(e,t))}const tm="http://localhost";class tg extends te{constructor(){super(...arguments);this.pendingToken=null}static _fromParams(e){const t=new tg(e.providerId,e.signInMethod);if(e.idToken||e.accessToken){if(e.idToken){t.idToken=e.idToken}if(e.accessToken){t.accessToken=e.accessToken}if(e.nonce&&!e.pendingToken){t.nonce=e.nonce}if(e.pendingToken){t.pendingToken=e.pendingToken}}else if(e.oauthToken&&e.oauthTokenSecret){t.accessToken=e.oauthToken;t.secret=e.oauthTokenSecret}else{_("argument-error")}return t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e==="string"?JSON.parse(e):e;const{providerId:n,signInMethod:r}=t,i=(0,s.Tt)(t,["providerId","signInMethod"]);if(!n||!r){return null}const o=new tg(n,r);o.idToken=i.idToken||undefined;o.accessToken=i.accessToken||undefined;o.secret=i.secret;o.nonce=i.nonce;o.pendingToken=i.pendingToken||null;return o}_getIdTokenResponse(e){const t=this.buildRequest();return tp(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();n.idToken=t;return tp(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();t.autoCreate=false;return tp(e,t)}buildRequest(){const e={requestUri:tm,returnSecureToken:true};if(this.pendingToken){e.pendingToken=this.pendingToken}else{const t={};if(this.idToken){t["id_token"]=this.idToken}if(this.accessToken){t["access_token"]=this.accessToken}if(this.secret){t["oauth_token_secret"]=this.secret}t["providerId"]=this.providerId;if(this.nonce&&!this.pendingToken){t["nonce"]=this.nonce}e.postBody=(0,i.Am)(t)}return e}}async function ty(e,t){return $(e,"POST","/v1/accounts:signInWithPhoneNumber",V(e,t))}async function tv(e,t){const n=await $(e,"POST","/v1/accounts:signInWithPhoneNumber",V(e,t));if(n.temporaryProof){throw K(e,"account-exists-with-different-credential",n)}return n}const tb={["USER_NOT_FOUND"]:"user-not-found"};async function tw(e,t){const n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return $(e,"POST","/v1/accounts:signInWithPhoneNumber",V(e,n),tb)}class tE extends te{constructor(e){super("phone","phone");this.params=e}static _fromVerification(e,t){return new tE({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new tE({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return ty(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return tv(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return tw(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;if(e&&t){return{temporaryProof:e,phoneNumber:t}}return{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};if(this.params.phoneNumber){e.phoneNumber=this.params.phoneNumber}if(this.params.temporaryProof){e.temporaryProof=this.params.temporaryProof}if(this.params.verificationCode){e.verificationCode=this.params.verificationCode}if(this.params.verificationId){e.verificationId=this.params.verificationId}return e}static fromJSON(e){if(typeof e==="string"){e=JSON.parse(e)}const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;if(!n&&!t&&!r&&!i){return null}return new tE({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i})}}function t_(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tS(e){const t=(0,i.I9)((0,i.hp)(e))["link"];const n=t?(0,i.I9)((0,i.hp)(t))["deep_link_id"]:null;const r=(0,i.I9)((0,i.hp)(e))["deep_link_id"];const s=r?(0,i.I9)((0,i.hp)(r))["link"]:null;return s||r||n||t||e}class tT{constructor(e){var t,n,r,s,o,a;const c=(0,i.I9)((0,i.hp)(e));const l=(t=c["apiKey"])!==null&&t!==void 0?t:null;const u=(n=c["oobCode"])!==null&&n!==void 0?n:null;const d=t_((r=c["mode"])!==null&&r!==void 0?r:null);R(l&&u&&d,"argument-error");this.apiKey=l;this.operation=d;this.code=u;this.continueUrl=(s=c["continueUrl"])!==null&&s!==void 0?s:null;this.languageCode=(o=c["lang"])!==null&&o!==void 0?o:null;this.tenantId=(a=c["tenantId"])!==null&&a!==void 0?a:null}static parseLink(e){const t=tS(e);try{return new tT(t)}catch(e){return null}}}function tC(e){return tT.parseLink(e)}class tI{constructor(){this.providerId=tI.PROVIDER_ID}static credential(e,t){return th._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=tT.parseLink(t);R(n,"argument-error");return th._fromEmailAndCode(e,n.code,n.tenantId)}}tI.PROVIDER_ID="password";tI.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tI.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class tR{constructor(e){this.providerId=e;this.defaultLanguageCode=null;this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){this.customParameters=e;return this}getCustomParameters(){return this.customParameters}}class tO extends tR{constructor(){super(...arguments);this.scopes=[]}addScope(e){if(!this.scopes.includes(e)){this.scopes.push(e)}return this}getScopes(){return[...this.scopes]}}class tA extends(null&&tO){static credentialFromJSON(e){const t=typeof e==="string"?JSON.parse(e):e;R("providerId"in t&&"signInMethod"in t,"argument-error");return tg._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){R(e.idToken||e.accessToken,"argument-error");return tg._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return tA.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return tA.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e){return null}const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!n&&!r&&!t&&!i){return null}if(!o){return null}try{return new tA(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(e){return null}}}class tk extends tO{constructor(){super("facebook.com")}static credential(e){return tg._fromParams({providerId:tk.PROVIDER_ID,signInMethod:tk.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tk.credentialFromTaggedObject(e)}static credentialFromError(e){return tk.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)){return null}if(!e.oauthAccessToken){return null}try{return tk.credential(e.oauthAccessToken)}catch(e){return null}}}tk.FACEBOOK_SIGN_IN_METHOD="facebook.com";tk.PROVIDER_ID="facebook.com";class tx extends tO{constructor(){super("google.com");this.addScope("profile")}static credential(e,t){return tg._fromParams({providerId:tx.PROVIDER_ID,signInMethod:tx.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return tx.credentialFromTaggedObject(e)}static credentialFromError(e){return tx.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e){return null}const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n){return null}try{return tx.credential(t,n)}catch(e){return null}}}tx.GOOGLE_SIGN_IN_METHOD="google.com";tx.PROVIDER_ID="google.com";class tP extends tO{constructor(){super("github.com")}static credential(e){return tg._fromParams({providerId:tP.PROVIDER_ID,signInMethod:tP.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tP.credentialFromTaggedObject(e)}static credentialFromError(e){return tP.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)){return null}if(!e.oauthAccessToken){return null}try{return tP.credential(e.oauthAccessToken)}catch(e){return null}}}tP.GITHUB_SIGN_IN_METHOD="github.com";tP.PROVIDER_ID="github.com";const tN="http://localhost";class tD extends te{constructor(e,t){super(e,e);this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return tp(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();n.idToken=t;return tp(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();t.autoCreate=false;return tp(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e==="string"?JSON.parse(e):e;const{providerId:n,signInMethod:r,pendingToken:i}=t;if(!n||!r||!i||n!==r){return null}return new tD(n,i)}static _create(e,t){return new tD(e,t)}buildRequest(){return{requestUri:tN,returnSecureToken:true,pendingToken:this.pendingToken}}}const tM="saml.";class tL extends tR{constructor(e){R(e.startsWith(tM),"argument-error");super(e)}static credentialFromResult(e){return tL.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return tL.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=tD.fromJSON(e);R(t,"argument-error");return t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e){return null}const{pendingToken:t,providerId:n}=e;if(!t||!n){return null}try{return tD._create(n,t)}catch(e){return null}}}class tj extends tO{constructor(){super("twitter.com")}static credential(e,t){return tg._fromParams({providerId:tj.PROVIDER_ID,signInMethod:tj.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return tj.credentialFromTaggedObject(e)}static credentialFromError(e){return tj.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e){return null}const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n){return null}try{return tj.credential(t,n)}catch(e){return null}}}tj.TWITTER_SIGN_IN_METHOD="twitter.com";tj.PROVIDER_ID="twitter.com";async function tF(e,t){return $(e,"POST","/v1/accounts:signUp",V(e,t))}class tB{constructor(e){this.user=e.user;this.providerId=e.providerId;this._tokenResponse=e._tokenResponse;this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=false){const i=await eb._fromIdTokenResponse(e,n,r);const s=tU(n);const o=new tB({user:i,providerId:s,_tokenResponse:n,operationType:t});return o}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,true);const r=tU(n);return new tB({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function tU(e){if(e.providerId){return e.providerId}if("phoneNumber"in e){return"phone"}return null}async function tV(e){var t;if(_isFirebaseServerApp(e.app)){return Promise.reject(C(e))}const n=e$(e);await n._initializationPromise;if((t=n.currentUser)===null||t===void 0?void 0:t.isAnonymous){return new tB({user:n.currentUser,providerId:null,operationType:"signIn"})}const r=await tF(n,{returnSecureToken:true});const i=await tB._fromIdTokenResponse(n,"signIn",r,true);await n._updateCurrentUser(i.user);return i}class tz extends i.g{constructor(e,t,n,r){var i;super(t.code,t.message);this.operationType=n;this.user=r;Object.setPrototypeOf(this,tz.prototype);this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:undefined,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new tz(e,t,n,r)}}function tq(e,t,n,r){const i=t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return i.catch(n=>{if(n.code===`auth/${"multi-factor-auth-required"}`){throw tz._fromErrorAndOperation(e,n,t,r)}throw n})}function t$(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}async function tG(e,t){const n=getModularInstance(e);await tH(true,n,t);const{providerUserInfo:r}=await Z(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]});const i=t$(r||[]);n.providerData=n.providerData.filter(e=>i.has(e.providerId));if(!i.has("phone")){n.phoneNumber=null}await n.auth._persistUserIfCurrent(n);return n}async function tW(e,t,n=false){const r=await ea(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return tB._forOperation(e,"link",r)}async function tH(e,t,n){await ed(t);const r=t$(t.providerData);const i=e===false?"provider-already-linked":"no-such-provider";R(r.has(n)===e,t.auth,i)}async function tK(e,t,n=false){const{auth:r}=e;if(_isFirebaseServerApp(r.app)){return Promise.reject(C(r))}const i="reauthenticate";try{const s=await ea(e,tq(r,i,t,e),n);R(s.idToken,r,"internal-error");const o=es(s.idToken);R(o,r,"internal-error");const{sub:a}=o;R(e.uid===a,r,"user-mismatch");return tB._forOperation(e,i,s)}catch(e){if((e===null||e===void 0?void 0:e.code)===`auth/${"user-not-found"}`){_(r,"user-mismatch")}throw e}}async function tQ(e,t,n=false){if((0,r.xZ)(e.app)){return Promise.reject(C(e))}const i="signIn";const s=await tq(e,i,t);const o=await tB._fromIdTokenResponse(e,i,s);if(!n){await e._updateCurrentUser(o.user)}return o}async function tY(e,t){return tQ(e$(e),t)}async function tX(e,t){const n=getModularInstance(e);await tH(false,n,t.providerId);return tW(n,t)}async function tJ(e,t){return tK(getModularInstance(e),t)}async function tZ(e,t){return $(e,"POST","/v1/accounts:signInWithCustomToken",V(e,t))}async function t0(e,t){if(_isFirebaseServerApp(e.app)){return Promise.reject(C(e))}const n=e$(e);const r=await tZ(n,{token:t,returnSecureToken:true});const i=await tB._fromIdTokenResponse(n,"signIn",r);await n._updateCurrentUser(i.user);return i}class t1{constructor(e,t){this.factorId=e;this.uid=t.mfaEnrollmentId;this.enrollmentTime=new Date(t.enrolledAt).toUTCString();this.displayName=t.displayName}static _fromServerResponse(e,t){if("phoneInfo"in t){return t2._fromServerResponse(e,t)}else if("totpInfo"in t){return t3._fromServerResponse(e,t)}return _(e,"internal-error")}}class t2 extends t1{constructor(e){super("phone",e);this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new t2(t)}}class t3 extends t1{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new t3(t)}}function t6(e,t,n){var r;R(((r=n.url)===null||r===void 0?void 0:r.length)>0,e,"invalid-continue-uri");R(typeof n.dynamicLinkDomain==="undefined"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain");R(typeof n.linkDomain==="undefined"||n.linkDomain.length>0,e,"invalid-hosting-link-domain");t.continueUrl=n.url;t.dynamicLinkDomain=n.dynamicLinkDomain;t.linkDomain=n.linkDomain;t.canHandleCodeInApp=n.handleCodeInApp;if(n.iOS){R(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id");t.iOSBundleId=n.iOS.bundleId}if(n.android){R(n.android.packageName.length>0,e,"missing-android-pkg-name");t.androidInstallApp=n.android.installApp;t.androidMinimumVersionCode=n.android.minimumVersion;t.androidPackageName=n.android.packageName}}async function t4(e){const t=e$(e);if(t._getPasswordPolicyInternal()){await t._updatePasswordPolicy()}}async function t5(e,t,n){const r=e$(e);const i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(n){t6(r,i,n)}await e1(r,i,"getOobCode",tc,"EMAIL_PASSWORD_PROVIDER")}async function t8(e,t,n){await tt(getModularInstance(e),{oobCode:t,newPassword:n}).catch(async t=>{if(t.code===`auth/${"password-does-not-meet-requirements"}`){void t4(e)}throw t})}async function t7(e,t){await ti(getModularInstance(e),{oobCode:t})}async function t9(e,t){const n=getModularInstance(e);const r=await tt(n,{oobCode:t});const i=r.requestType;R(i,n,"internal-error");switch(i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":R(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":R(r.mfaInfo,n,"internal-error");default:R(r.email,n,"internal-error")}let s=null;if(r.mfaInfo){s=t1._fromServerResponse(e$(n),r.mfaInfo)}return{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function ne(e,t){const{data:n}=await t9(getModularInstance(e),t);return n.email}async function nt(e,t,n){if(_isFirebaseServerApp(e.app)){return Promise.reject(C(e))}const r=e$(e);const i={returnSecureToken:true,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};const s=e1(r,i,"signUpPassword",tF,"EMAIL_PASSWORD_PROVIDER");const o=await s.catch(t=>{if(t.code===`auth/${"password-does-not-meet-requirements"}`){void t4(e)}throw t});const a=await tB._fromIdTokenResponse(r,"signIn",o);await r._updateCurrentUser(a.user);return a}function nn(e,t,n){if(_isFirebaseServerApp(e.app)){return Promise.reject(C(e))}return tY(getModularInstance(e),tI.credential(t,n)).catch(async t=>{if(t.code===`auth/${"password-does-not-meet-requirements"}`){void t4(e)}throw t})}async function nr(e,t,n){const r=e$(e);const i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function s(e,t){R(t.handleCodeInApp,r,"argument-error");if(t){t6(r,e,t)}}s(i,n);await e1(r,i,"getOobCode",tl,"EMAIL_PASSWORD_PROVIDER")}function ni(e,t){const n=tT.parseLink(t);return(n===null||n===void 0?void 0:n.operation)==="EMAIL_SIGNIN"}async function ns(e,t,n){if(_isFirebaseServerApp(e.app)){return Promise.reject(C(e))}const r=getModularInstance(e);const i=tI.credentialWithLink(t,n||k());R(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch");return tY(r,i)}async function no(e,t){return z(e,"POST","/v1/accounts:createAuthUri",V(e,t))}async function na(e,t){const n=x()?k():"http://localhost";const r={identifier:t,continueUri:n};const{signinMethods:i}=await no(getModularInstance(e),r);return i||[]}async function nc(e,t){const n=getModularInstance(e);const r=await e.getIdToken();const i={requestType:"VERIFY_EMAIL",idToken:r};if(t){t6(n.auth,i,t)}const{email:s}=await ta(n.auth,i);if(s!==e.email){await e.reload()}}async function nl(e,t,n){const r=getModularInstance(e);const i=await e.getIdToken();const s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:t};if(n){t6(r.auth,s,n)}const{email:o}=await tu(r.auth,s);if(o!==e.email){await e.reload()}}async function nu(e,t){return z(e,"POST","/v1/accounts:update",t)}async function nd(e,{displayName:t,photoURL:n}){if(t===undefined&&n===undefined){return}const r=getModularInstance(e);const i=await r.getIdToken();const s={idToken:i,displayName:t,photoUrl:n,returnSecureToken:true};const o=await ea(r,nu(r.auth,s));r.displayName=o.displayName||null;r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>e==="password");if(a){a.displayName=r.displayName;a.photoURL=r.photoURL}await r._updateTokensIfNecessary(o)}function nf(e,t){const n=getModularInstance(e);if(_isFirebaseServerApp(n.auth.app)){return Promise.reject(C(n.auth))}return np(n,t,null)}function nh(e,t){return np(getModularInstance(e),null,t)}async function np(e,t,n){const{auth:r}=e;const i=await e.getIdToken();const s={idToken:i,returnSecureToken:true};if(t){s.email=t}if(n){s.password=n}const o=await ea(e,tn(r,s));await e._updateTokensIfNecessary(o,true)}function nm(e){var t,n;if(!e){return null}const{providerId:r}=e;const i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{};const s=e.isNewUser||e.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(e===null||e===void 0?void 0:e.idToken)){const r=(n=(t=es(e.idToken))===null||t===void 0?void 0:t.firebase)===null||n===void 0?void 0:n["sign_in_provider"];if(r){const e=r!=="anonymous"&&r!=="custom"?r:null;return new ng(s,e)}}if(!r){return null}switch(r){case"facebook.com":return new nv(s,i);case"github.com":return new nb(s,i);case"google.com":return new nw(s,i);case"twitter.com":return new nE(s,i,e.screenName||null);case"custom":case"anonymous":return new ng(s,null);default:return new ng(s,r,i)}}class ng{constructor(e,t,n={}){this.isNewUser=e;this.providerId=t;this.profile=n}}class ny extends ng{constructor(e,t,n,r){super(e,t,n);this.username=r}}class nv extends ng{constructor(e,t){super(e,"facebook.com",t)}}class nb extends ny{constructor(e,t){super(e,"github.com",t,typeof(t===null||t===void 0?void 0:t.login)==="string"?t===null||t===void 0?void 0:t.login:null)}}class nw extends ng{constructor(e,t){super(e,"google.com",t)}}class nE extends ny{constructor(e,t,n){super(e,"twitter.com",t,n)}}function n_(e){const{user:t,_tokenResponse:n}=e;if(t.isAnonymous&&!n){return{providerId:null,isNewUser:false,profile:null}}return nm(n)}function nS(e,t){return getModularInstance(e).setPersistence(t)}function nT(e){return e2(e)}async function nC(e,t){const n=e$(e);return n.validatePassword(t)}function nI(e,t,n,r){return getModularInstance(e).onIdTokenChanged(t,n,r)}function nR(e,t,n){return getModularInstance(e).beforeAuthStateChanged(t,n)}function nO(e,t,n,r){return(0,i.Ku)(e).onAuthStateChanged(t,n,r)}function nA(e){getModularInstance(e).useDeviceLanguage()}function nk(e,t){return getModularInstance(e).updateCurrentUser(t)}function nx(e){return getModularInstance(e).signOut()}function nP(e,t){const n=e$(e);return n.revokeAccessToken(t)}async function nN(e){return getModularInstance(e).delete()}class nD{constructor(e,t,n){this.type=e;this.credential=t;this.user=n}static _fromIdtoken(e,t){return new nD("enroll",e,t)}static _fromMfaPendingCredential(e){return new nD("signin",e)}toJSON(){const e=this.type==="enroll"?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(e===null||e===void 0?void 0:e.multiFactorSession){if((t=e.multiFactorSession)===null||t===void 0?void 0:t.pendingCredential){return nD._fromMfaPendingCredential(e.multiFactorSession.pendingCredential)}else if((n=e.multiFactorSession)===null||n===void 0?void 0:n.idToken){return nD._fromIdtoken(e.multiFactorSession.idToken)}}return null}}class nM{constructor(e,t,n){this.session=e;this.hints=t;this.signInResolver=n}static _fromError(e,t){const n=e$(e);const r=t.customData._serverResponse;const i=(r.mfaInfo||[]).map(e=>t1._fromServerResponse(n,e));R(r.mfaPendingCredential,n,"internal-error");const s=nD._fromMfaPendingCredential(r.mfaPendingCredential);return new nM(s,i,async e=>{const i=await e._process(n,s);delete r.mfaInfo;delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const a=await tB._fromIdTokenResponse(n,t.operationType,o);await n._updateCurrentUser(a.user);return a;case"reauthenticate":R(t.user,n,"internal-error");return tB._forOperation(t.user,t.operationType,o);default:_(n,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function nL(e,t){var n;const r=getModularInstance(e);const i=t;R(t.customData.operationType,r,"argument-error");R((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error");return nM._fromError(r,i)}function nj(e,t){return z(e,"POST","/v2/accounts/mfaEnrollment:start",V(e,t))}function nF(e,t){return z(e,"POST","/v2/accounts/mfaEnrollment:finalize",V(e,t))}function nB(e,t){return z(e,"POST","/v2/accounts/mfaEnrollment:withdraw",V(e,t))}class nU{constructor(e){this.user=e;this.enrolledFactors=[];e._onReload(t=>{if(t.mfaInfo){this.enrolledFactors=t.mfaInfo.map(t=>t1._fromServerResponse(e.auth,t))}})}static _fromUser(e){return new nU(e)}async getSession(){return nD._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e;const r=await this.getSession();const i=await ea(this.user,n._process(this.user.auth,r,t));await this.user._updateTokensIfNecessary(i);return this.user.reload()}async unenroll(e){const t=typeof e==="string"?e:e.uid;const n=await this.user.getIdToken();try{const e=await ea(this.user,nB(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t);await this.user._updateTokensIfNecessary(e);await this.user.reload()}catch(e){throw e}}}const nV=new WeakMap;function nz(e){const t=getModularInstance(e);if(!nV.has(t)){nV.set(t,nU._fromUser(t))}return nV.get(t)}var nq="@firebase/auth";var n$="1.10.7";class nG{constructor(e){this.auth=e;this.internalListeners=new Map}getUid(){var e;this.assertAuthConfigured();return((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){this.assertAuthConfigured();await this.auth._initializationPromise;if(!this.auth.currentUser){return null}const t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){this.assertAuthConfigured();if(this.internalListeners.has(e)){return}const t=this.auth.onIdTokenChanged(t=>{e((t===null||t===void 0?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t);this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);if(!t){return}this.internalListeners.delete(e);t();this.updateProactiveRefresh()}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){if(this.internalListeners.size>0){this.auth._startProactiveRefresh()}else{this.auth._stopProactiveRefresh()}}}function nW(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return undefined}}function nH(e){(0,r.om)(new o.uA("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate();const i=t.getProvider("heartbeat");const s=t.getProvider("app-check-internal");const{apiKey:o,authDomain:a}=r.options;R(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eF(e)};const l=new eq(r,i,s,c);e6(l,n);return l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{const r=e.getProvider("auth-internal");r.initialize()}));(0,r.om)(new o.uA("auth-internal",e=>{const t=e$(e.getProvider("auth").getImmediate());return(e=>new nG(e))(t)},"PRIVATE").setInstantiationMode("EXPLICIT"));(0,r.KO)(nq,n$,nW(e));(0,r.KO)(nq,n$,"esm2017")}j.initialize(fetch,Headers,Response);function nK(e=(0,r.Sx)()){const t=(0,r.j6)(e,"auth");if(t.isInitialized()){return t.getImmediate()}const n=e3(e);const s=(0,i.Tj)("auth");if(s){e4(n,`http://${s}`)}return n}nH("Node");const nQ=S("operation-not-supported-in-this-environment");async function nY(){throw nQ}class nX{constructor(){throw nQ}}const nJ=null&&eS;const nZ=null&&eS;const n0=null&&eS;const n1=null&&eS;const n2=null&&nQ;const n3=null&&nX;const n6=null&&nY;const n4=null&&nY;const n5=null&&nY;const n8=null&&nY;const n7=nY;const n9=null&&nY;const re=null&&nY;const rt=null&&nY;const rn=null&&nY;const rr=null&&nY;const ri=null&&nY;const rs=null&&nX;class ro{static assertion(){throw nQ}}eq.prototype.setPersistence=async()=>{};function ra(e,t){return z(e,"POST","/v2/accounts/mfaSignIn:finalize",V(e,t))}class rc{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return O("unexpected MultiFactorSessionType")}}}class rl{static assertionForEnrollment(e,t){return ru._fromSecret(e,t)}static assertionForSignIn(e,t){return ru._fromEnrollmentId(e,t)}static async generateSecret(e){var t;const n=e;R(typeof((t=n.user)===null||t===void 0?void 0:t.auth)!=="undefined","internal-error");const r=await nj(n.user.auth,{idToken:n.credential,totpEnrollmentInfo:{}});return rd._fromStartTotpMfaEnrollmentResponse(r,n.user.auth)}}rl.FACTOR_ID="totp";class ru extends rc{constructor(e,t,n){super("totp");this.otp=e;this.enrollmentId=t;this.secret=n}static _fromSecret(e,t){return new ru(t,undefined,e)}static _fromEnrollmentId(e,t){return new ru(t,e)}async _finalizeEnroll(e,t,n){R(typeof this.secret!=="undefined",e,"argument-error");return nF(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){R(this.enrollmentId!==undefined&&this.otp!==undefined,e,"argument-error");const n={verificationCode:this.otp};return ra(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class rd{constructor(e,t,n,r,i,s,o){this.sessionInfo=s;this.auth=o;this.secretKey=e;this.hashingAlgorithm=t;this.codeLength=n;this.codeIntervalSeconds=r;this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new rd(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=false;if(rf(e)||rf(t)){r=true}if(r){if(rf(e)){e=((n=this.auth.currentUser)===null||n===void 0?void 0:n.email)||"unknownuser"}if(rf(t)){t=this.auth.name}}return`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function rf(e){return typeof e==="undefined"||(e===null||e===void 0?void 0:e.length)===0};;},58546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ResolvingCall=void 0;const r=n(71271);const i=n(26412);const s=n(86777);const o=n(31359);const a=n(73911);const c="resolving_call";class l{constructor(e,t,n,s,o,a){this.channel=e;this.method=t;this.filterStackFactory=s;this.credentials=o;this.callNumber=a;this.child=null;this.readPending=false;this.pendingMessage=null;this.pendingHalfClose=false;this.ended=false;this.readFilterPending=false;this.writeFilterPending=false;this.pendingChildStatus=null;this.metadata=null;this.listener=null;this.statusWatchers=[];this.deadlineTimer=setTimeout(()=>{},0);this.filterStack=null;this.deadline=n.deadline;this.host=n.host;if(n.parentCall){if(n.flags&r.Propagate.CANCELLATION){n.parentCall.on("cancelled",()=>{this.cancelWithStatus(r.Status.CANCELLED,"Cancelled by parent call")})}if(n.flags&r.Propagate.DEADLINE){this.trace("Propagating deadline from parent: "+n.parentCall.getDeadline());this.deadline=(0,i.minDeadline)(this.deadline,n.parentCall.getDeadline())}}this.trace("Created");this.runDeadlineTimer()}trace(e){o.trace(r.LogVerbosity.DEBUG,c,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer);this.trace("Deadline: "+(0,i.deadlineToString)(this.deadline));const e=(0,i.getRelativeTimeout)(this.deadline);if(e!==Infinity){this.trace("Deadline will be reached in "+e+"ms");const t=()=>{this.cancelWithStatus(r.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};if(e<=0){process.nextTick(t)}else{this.deadlineTimer=setTimeout(t,e)}}}outputStatus(e){if(!this.ended){this.ended=true;if(!this.filterStack){this.filterStack=this.filterStackFactory.createFilter()}clearTimeout(this.deadlineTimer);const t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"');this.statusWatchers.forEach(e=>e(t));process.nextTick(()=>{var e;(e=this.listener)===null||e===void 0?void 0:e.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child){throw new Error("sendMessageonChild called with child not populated")}const n=this.child;this.writeFilterPending=true;this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(t=>{this.writeFilterPending=false;n.sendMessageWithContext(e,t.message);if(this.pendingHalfClose){n.halfClose()}},e=>{this.cancelWithStatus(e.code,e.details)})}getConfig(){if(this.ended){return}if(!this.metadata||!this.listener){throw new Error("getConfig called before start")}const e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){if(this.metadata.getOptions().waitForReady){this.channel.queueCallForConfig(this)}else{this.outputStatus(e.error)}return}const t=e.config;if(t.status!==r.Status.OK){const{code:e,details:n}=(0,a.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:e,details:n,metadata:new s.Metadata});return}if(t.methodConfig.timeout){const e=new Date;e.setSeconds(e.getSeconds()+t.methodConfig.timeout.seconds);e.setMilliseconds(e.getMilliseconds()+t.methodConfig.timeout.nanos/1e6);this.deadline=(0,i.minDeadline)(this.deadline,e);this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories);this.filterStack=this.filterStackFactory.createFilter();this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(e=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline);this.trace("Created child ["+this.child.getCallNumber()+"]");this.child.start(e,{onReceiveMetadata:e=>{this.trace("Received metadata");this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(e))},onReceiveMessage:e=>{this.trace("Received message");this.readFilterPending=true;this.filterStack.receiveMessage(e).then(e=>{this.trace("Finished filtering received message");this.readFilterPending=false;this.listener.onReceiveMessage(e);if(this.pendingChildStatus){this.outputStatus(this.pendingChildStatus)}},e=>{this.cancelWithStatus(e.code,e.details)})},onReceiveStatus:e=>{this.trace("Received status");if(this.readFilterPending){this.pendingChildStatus=e}else{this.outputStatus(e)}}});if(this.readPending){this.child.startRead()}if(this.pendingMessage){this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message)}else if(this.pendingHalfClose){this.child.halfClose()}},e=>{this.outputStatus(e)})}reportResolverError(e){var t;if((t=this.metadata)===null||t===void 0?void 0:t.getOptions().waitForReady){this.channel.queueCallForConfig(this)}else{this.outputStatus(e)}}cancelWithStatus(e,t){var n;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"');(n=this.child)===null||n===void 0?void 0:n.cancelWithStatus(e,t);this.outputStatus({code:e,details:t,metadata:new s.Metadata})}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called");this.metadata=e.clone();this.listener=t;this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);if(this.child){this.sendMessageOnChild(e,t)}else{this.pendingMessage={context:e,message:t}}}startRead(){this.trace("startRead called");if(this.child){this.child.startRead()}else{this.readPending=true}}halfClose(){this.trace("halfClose called");if(this.child&&!this.writeFilterPending){this.child.halfClose()}else{this.pendingHalfClose=true}}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}}t.ResolvingCall=l},59008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{createFetch:function(){return g},createFromNextReadableStream:function(){return y},fetchServerResponse:function(){return m},urlToUrlWithoutFlightMarker:function(){return f}});const i=n(91563);const s=n(11264);const o=n(11448);const a=n(59154);const c=n(74007);const l=n(59880);const u=n(38637);const{createFromReadableStream:d}=true?n(19357):0;function f(e){const t=new URL(e,location.origin);t.searchParams.delete(i.NEXT_RSC_UNION_QUERY);if(true){if(true&&t.pathname.endsWith(".txt")){const{pathname:e}=t;const n=e.endsWith("/index.txt")?10:4;t.pathname=e.slice(0,-n)}}return t}function h(e){return{flightData:f(e).toString(),canonicalUrl:undefined,couldBeIntercepted:false,prerendered:false,postponed:false,staleTime:-1}}let p=new AbortController;if(false){}async function m(e,t){const{flightRouterState:n,nextUrl:r,prefetchKind:s}=t;const o={[i.RSC_HEADER]:"1",[i.NEXT_ROUTER_STATE_TREE_HEADER]:encodeURIComponent(JSON.stringify(n))};if(s===a.PrefetchKind.AUTO){o[i.NEXT_ROUTER_PREFETCH_HEADER]="1"}if(false){}if(r){o[i.NEXT_URL]=r}try{var u;const t=s?s===a.PrefetchKind.TEMPORARY?"high":"low":"auto";if(true){if(true){e=new URL(e);if(e.pathname.endsWith("/")){e.pathname+="index.txt"}else{e.pathname+=".txt"}}}const n=await g(e,o,t,p.signal);const r=f(n.url);const d=n.redirected?r:undefined;const m=n.headers.get("content-type")||"";const b=!!((u=n.headers.get("vary"))==null?void 0:u.includes(i.NEXT_URL));const w=!!n.headers.get(i.NEXT_DID_POSTPONE_HEADER);const E=n.headers.get(i.NEXT_ROUTER_STALE_TIME_HEADER);const _=E!==null?parseInt(E,10)*1e3:-1;let S=m.startsWith(i.RSC_CONTENT_TYPE_HEADER);if(true){if(true){if(!S){S=m.startsWith("text/plain")}}}if(!S||!n.ok||!n.body){if(e.hash){r.hash=e.hash}return h(r.toString())}if(false){}const T=w?v(n.body):n.body;const C=await y(T);if((0,l.getAppBuildId)()!==C.b){return h(n.url)}return{flightData:(0,c.normalizeFlightData)(C.f),canonicalUrl:d,couldBeIntercepted:b,prerendered:C.S,postponed:w,staleTime:_}}catch(t){if(!p.signal.aborted){console.error("Failed to fetch RSC payload for "+e+". Falling back to browser navigation.",t)}return{flightData:e.toString(),canonicalUrl:undefined,couldBeIntercepted:false,prerendered:false,postponed:false,staleTime:-1}}}function g(e,t,n,r){const i=new URL(e);(0,u.setCacheBustingSearchParam)(i,t);if(false){}if(false){}return fetch(i,{credentials:"same-origin",headers:t,priority:n||undefined,signal:r})}function y(e){return d(e,{callServer:s.callServer,findSourceMapURL:o.findSourceMapURL})}function v(e){const t=e.getReader();return new ReadableStream({async pull(e){while(true){const{done:n,value:r}=await t.read();if(!n){e.enqueue(r);continue}return}}})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},59154:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{ACTION_HMR_REFRESH:function(){return c},ACTION_NAVIGATE:function(){return i},ACTION_PREFETCH:function(){return a},ACTION_REFRESH:function(){return r},ACTION_RESTORE:function(){return s},ACTION_SERVER_ACTION:function(){return l},ACTION_SERVER_PATCH:function(){return o},PrefetchCacheEntryStatus:function(){return d},PrefetchKind:function(){return u}});const r="refresh";const i="navigate";const s="restore";const o="server-patch";const a="prefetch";const c="hmr-refresh";const l="server-action";var u=function(e){e["AUTO"]="auto";e["FULL"]="full";e["TEMPORARY"]="temporary";return e}({});var d=function(e){e["fresh"]="fresh";e["reusable"]="reusable";e["expired"]="expired";e["stale"]="stale";return e}({});if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},59521:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"createMetadataComponents",{enumerable:true,get:function(){return v}});const r=n(37413);const i=y(n(61120));const s=n(54838);const o=n(36070);const a=n(11804);const c=n(14114);const l=n(42706);const u=n(80407);const d=n(8704);const f=n(67625);const h=n(12089);const p=n(52637);const m=n(83091);function g(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var n=g(t);if(n&&n.has(e)){return n.get(e)}var r={__proto__:null};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;if(o&&(o.get||o.set)){Object.defineProperty(r,s,o)}else{r[s]=e[s]}}}r.default=e;if(n){n.set(e,r)}return r}function v({tree:e,parsedQuery:t,metadataContext:n,getDynamicParamFromSegment:s,appUsingSizeAdjustment:o,errorType:a,workStore:c,MetadataBoundary:l,ViewportBoundary:u,serveStreamingMetadata:g}){const y=(0,m.createServerSearchParamsForMetadata)(t,c);function v(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{children:(0,r.jsx)(T,{})}),o?(0,r.jsx)("meta",{name:"next-size-adjust",content:""}):null]})}function w(){return(0,r.jsx)(l,{children:(0,r.jsx)(O,{})})}function _(){return S(e,y,s,c,a)}async function T(){try{return await _()}catch(t){if(!a&&(0,d.isHTTPAccessFallbackError)(t)){try{return await C(e,y,s,c)}catch{}}return null}}T.displayName=f.VIEWPORT_BOUNDARY_NAME;function I(){return b(e,y,s,n,c,a)}async function R(){let t;let r=null;try{t=await I();return{metadata:t,error:null,digest:undefined}}catch(i){r=i;if(!a&&(0,d.isHTTPAccessFallbackError)(i)){try{t=await E(e,y,s,n,c);return{metadata:t,error:r,digest:r==null?void 0:r.digest}}catch(e){r=e;if(g&&(0,p.isPostpone)(e)){throw e}}}if(g&&(0,p.isPostpone)(i)){throw i}return{metadata:t,error:r,digest:r==null?void 0:r.digest}}}async function O(){const e=R();if(g){return(0,r.jsx)(i.Suspense,{fallback:null,children:(0,r.jsx)(h.AsyncMetadata,{promise:e})})}const t=await e;return t.metadata}O.displayName=f.METADATA_BOUNDARY_NAME;async function A(){if(!g){await I()}return undefined}async function k(){await _();return undefined}function x(){if(g){return(0,r.jsx)(h.AsyncMetadataOutlet,{promise:R()})}return null}return{ViewportTree:v,MetadataTree:w,getViewportReady:k,getMetadataReady:A,StreamingMetadataOutlet:x}}const b=(0,i.cache)(w);async function w(e,t,n,r,i,s){const o=s==="redirect"?undefined:s;return R(e,t,n,r,i,o)}const E=(0,i.cache)(_);async function _(e,t,n,r,i){const s="not-found";return R(e,t,n,r,i,s)}const S=(0,i.cache)(T);async function T(e,t,n,r,i){const s=i==="redirect"?undefined:i;return O(e,t,n,r,s)}const C=(0,i.cache)(I);async function I(e,t,n,r){const i="not-found";return O(e,t,n,r,i)}async function R(e,t,n,s,o,a){const c=await (0,l.resolveMetadata)(e,t,a,n,o,s);const u=A(c);return(0,r.jsx)(r.Fragment,{children:u.map((e,t)=>{return(0,i.cloneElement)(e,{key:t})})})}async function O(e,t,n,s,o){const a=await (0,l.resolveViewport)(e,t,o,n,s);const c=k(a);return(0,r.jsx)(r.Fragment,{children:c.map((e,t)=>{return(0,i.cloneElement)(e,{key:t})})})}function A(e){return(0,u.MetaFilter)([(0,s.BasicMeta)({metadata:e}),(0,o.AlternatesMetadata)({alternates:e.alternates}),(0,s.ItunesMeta)({itunes:e.itunes}),(0,s.FacebookMeta)({facebook:e.facebook}),(0,s.PinterestMeta)({pinterest:e.pinterest}),(0,s.FormatDetectionMeta)({formatDetection:e.formatDetection}),(0,s.VerificationMeta)({verification:e.verification}),(0,s.AppleWebAppMeta)({appleWebApp:e.appleWebApp}),(0,a.OpenGraphMetadata)({openGraph:e.openGraph}),(0,a.TwitterMetadata)({twitter:e.twitter}),(0,a.AppLinksMeta)({appLinks:e.appLinks}),(0,c.IconsMetadata)({icons:e.icons})])}function k(e){return(0,u.MetaFilter)([(0,s.ViewportMeta)({viewport:e})])}},59880:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{getAppBuildId:function(){return s},setAppBuildId:function(){return i}});let r="";function i(e){r=e}function s(){return r}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},60070:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.InterceptingListenerImpl=t.isInterceptingListener=void 0;function n(e){return e.onReceiveMetadata!==undefined&&e.onReceiveMetadata.length===1}t.isInterceptingListener=n;class r{constructor(e,t){this.listener=e;this.nextListener=t;this.processingMetadata=false;this.hasPendingMessage=false;this.processingMessage=false;this.pendingStatus=null}processPendingMessage(){if(this.hasPendingMessage){this.nextListener.onReceiveMessage(this.pendingMessage);this.pendingMessage=null;this.hasPendingMessage=false}}processPendingStatus(){if(this.pendingStatus){this.nextListener.onReceiveStatus(this.pendingStatus)}}onReceiveMetadata(e){this.processingMetadata=true;this.listener.onReceiveMetadata(e,e=>{this.processingMetadata=false;this.nextListener.onReceiveMetadata(e);this.processPendingMessage();this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=true;this.listener.onReceiveMessage(e,e=>{this.processingMessage=false;if(this.processingMetadata){this.pendingMessage=e;this.hasPendingMessage=true}else{this.nextListener.onReceiveMessage(e);this.processPendingStatus()}})}onReceiveStatus(e){this.listener.onReceiveStatus(e,e=>{if(this.processingMetadata||this.processingMessage){this.pendingStatus=e}else{this.nextListener.onReceiveStatus(e)}})}}t.InterceptingListenerImpl=r},60158:e=>{"use strict";e.exports=d;var t=/[\s{}=;:[\],'"()<>]/g,n=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,r=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g;var i=/^ *[*/]+ */,s=/^\s*\*?\/*/,o=/\n/g,a=/\s/,c=/\\(.?)/g;var l={"0":"\0","r":"\r","n":"\n","t":"	"};function u(e){return e.replace(c,function(e,t){switch(t){case"\\":case"":return t;default:return l[t]||""}})}d.unescape=u;function d(e,c){e=e.toString();var l=0,d=e.length,f=1,h=0,p={};var m=[];var g=null;function y(e){return Error("illegal "+e+" (line "+f+")")}function v(){var t=g==="'"?r:n;t.lastIndex=l-1;var i=t.exec(e);if(!i)throw y("string");l=t.lastIndex;T(g);g=null;return u(i[1])}function b(t){return e.charAt(t)}function w(t,n,r){var a={type:e.charAt(t++),lineEmpty:false,leading:r};var l;if(c){l=2}else{l=3}var u=t-l,d;do{if(--u<0||(d=e.charAt(u))==="\n"){a.lineEmpty=true;break}}while(d===" "||d==="	");var m=e.substring(t,n).split(o);for(var g=0;g<m.length;++g)m[g]=m[g].replace(c?s:i,"").trim();a.text=m.join("\n").trim();p[f]=a;h=f}function E(t){var n=_(t);var r=e.substring(t,n);var i=/^\s*\/\//.test(r);return i}function _(e){var t=e;while(t<d&&b(t)!=="\n"){t++}return t}function S(){if(m.length>0)return m.shift();if(g)return v();var n,r,i,s,o,u=l===0;do{if(l===d)return null;n=false;while(a.test(i=b(l))){if(i==="\n"){u=true;++f}if(++l===d)return null}if(b(l)==="/"){if(++l===d){throw y("comment")}if(b(l)==="/"){if(!c){o=b(s=l+1)==="/";while(b(++l)!=="\n"){if(l===d){return null}}++l;if(o){w(s,l-1,u);u=true}++f;n=true}else{s=l;o=false;if(E(l-1)){o=true;do{l=_(l);if(l===d){break}l++;if(!u){break}}while(E(l))}else{l=Math.min(d,_(l)+1)}if(o){w(s,l,u);u=true}f++;n=true}}else if((i=b(l))==="*"){s=l+1;o=c||b(s)==="*";do{if(i==="\n"){++f}if(++l===d){throw y("comment")}r=i;i=b(l)}while(r!=="*"||i!=="/");++l;if(o){w(s,l-2,u);u=true}n=true}else{return"/"}}}while(n);var h=l;t.lastIndex=0;var p=t.test(b(h++));if(!p)while(h<d&&!t.test(b(h)))++h;var S=e.substring(l,l=h);if(S==='"'||S==="'")g=S;return S}function T(e){m.push(e)}function C(){if(!m.length){var e=S();if(e===null)return null;T(e)}return m[0]}function I(e,t){var n=C(),r=n===e;if(r){S();return true}if(!t)throw y("token '"+n+"', '"+e+"' expected");return false}function R(e){var t=null;var n;if(e===undefined){n=p[f-1];delete p[f-1];if(n&&(c||n.type==="*"||n.lineEmpty)){t=n.leading?n.text:null}}else{if(h<e){C()}n=p[e];delete p[e];if(n&&!n.lineEmpty&&(c||n.type==="/")){t=n.leading?null:n.text}}return t}return Object.defineProperty({next:S,peek:C,push:T,skip:I,cmnt:R},"line",{get:function(){return f}})}},60687:(e,t,n)=>{"use strict";e.exports=n(94041).vendored["react-ssr"].ReactJsxRuntime},60776:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getErrorCode=t.getErrorMessage=void 0;function n(e){if(e instanceof Error){return e.message}else{return String(e)}}t.getErrorMessage=n;function r(e){if(typeof e==="object"&&e!==null&&"code"in e&&typeof e.code==="number"){return e.code}else{return null}}t.getErrorCode=r},60824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{createParamsFromClient:function(){return f},createPrerenderParamsForClientSegment:function(){return g},createServerParamsForMetadata:function(){return h},createServerParamsForRoute:function(){return p},createServerParamsForServerSegment:function(){return m}});const i=n(83717);const s=n(54717);const o=n(63033);const a=n(75539);const c=n(84627);const l=n(18238);const u=n(14768);const d=n(52825);function f(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(e,t,n);default:}}return v(e,t)}const h=m;function p(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(e,t,n);default:}}return v(e,t)}function m(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(e,t,n);default:}}return v(e,t)}function g(e,t){const n=o.workUnitAsyncStorage.getStore();if(n&&n.type==="prerender"){const r=t.fallbackRouteParams;if(r){for(let t in e){if(r.has(t)){return(0,l.makeHangingPromise)(n.renderSignal,"`params`")}}}}return Promise.resolve(e)}function y(e,t,n){const r=t.fallbackRouteParams;if(r){let i=false;for(const t in e){if(r.has(t)){i=true;break}}if(i){if(n.type==="prerender"){return w(e,t.route,n)}return E(e,r,t,n)}}return _(e)}function v(e,t){if(false){}else{return _(e)}}const b=new WeakMap;function w(e,t,n){const r=b.get(e);if(r){return r}const i=(0,l.makeHangingPromise)(n.renderSignal,"`params`");b.set(e,i);Object.keys(e).forEach(e=>{if(c.wellKnownProperties.has(e)){}else{Object.defineProperty(i,e,{get(){const r=(0,c.describeStringPropertyAccess)("params",e);const i=R(t,r);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(t,r,i,n)},set(t){Object.defineProperty(i,e,{value:t,writable:true,enumerable:true})},enumerable:true,configurable:true})}});return i}function E(e,t,n,r){const i=b.get(e);if(i){return i}const o={...e};const a=Promise.resolve(o);b.set(e,a);Object.keys(e).forEach(i=>{if(c.wellKnownProperties.has(i)){}else{if(t.has(i)){Object.defineProperty(o,i,{get(){const e=(0,c.describeStringPropertyAccess)("params",i);if(r.type==="prerender-ppr"){(0,s.postponeWithTracking)(n.route,e,r.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(e,n,r)}},enumerable:true});Object.defineProperty(a,i,{get(){const e=(0,c.describeStringPropertyAccess)("params",i);if(r.type==="prerender-ppr"){(0,s.postponeWithTracking)(n.route,e,r.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(e,n,r)}},set(e){Object.defineProperty(a,i,{value:e,writable:true,enumerable:true})},enumerable:true,configurable:true})}else{;a[i]=e[i]}}});return a}function _(e){const t=b.get(e);if(t){return t}const n=Promise.resolve(e);b.set(e,n);Object.keys(e).forEach(t=>{if(c.wellKnownProperties.has(t)){}else{;n[t]=e[t]}});return n}function S(e,t){const n=b.get(e);if(n){return n}const r=new Promise(t=>(0,d.scheduleImmediate)(()=>t(e)));const s=new Set;const o=[];Object.keys(e).forEach(t=>{if(c.wellKnownProperties.has(t)){o.push(t)}else{s.add(t);r[t]=e[t]}});const a=new Proxy(r,{get(e,n,r){if(typeof n==="string"){if(s.has(n)){const e=(0,c.describeStringPropertyAccess)("params",n);T(t.route,e)}}return i.ReflectAdapter.get(e,n,r)},set(e,t,n,r){if(typeof t==="string"){s.delete(t)}return i.ReflectAdapter.set(e,t,n,r)},ownKeys(e){const n="`...params` or similar expression";T(t.route,n,o);return Reflect.ownKeys(e)}});b.set(e,a);return a}function T(e,t,n){const r=o.workUnitAsyncStorage.getStore();if(r&&r.type==="request"&&r.prerenderPhase===true){const e=r;(0,s.trackSynchronousRequestDataAccessInDev)(e)}if(n&&n.length>0){I(e,t,n)}else{C(e,t)}}const C=(0,u.createDedupedByCallsiteServerErrorLoggerDev)(R);const I=(0,u.createDedupedByCallsiteServerErrorLoggerDev)(O);function R(e,t){const n=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${n}used ${t}. `+`\`params\` should be awaited before using its properties. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E307",enumerable:false,configurable:true})}function O(e,t,n){const r=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${r}used ${t}. `+`\`params\` should be awaited before using its properties. `+`The following properties were not available through enumeration `+`because they conflict with builtin property names: `+`${A(n)}. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E482",enumerable:false,configurable:true})}function A(e){switch(e.length){case 0:throw Object.defineProperty(new a.InvariantError("Expected describeListOfPropertyNames to be called with a non-empty list of strings."),"__NEXT_ERROR_CODE",{value:"E531",enumerable:false,configurable:true});case 1:return`\`${e[0]}\``;case 2:return`\`${e[0]}\` and \`${e[1]}\``;default:{let t="";for(let n=0;n<e.length-1;n++){t+=`\`${e[n]}\`, `}t+=`, and \`${e[e.length-1]}\``;return t}}}},61068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"Postpone",{enumerable:true,get:function(){return r.Postpone}});const r=n(84971)},61480:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.loadPackageDefinition=t.makeClientConstructor=void 0;const r=n(7775);const i={unary:r.Client.prototype.makeUnaryRequest,server_stream:r.Client.prototype.makeServerStreamRequest,client_stream:r.Client.prototype.makeClientStreamRequest,bidi:r.Client.prototype.makeBidiStreamRequest};function s(e){return["__proto__","prototype","constructor"].includes(e)}function o(e,t,n){if(!n){n={}}class o extends r.Client{}Object.keys(e).forEach(t=>{if(s(t)){return}const n=e[t];let r;if(typeof t==="string"&&t.charAt(0)==="$"){throw new Error("Method names cannot start with $")}if(n.requestStream){if(n.responseStream){r="bidi"}else{r="client_stream"}}else{if(n.responseStream){r="server_stream"}else{r="unary"}}const c=n.requestSerialize;const l=n.responseDeserialize;const u=a(i[r],n.path,c,l);o.prototype[t]=u;Object.assign(o.prototype[t],n);if(n.originalName&&!s(n.originalName)){o.prototype[n.originalName]=o.prototype[t]}});o.service=e;o.serviceName=t;return o}t.makeClientConstructor=o;function a(e,t,n,r){return function(...i){return e.call(this,t,n,r,...i)}}function c(e){return"format"in e}function l(e){const t={};for(const n in e){if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];const i=n.split(".");if(i.some(e=>s(e))){continue}const a=i[i.length-1];let l=t;for(const e of i.slice(0,-1)){if(!l[e]){l[e]={}}l=l[e]}if(c(r)){l[a]=r}else{l[a]=o(r,a,{})}}}return t}t.loadPackageDefinition=l},61614:(e,t,n)=>{"use strict";var r=n(68474);e.exports=t=r.descriptor=r.Root.fromJSON(n(20040)).lookup(".google.protobuf");var i=r.Namespace,s=r.Root,o=r.Enum,a=r.Type,c=r.Field,l=r.MapField,u=r.OneOf,d=r.Service,f=r.Method;s.fromDescriptor=function e(e){if(typeof e.length==="number")e=t.FileDescriptorSet.decode(e);var n=new s;if(e.file){var r,i;for(var l=0,u;l<e.file.length;++l){i=n;if((r=e.file[l])["package"]&&r["package"].length)i=n.define(r["package"]);var f=A(r);if(r.name&&r.name.length)n.files.push(i.filename=r.name);if(r.messageType)for(u=0;u<r.messageType.length;++u)i.add(a.fromDescriptor(r.messageType[u],f));if(r.enumType)for(u=0;u<r.enumType.length;++u)i.add(o.fromDescriptor(r.enumType[u],f));if(r.extension)for(u=0;u<r.extension.length;++u)i.add(c.fromDescriptor(r.extension[u],f));if(r.service)for(u=0;u<r.service.length;++u)i.add(d.fromDescriptor(r.service[u],f));var h=T(r.options,t.FileOptions);if(h){var p=Object.keys(h);for(u=0;u<p.length;++u)i.setOption(p[u],h[p[u]])}}}return n.resolveAll()};s.prototype.toDescriptor=function e(e){var n=t.FileDescriptorSet.create();h(this,n.file,e);return n};function h(e,n,r){var l=t.FileDescriptorProto.create({name:e.filename||(e.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});k(r,l);if(!(e instanceof s))l["package"]=e.fullName.substring(1);for(var u=0,f;u<e.nestedArray.length;++u)if((f=e._nestedArray[u])instanceof a)l.messageType.push(f.toDescriptor(r));else if(f instanceof o)l.enumType.push(f.toDescriptor());else if(f instanceof c)l.extension.push(f.toDescriptor(r));else if(f instanceof d)l.service.push(f.toDescriptor());else if(f instanceof i)h(f,n,r);l.options=I(e.options,t.FileOptions);if(l.messageType.length+l.enumType.length+l.extension.length+l.service.length)n.push(l)}var p=0;a.fromDescriptor=function e(e,n,r){if(typeof e.length==="number")e=t.DescriptorProto.decode(e);var i=new a(e.name.length?e.name:"Type"+p++,T(e.options,t.MessageOptions)),s;if(!r)i._edition=n;if(e.oneofDecl)for(s=0;s<e.oneofDecl.length;++s)i.add(u.fromDescriptor(e.oneofDecl[s]));if(e.field)for(s=0;s<e.field.length;++s){var l=c.fromDescriptor(e.field[s],n,true);i.add(l);if(e.field[s].hasOwnProperty("oneofIndex"))i.oneofsArray[e.field[s].oneofIndex].add(l)}if(e.extension)for(s=0;s<e.extension.length;++s)i.add(c.fromDescriptor(e.extension[s],n,true));if(e.nestedType)for(s=0;s<e.nestedType.length;++s){i.add(a.fromDescriptor(e.nestedType[s],n,true));if(e.nestedType[s].options&&e.nestedType[s].options.mapEntry)i.setOption("map_entry",true)}if(e.enumType)for(s=0;s<e.enumType.length;++s)i.add(o.fromDescriptor(e.enumType[s],n,true));if(e.extensionRange&&e.extensionRange.length){i.extensions=[];for(s=0;s<e.extensionRange.length;++s)i.extensions.push([e.extensionRange[s].start,e.extensionRange[s].end])}if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){i.reserved=[];if(e.reservedRange)for(s=0;s<e.reservedRange.length;++s)i.reserved.push([e.reservedRange[s].start,e.reservedRange[s].end]);if(e.reservedName)for(s=0;s<e.reservedName.length;++s)i.reserved.push(e.reservedName[s])}return i};a.prototype.toDescriptor=function e(e){var n=t.DescriptorProto.create({name:this.name}),r;for(r=0;r<this.fieldsArray.length;++r){var i;n.field.push(i=this._fieldsArray[r].toDescriptor(e));if(this._fieldsArray[r]instanceof l){var s=_(this._fieldsArray[r].keyType,this._fieldsArray[r].resolvedKeyType,false),u=_(this._fieldsArray[r].type,this._fieldsArray[r].resolvedType,false),d=u===11||u===14?this._fieldsArray[r].resolvedType&&R(this.parent,this._fieldsArray[r].resolvedType)||this._fieldsArray[r].type:undefined;n.nestedType.push(t.DescriptorProto.create({name:i.typeName,field:[t.FieldDescriptorProto.create({name:"key",number:1,label:1,type:s}),t.FieldDescriptorProto.create({name:"value",number:2,label:1,type:u,typeName:d})],options:t.MessageOptions.create({mapEntry:true})}))}}for(r=0;r<this.oneofsArray.length;++r)n.oneofDecl.push(this._oneofsArray[r].toDescriptor());for(r=0;r<this.nestedArray.length;++r){if(this._nestedArray[r]instanceof c)n.field.push(this._nestedArray[r].toDescriptor(e));else if(this._nestedArray[r]instanceof a)n.nestedType.push(this._nestedArray[r].toDescriptor(e));else if(this._nestedArray[r]instanceof o)n.enumType.push(this._nestedArray[r].toDescriptor())}if(this.extensions)for(r=0;r<this.extensions.length;++r)n.extensionRange.push(t.DescriptorProto.ExtensionRange.create({start:this.extensions[r][0],end:this.extensions[r][1]}));if(this.reserved)for(r=0;r<this.reserved.length;++r)if(typeof this.reserved[r]==="string")n.reservedName.push(this.reserved[r]);else n.reservedRange.push(t.DescriptorProto.ReservedRange.create({start:this.reserved[r][0],end:this.reserved[r][1]}));n.options=I(this.options,t.MessageOptions);return n};var m=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;c.fromDescriptor=function e(e,n,r){if(typeof e.length==="number")e=t.DescriptorProto.decode(e);if(typeof e.number!=="number")throw Error("missing field id");var i;if(e.typeName&&e.typeName.length)i=e.typeName;else i=w(e.type);var s;switch(e.label){case 1:s=undefined;break;case 2:s="required";break;case 3:s="repeated";break;default:throw Error("illegal label: "+e.label)}var o=e.extendee;if(e.extendee!==undefined){o=o.length?o:undefined}var a=new c(e.name.length?e.name:"field"+e.number,e.number,i,s,o);if(!r)a._edition=n;a.options=T(e.options,t.FieldOptions);if(e.proto3_optional)a.options.proto3_optional=true;if(e.defaultValue&&e.defaultValue.length){var l=e.defaultValue;switch(l){case"true":case"TRUE":l=true;break;case"false":case"FALSE":l=false;break;default:var u=m.exec(l);if(u)l=parseInt(l);break}a.setOption("default",l)}if(E(e.type)){if(n==="proto3"){if(e.options&&!e.options.packed)a.setOption("packed",false)}else if((!n||n==="proto2")&&e.options&&e.options.packed)a.setOption("packed",true)}return a};c.prototype.toDescriptor=function e(e){var n=t.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map){n.type=11;n.typeName=r.util.ucFirst(this.name);n.label=3}else{switch(n.type=_(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:n.typeName=this.resolvedType?R(this.parent,this.resolvedType):this.type;break}if(this.rule==="repeated"){n.label=3}else if(this.required&&e==="proto2"){n.label=2}else{n.label=1}}n.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend;if(this.partOf){if((n.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof")}if(this.options){n.options=I(this.options,t.FieldOptions);if(this.options["default"]!=null)n.defaultValue=String(this.options["default"]);if(this.options.proto3_optional)n.proto3_optional=true}if(e==="proto3"){if(!this.packed)(n.options||(n.options=t.FieldOptions.create())).packed=false}else if((!e||e==="proto2")&&this.packed)(n.options||(n.options=t.FieldOptions.create())).packed=true;return n};var g=0;o.fromDescriptor=function e(e,n,r){if(typeof e.length==="number")e=t.EnumDescriptorProto.decode(e);var i={};if(e.value)for(var s=0;s<e.value.length;++s){var a=e.value[s].name,c=e.value[s].number||0;i[a&&a.length?a:"NAME"+c]=c}var l=new o(e.name&&e.name.length?e.name:"Enum"+g++,i,T(e.options,t.EnumOptions));if(!r)l._edition=n;return l};o.prototype.toDescriptor=function e(){var e=[];for(var n=0,r=Object.keys(this.values);n<r.length;++n)e.push(t.EnumValueDescriptorProto.create({name:r[n],number:this.values[r[n]]}));return t.EnumDescriptorProto.create({name:this.name,value:e,options:I(this.options,t.EnumOptions)})};var y=0;u.fromDescriptor=function e(e){if(typeof e.length==="number")e=t.OneofDescriptorProto.decode(e);return new u(e.name&&e.name.length?e.name:"oneof"+y++)};u.prototype.toDescriptor=function e(){return t.OneofDescriptorProto.create({name:this.name})};var v=0;d.fromDescriptor=function e(e,n,r){if(typeof e.length==="number")e=t.ServiceDescriptorProto.decode(e);var i=new d(e.name&&e.name.length?e.name:"Service"+v++,T(e.options,t.ServiceOptions));if(!r)i._edition=n;if(e.method)for(var s=0;s<e.method.length;++s)i.add(f.fromDescriptor(e.method[s]));return i};d.prototype.toDescriptor=function e(){var e=[];for(var n=0;n<this.methodsArray.length;++n)e.push(this._methodsArray[n].toDescriptor());return t.ServiceDescriptorProto.create({name:this.name,method:e,options:I(this.options,t.ServiceOptions)})};var b=0;f.fromDescriptor=function e(e){if(typeof e.length==="number")e=t.MethodDescriptorProto.decode(e);return new f(e.name&&e.name.length?e.name:"Method"+b++,"rpc",e.inputType,e.outputType,Boolean(e.clientStreaming),Boolean(e.serverStreaming),T(e.options,t.MethodOptions))};f.prototype.toDescriptor=function e(){return t.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:I(this.options,t.MethodOptions)})};function w(e){switch(e){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+e)}function E(e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return true}return false}function _(e,t,n){switch(e){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(t instanceof o)return 14;if(t instanceof a)return n?10:11;throw Error("illegal type: "+e)}function S(e,t){var n={};for(var r=0,i,s;r<t.fieldsArray.length;++r){if((s=(i=t._fieldsArray[r]).name)==="uninterpretedOption")continue;if(!Object.prototype.hasOwnProperty.call(e,s))continue;var c=O(s);if(i.resolvedType instanceof a){n[c]=S(e[s],i.resolvedType)}else if(i.resolvedType instanceof o){n[c]=i.resolvedType.valuesById[e[s]]}else{n[c]=e[s]}}return n}function T(e,t){if(!e)return undefined;return S(t.toObject(e),t)}function C(e,t){var n={};var i=Object.keys(e);for(var s=0;s<i.length;++s){var o=i[s];var c=r.util.camelCase(o);if(!Object.prototype.hasOwnProperty.call(t.fields,c))continue;var l=t.fields[c];if(l.resolvedType instanceof a){n[c]=C(e[o],l.resolvedType)}else{n[c]=e[o]}if(l.repeated&&!Array.isArray(n[c])){n[c]=[n[c]]}}return n}function I(e,t){if(!e)return undefined;return t.fromObject(C(e,t))}function R(e,t){var n=e.fullName.split("."),r=t.fullName.split("."),o=0,a=0,c=r.length-1;if(!(e instanceof s)&&t instanceof i)while(o<n.length&&a<c&&n[o]===r[a]){var l=t.lookup(n[o++],true);if(l!==null&&l!==t)break;++a}else for(;o<n.length&&a<c&&n[o]===r[a];++o,++a);return r.slice(a).join(".")}function O(e){return e.substring(0,1)+e.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}function A(e){if(e.syntax==="editions"){switch(e.edition){case t.Edition.EDITION_2023:return"2023";default:throw new Error("Unsupported edition "+e.edition)}}if(e.syntax==="proto3"){return"proto3"}return"proto2"}function k(e,n){if(!e)return;if(e==="proto2"||e==="proto3"){n.syntax=e}else{n.syntax="editions";switch(e){case"2023":n.edition=t.Edition.EDITION_2023;break;default:throw new Error("Unsupported edition "+e)}}}},61810:(e,t,n)=>{"use strict";var r=t;var i=n(93107);var s=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(e,t){var n=0,r={};t|=0;while(n<e.length)r[s[n+t]]=e[n++];return r}r.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);r.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,false,"",i.emptyArray,null]);r.long=o([0,0,0,1,1],7);r.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2);r.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},61996:(e,t)=>{"use strict";var n=t;n.length=function e(e){var t=0,n=0;for(var r=0;r<e.length;++r){n=e.charCodeAt(r);if(n<128)t+=1;else if(n<2048)t+=2;else if((n&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){++r;t+=4}else t+=3}return t};n.read=function e(e,t,n){var r=n-t;if(r<1)return"";var i=null,s=[],o=0,a;while(t<n){a=e[t++];if(a<128)s[o++]=a;else if(a>191&&a<224)s[o++]=(a&31)<<6|e[t++]&63;else if(a>239&&a<365){a=((a&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536;s[o++]=55296+(a>>10);s[o++]=56320+(a&1023)}else s[o++]=(a&15)<<12|(e[t++]&63)<<6|e[t++]&63;if(o>8191){(i||(i=[])).push(String.fromCharCode.apply(String,s));o=0}}if(i){if(o)i.push(String.fromCharCode.apply(String,s.slice(0,o)));return i.join("")}return String.fromCharCode.apply(String,s.slice(0,o))};n.write=function e(e,t,n){var r=n,i,s;for(var o=0;o<e.length;++o){i=e.charCodeAt(o);if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if((i&64512)===55296&&((s=e.charCodeAt(o+1))&64512)===56320){i=65536+((i&1023)<<10)+(s&1023);++o;t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return n-r}},62713:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{createFlightReactServerErrorHandler:function(){return m},createHTMLErrorHandler:function(){return y},createHTMLReactServerErrorHandler:function(){return g},getDigestForWellKnownError:function(){return p},isUserLandError:function(){return v}});const i=h(n(67839));const s=n(7308);const o=n(81289);const a=n(42471);const c=n(51846);const l=n(98479);const u=n(31162);const d=n(35715);const f=n(56526);function h(e){return e&&e.__esModule?e:{default:e}}function p(e){if((0,c.isBailoutToCSRError)(e))return e.digest;if((0,u.isNextRouterError)(e))return e.digest;if((0,l.isDynamicServerError)(e))return e.digest;return undefined}function m(e,t){return n=>{if(typeof n==="string"){return(0,i.default)(n).toString()}if((0,a.isAbortError)(n))return;const r=p(n);if(r){return r}const c=(0,d.getProperError)(n);if(!c.digest){c.digest=(0,i.default)(c.message+c.stack||"").toString()}if(e){(0,s.formatServerError)(c)}const l=(0,o.getTracer)().getActiveScopeSpan();if(l){l.recordException(c);l.setStatus({code:o.SpanStatusCode.ERROR,message:c.message})}t(c);return(0,f.createDigestWithErrorCode)(n,c.digest)}}function g(e,t,n,r,c){return l=>{var u;if(typeof l==="string"){return(0,i.default)(l).toString()}if((0,a.isAbortError)(l))return;const h=p(l);if(h){return h}const m=(0,d.getProperError)(l);if(!m.digest){m.digest=(0,i.default)(m.message+(m.stack||"")).toString()}if(!n.has(m.digest)){n.set(m.digest,m)}if(e){(0,s.formatServerError)(m)}if(!(t&&(m==null?void 0:(u=m.message)==null?void 0:u.includes("The specific message is omitted in production builds to avoid leaking sensitive details.")))){const e=(0,o.getTracer)().getActiveScopeSpan();if(e){e.recordException(m);e.setStatus({code:o.SpanStatusCode.ERROR,message:m.message})}if(!r){c==null?void 0:c(m)}}return(0,f.createDigestWithErrorCode)(l,m.digest)}}function y(e,t,n,r,c,l){return(u,h)=>{var m;let g=true;r.push(u);if((0,a.isAbortError)(u))return;const y=p(u);if(y){return y}const v=(0,d.getProperError)(u);if(v.digest){if(n.has(v.digest)){u=n.get(v.digest);g=false}else{}}else{v.digest=(0,i.default)(v.message+((h==null?void 0:h.componentStack)||v.stack||"")).toString()}if(e){(0,s.formatServerError)(v)}if(!(t&&(v==null?void 0:(m=v.message)==null?void 0:m.includes("The specific message is omitted in production builds to avoid leaking sensitive details.")))){const e=(0,o.getTracer)().getActiveScopeSpan();if(e){e.recordException(v);e.setStatus({code:o.SpanStatusCode.ERROR,message:v.message})}if(!c&&g){l(v,h)}}return(0,f.createDigestWithErrorCode)(u,v.digest)}}function v(e){return!(0,a.isAbortError)(e)&&!(0,c.isBailoutToCSRError)(e)&&!(0,u.isNextRouterError)(e)}},62763:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{MetadataBoundary:function(){return o},OutletBoundary:function(){return c},ViewportBoundary:function(){return a}});const i=n(24207);const s={[i.METADATA_BOUNDARY_NAME]:function(e){let{children:t}=e;return t},[i.VIEWPORT_BOUNDARY_NAME]:function(e){let{children:t}=e;return t},[i.OUTLET_BOUNDARY_NAME]:function(e){let{children:t}=e;return t}};const o=s[i.METADATA_BOUNDARY_NAME.slice(0)];const a=s[i.VIEWPORT_BOUNDARY_NAME.slice(0)];const c=s[i.OUTLET_BOUNDARY_NAME.slice(0)];if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},62823:(e,t,n)=>{"use strict";e.exports=a;var r=n(32110),i=n(61810),s=n(93107);function o(e){return"missing required '"+e.name+"'"}function a(e){var t=s.codegen(["r","l","e"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){");var n=0;for(;n<e.fieldsArray.length;++n){var a=e._fieldsArray[n].resolve(),c=a.resolvedType instanceof r?"int32":a.type,l="m"+s.safeProp(a.name);t("case %i: {",a.id);if(a.map){t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos");if(i.defaults[a.keyType]!==undefined)t("k=%j",i.defaults[a.keyType]);else t("k=null");if(i.defaults[c]!==undefined)t("value=%j",i.defaults[c]);else t("value=null");t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:");if(i.basic[c]===undefined)t("value=types[%i].decode(r,r.uint32())",n);else t("value=r.%s()",c);t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}");if(i.long[a.keyType]!==undefined)t('%s[typeof k==="object"?util.longToHash(k):k]=value',l);else t("%s[k]=value",l)}else if(a.repeated){t("if(!(%s&&%s.length))",l,l)("%s=[]",l);if(i.packed[c]!==undefined)t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,c)("}else");if(i.basic[c]===undefined)t(a.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",l,n);else t("%s.push(r.%s())",l,c)}else if(i.basic[c]===undefined)t(a.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",l,n);else t("%s=r.%s()",l,c);t("break")("}")}t("default:")("r.skipType(t&7)")("break")("}")("}");for(n=0;n<e._fieldsArray.length;++n){var u=e._fieldsArray[n];if(u.required)t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",o(u))}return t("return m")}},63695:(e,t,n)=>{"use strict";var r=t;var i=n(8920);r[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1);var n=this.lookup(t);if(n){var r=e["@type"].charAt(0)==="."?e["@type"].slice(1):e["@type"];if(r.indexOf("/")===-1){r="/"+r}return this.create({type_url:r,value:n.encode(n.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var n="type.googleapis.com/";var r="";var s="";if(t&&t.json&&e.type_url&&e.value){s=e.type_url.substring(e.type_url.lastIndexOf("/")+1);r=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var o=this.lookup(s);if(o)e=o.decode(e.value)}if(!(e instanceof this.ctor)&&e instanceof i){var a=e.$type.toObject(e,t);var c=e.$type.fullName[0]==="."?e.$type.fullName.slice(1):e.$type.fullName;if(r===""){r=n}s=r+c;a["@type"]=s;return a}return this.toObject(e,t)}}},64824:(e,t,n)=>{"use strict";e.exports=l;l.className="ReflectionObject";const r=n(12630);var i=n(93107);var s;var o={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};var a={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"};var c={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function l(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t;this.parsedOptions=null;this.name=e;this._edition=null;this._defaultEdition="proto2";this._features={};this._featuresResolved=false;this.parent=null;this.resolved=false;this.comment=null;this.filename=null}Object.defineProperties(l.prototype,{root:{get:function(){var e=this;while(e.parent!==null)e=e.parent;return e}},fullName:{get:function(){var e=[this.name],t=this.parent;while(t){e.unshift(t.name);t=t.parent}return e.join(".")}}});l.prototype.toJSON=function e(){throw Error()};l.prototype.onAdd=function e(e){if(this.parent&&this.parent!==e)this.parent.remove(this);this.parent=e;this.resolved=false;var t=e.root;if(t instanceof s)t._handleAdd(this)};l.prototype.onRemove=function e(e){var t=e.root;if(t instanceof s)t._handleRemove(this);this.parent=null;this.resolved=false};l.prototype.resolve=function e(){if(this.resolved)return this;if(this.root instanceof s)this.resolved=true;return this};l.prototype._resolveFeaturesRecursive=function e(e){return this._resolveFeatures(this._edition||e)};l.prototype._resolveFeatures=function e(e){if(this._featuresResolved){return}var t={};if(!e){throw new Error("Unknown edition for "+this.fullName)}var n=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(e));if(this._edition){if(e==="proto2"){t=Object.assign({},a)}else if(e==="proto3"){t=Object.assign({},c)}else if(e==="2023"){t=Object.assign({},o)}else{throw new Error("Unknown edition: "+e)}this._features=Object.assign(t,n||{});this._featuresResolved=true;return}if(this.partOf instanceof r){var i=Object.assign({},this.partOf._features);this._features=Object.assign(i,n||{})}else if(this.declaringField){}else if(this.parent){var s=Object.assign({},this.parent._features);this._features=Object.assign(s,n||{})}else{throw new Error("Unable to find a parent for "+this.fullName)}if(this.extensionField){this.extensionField._features=this._features}this._featuresResolved=true};l.prototype._inferLegacyProtoFeatures=function e(){return{}};l.prototype.getOption=function e(e){if(this.options)return this.options[e];return undefined};l.prototype.setOption=function e(e,t,n){if(!this.options)this.options={};if(/^features\./.test(e)){i.setProperty(this.options,e,t,n)}else if(!n||this.options[e]===undefined){if(this.getOption(e)!==t)this.resolved=false;this.options[e]=t}return this};l.prototype.setParsedOption=function e(e,t,n){if(!this.parsedOptions){this.parsedOptions=[]}var r=this.parsedOptions;if(n){var s=r.find(function(t){return Object.prototype.hasOwnProperty.call(t,e)});if(s){var o=s[e];i.setProperty(o,n,t)}else{s={};s[e]=i.setProperty({},n,t);r.push(s)}}else{var a={};a[e]=t;r.push(a)}return this};l.prototype.setOptions=function e(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this};l.prototype.toString=function e(){var e=this.constructor.className,t=this.fullName;if(t.length)return e+" "+t;return e};l.prototype._editionToJSON=function e(){if(!this._edition||this._edition==="proto3"){return undefined}return this._edition};l._configure=function(e){s=e}},65284:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function(){return s}});const r=n(37413);const i=n(1765);function s(){return(0,r.jsx)(i.HTTPAccessErrorFallback,{status:401,message:"You're not authorized to access this page."})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},65551:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var r=n(43210);var i=n(13495);function s({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,a]=o({defaultProp:t,onChange:n});const c=e!==void 0;const l=c?e:s;const u=(0,i.c)(n);const d=r.useCallback(t=>{if(c){const n=t;const r=typeof t==="function"?n(e):t;if(r!==e)u(r)}else{a(t)}},[c,e,a,u]);return[l,d]}function o({defaultProp:e,onChange:t}){const n=r.useState(e);const[s]=n;const o=r.useRef(s);const a=(0,i.c)(t);r.useEffect(()=>{if(o.current!==s){a(s);o.current=s}},[s,o,a]);return n}},65773:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{ReadonlyURLSearchParams:function(){return l.ReadonlyURLSearchParams},RedirectType:function(){return l.RedirectType},ServerInsertedHTMLContext:function(){return u.ServerInsertedHTMLContext},forbidden:function(){return l.forbidden},notFound:function(){return l.notFound},permanentRedirect:function(){return l.permanentRedirect},redirect:function(){return l.redirect},unauthorized:function(){return l.unauthorized},unstable_rethrow:function(){return l.unstable_rethrow},useParams:function(){return m},usePathname:function(){return h},useRouter:function(){return p},useSearchParams:function(){return f},useSelectedLayoutSegment:function(){return v},useSelectedLayoutSegments:function(){return y},useServerInsertedHTML:function(){return u.useServerInsertedHTML}});const i=n(43210);const s=n(22142);const o=n(10449);const a=n(17388);const c=n(83913);const l=n(80178);const u=n(39695);const d=true?n(54717).useDynamicRouteParams:0;function f(){const e=(0,i.useContext)(o.SearchParamsContext);const t=(0,i.useMemo)(()=>{if(!e){return null}return new l.ReadonlyURLSearchParams(e)},[e]);if(true){const{bailoutToClientRendering:e}=n(9608);e("useSearchParams()")}return t}function h(){d==null?void 0:d("usePathname()");return(0,i.useContext)(o.PathnameContext)}function p(){const e=(0,i.useContext)(s.AppRouterContext);if(e===null){throw Object.defineProperty(new Error("invariant expected app router to be mounted"),"__NEXT_ERROR_CODE",{value:"E238",enumerable:false,configurable:true})}return e}function m(){d==null?void 0:d("useParams()");return(0,i.useContext)(o.PathParamsContext)}function g(e,t,n,r){if(n===void 0)n=true;if(r===void 0)r=[];let i;if(n){i=e[1][t]}else{const t=e[1];var s;i=(s=t.children)!=null?s:Object.values(t)[0]}if(!i)return r;const o=i[0];let l=(0,a.getSegmentValue)(o);if(!l||l.startsWith(c.PAGE_SEGMENT_KEY)){return r}r.push(l);return g(i,t,false,r)}function y(e){if(e===void 0)e="children";d==null?void 0:d("useSelectedLayoutSegments()");const t=(0,i.useContext)(s.LayoutRouterContext);if(!t)return null;return g(t.parentTree,e)}function v(e){if(e===void 0)e="children";d==null?void 0:d("useSelectedLayoutSegment()");const t=y(e);if(!t||t.length===0){return null}const n=e==="children"?t[0]:t[t.length-1];return n===c.DEFAULT_SEGMENT_KEY?null:n}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},66156:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var r=n(43210);var i=Boolean(globalThis?.document)?r.useLayoutEffect:()=>{}},66483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{resolveImages:function(){return d},resolveOpenGraph:function(){return p},resolveTwitter:function(){return g}});const i=n(77341);const s=n(96258);const o=n(57373);const a=n(77359);const c=n(21709);const l={article:["authors","tags"],song:["albums","musicians"],playlist:["albums","musicians"],radio:["creators"],video:["actors","directors","writers","tags"],basic:["emails","phoneNumbers","faxNumbers","alternateLocale","audio","videos"]};function u(e,t,n){if(!e)return undefined;const r=(0,s.isStringOrURL)(e);const i=r?e:e.url;if(!i)return undefined;const o=Boolean(process.env.VERCEL);const l=typeof i==="string"&&!(0,a.isFullStringUrl)(i);if(l&&(!t||n)){const e=(0,s.getSocialImageMetadataBaseFallback)(t);const n=!o&&!t&&(true||0);if(n){(0,c.warnOnce)(`metadataBase property in metadata export is not set for resolving social open graph or twitter images, using "${e.origin}". See https://nextjs.org/docs/app/api-reference/functions/generate-metadata#metadatabase`)}t=e}return r?{url:(0,s.resolveUrl)(i,t)}:{...e,url:(0,s.resolveUrl)(i,t)}}function d(e,t,n){const r=(0,i.resolveAsArrayOrUndefined)(e);if(!r)return r;const s=[];for(const e of r){const r=u(e,t,n);if(!r)continue;s.push(r)}return s}const f={article:l.article,book:l.article,"music.song":l.song,"music.album":l.song,"music.playlist":l.playlist,"music.radio_station":l.radio,"video.movie":l.video,"video.episode":l.video};function h(e){if(!e||!(e in f))return l.basic;return f[e].concat(l.basic)}const p=(e,t,n,r)=>{if(!e)return null;function a(e,r){const s=r&&"type"in r?r.type:undefined;const o=h(s);for(const t of o){const n=t;if(n in r&&n!=="url"){const t=r[n];e[n]=t?(0,i.resolveArray)(t):null}}e.images=d(r.images,t,n.isStaticMetadataRouteFile)}const c={...e,title:(0,o.resolveTitle)(e.title,r)};a(c,e);c.url=e.url?(0,s.resolveAbsoluteUrlWithPathname)(e.url,t,n):null;return c};const m=["site","siteId","creator","creatorId","description"];const g=(e,t,n,r)=>{var s;if(!e)return null;let a="card"in e?e.card:undefined;const c={...e,title:(0,o.resolveTitle)(e.title,r)};for(const t of m){c[t]=e[t]||null}c.images=d(e.images,t,n.isStaticMetadataRouteFile);a=a||(((s=c.images)==null?void 0:s.length)?"summary_large_image":"summary");c.card=a;if("card"in c){switch(c.card){case"player":{c.players=(0,i.resolveAsArrayOrUndefined)(c.players)||[];break}case"app":{c.app=c.app||{};break}default:break}}return c}},66683:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RetryingCall=t.MessageBufferTracker=t.RetryThrottler=void 0;const r=n(71271);const i=n(86777);const s=n(31359);const o="retrying_call";class a{constructor(e,t,n){this.maxTokens=e;this.tokenRatio=t;if(n){this.tokens=n.tokens*(e/n.maxTokens)}else{this.tokens=e}}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}t.RetryThrottler=a;class c{constructor(e,t){this.totalLimit=e;this.limitPerCall=t;this.totalAllocated=0;this.allocatedPerCall=new Map}allocate(e,t){var n;const r=(n=this.allocatedPerCall.get(t))!==null&&n!==void 0?n:0;if(this.limitPerCall-r<e||this.totalLimit-this.totalAllocated<e){return false}this.allocatedPerCall.set(t,r+e);this.totalAllocated+=e;return true}free(e,t){var n;if(this.totalAllocated<e){throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`)}this.totalAllocated-=e;const r=(n=this.allocatedPerCall.get(t))!==null&&n!==void 0?n:0;if(r<e){throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${r}`)}this.allocatedPerCall.set(t,r-e)}freeAll(e){var t;const n=(t=this.allocatedPerCall.get(e))!==null&&t!==void 0?t:0;if(this.totalAllocated<n){throw new Error(`Invalid buffer allocation state: call ${e} allocated ${n} > total allocated ${this.totalAllocated}`)}this.totalAllocated-=n;this.allocatedPerCall.delete(e)}}t.MessageBufferTracker=c;const l="grpc-previous-rpc-attempts";class u{constructor(e,t,n,r,i,s,o,a,c){this.channel=e;this.callConfig=t;this.methodName=n;this.host=r;this.credentials=i;this.deadline=s;this.callNumber=o;this.bufferTracker=a;this.retryThrottler=c;this.listener=null;this.initialMetadata=null;this.underlyingCalls=[];this.writeBuffer=[];this.writeBufferOffset=0;this.readStarted=false;this.transparentRetryUsed=false;this.attempts=0;this.hedgingTimer=null;this.committedCallIndex=null;this.initialRetryBackoffSec=0;this.nextRetryBackoffSec=0;if(t.methodConfig.retryPolicy){this.state="RETRY";const e=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(e.initialBackoff.substring(0,e.initialBackoff.length-1))}else if(t.methodConfig.hedgingPolicy){this.state="HEDGING"}else{this.state="TRANSPARENT_ONLY"}}getCallNumber(){return this.callNumber}trace(e){s.trace(r.LogVerbosity.DEBUG,o,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'"');this.bufferTracker.freeAll(this.callNumber);this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length;this.writeBuffer=[];process.nextTick(()=>{var t;(t=this.listener)===null||t===void 0?void 0:t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"');this.reportStatus({code:e,details:t,metadata:new i.Metadata});for(const{call:n}of this.underlyingCalls){n.cancelWithStatus(e,t)}}getPeer(){if(this.committedCallIndex!==null){return this.underlyingCalls[this.committedCallIndex].call.getPeer()}else{return"unknown"}}getBufferEntry(e){var t;return(t=this.writeBuffer[e-this.writeBufferOffset])!==null&&t!==void 0?t:{entryType:"FREED",allocated:false}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED"){return}const e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){const e=this.getBufferEntry(t);if(e.allocated){this.bufferTracker.free(e.message.message.length,this.callNumber)}}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset);this.writeBufferOffset=e}commitCall(e){if(this.state==="COMMITTED"){return}if(this.underlyingCalls[e].state==="COMPLETED"){return}this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e);this.state="COMMITTED";this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++){if(t===e){continue}if(this.underlyingCalls[t].state==="COMPLETED"){continue}this.underlyingCalls[t].state="COMPLETED";this.underlyingCalls[t].call.cancelWithStatus(r.Status.CANCELLED,"Discarded in favor of other hedged attempt")}this.clearSentMessages()}commitCallWithMostMessages(){if(this.state==="COMMITTED"){return}let e=-1;let t=-1;for(const[n,r]of this.underlyingCalls.entries()){if(r.state==="ACTIVE"&&r.nextMessageToSend>e){e=r.nextMessageToSend;t=n}}if(t===-1){this.state="TRANSPARENT_ONLY"}else{this.commitCall(t)}}isStatusCodeInList(e,t){return e.some(e=>e===t||e.toString().toLowerCase()===r.Status[t].toLowerCase())}getNextRetryBackoffMs(){var e;const t=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!t){return 0}const n=Math.random()*this.nextRetryBackoffSec*1e3;const r=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,r);return n}maybeRetryCall(e,t){if(this.state!=="RETRY"){t(false);return}const n=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(n.maxAttempts,5)){t(false);return}let r;if(e===null){r=this.getNextRetryBackoffMs()}else if(e<0){this.state="TRANSPARENT_ONLY";t(false);return}else{r=e;this.nextRetryBackoffSec=this.initialRetryBackoffSec}setTimeout(()=>{var e,n;if(this.state!=="RETRY"){t(false);return}if((n=(e=this.retryThrottler)===null||e===void 0?void 0:e.canRetryCall())!==null&&n!==void 0?n:true){t(true);this.attempts+=1;this.startNewAttempt()}},r)}countActiveCalls(){let e=0;for(const t of this.underlyingCalls){if((t===null||t===void 0?void 0:t.state)==="ACTIVE"){e+=1}}return e}handleProcessedStatus(e,t,n){var r,i,s;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t);this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList((r=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&r!==void 0?r:[],e.code)){(i=this.retryThrottler)===null||i===void 0?void 0:i.addCallFailed();let r;if(n===null){r=0}else if(n<0){this.state="TRANSPARENT_ONLY";this.commitCall(t);this.reportStatus(e);return}else{r=n}setTimeout(()=>{this.maybeStartHedgingAttempt();if(this.countActiveCalls()===0){this.commitCall(t);this.reportStatus(e)}},r)}else{this.commitCall(t);this.reportStatus(e)}break;case"RETRY":if(this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)){(s=this.retryThrottler)===null||s===void 0?void 0:s.addCallFailed();this.maybeRetryCall(n,n=>{if(!n){this.commitCall(t);this.reportStatus(e)}})}else{this.commitCall(t);this.reportStatus(e)}break}}getPushback(e){const t=e.get("grpc-retry-pushback-ms");if(t.length===0){return null}try{return parseInt(t[0])}catch(e){return-1}}handleChildStatus(e,t){var n;if(this.underlyingCalls[t].state==="COMPLETED"){return}this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state);this.underlyingCalls[t].state="COMPLETED";if(e.code===r.Status.OK){(n=this.retryThrottler)===null||n===void 0?void 0:n.addCallSucceeded();this.commitCall(t);this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}const i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":if(this.transparentRetryUsed){this.handleProcessedStatus(e,t,i)}else{this.transparentRetryUsed=true;this.startNewAttempt()}break;case"DROP":this.commitCall(t);this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,i);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING"){return}if(!this.callConfig.methodConfig.hedgingPolicy){return}const e=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(e.maxAttempts,5)){return}this.attempts+=1;this.startNewAttempt();this.maybeStartHedgingTimer()}maybeStartHedgingTimer(){var e,t,n;if(this.hedgingTimer){clearTimeout(this.hedgingTimer)}if(this.state!=="HEDGING"){return}if(!this.callConfig.methodConfig.hedgingPolicy){return}const r=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(r.maxAttempts,5)){return}const i=(e=r.hedgingDelay)!==null&&e!==void 0?e:"0s";const s=Number(i.substring(0,i.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},s*1e3);(n=(t=this.hedgingTimer).unref)===null||n===void 0?void 0:n.call(t)}startNewAttempt(){const e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);const t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0});const n=this.attempts-1;const r=this.initialMetadata.clone();if(n>0){r.set(l,`${n}`)}let i=false;e.start(r,{onReceiveMetadata:r=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]");this.commitCall(t);i=true;if(n>0){r.set(l,`${n}`)}if(this.underlyingCalls[t].state==="ACTIVE"){this.listener.onReceiveMetadata(r)}},onReceiveMessage:n=>{this.trace("Received message from child ["+e.getCallNumber()+"]");this.commitCall(t);if(this.underlyingCalls[t].state==="ACTIVE"){this.listener.onReceiveMessage(n)}},onReceiveStatus:r=>{this.trace("Received status from child ["+e.getCallNumber()+"]");if(!i&&n>0){r.metadata.set(l,`${n}`)}this.handleChildStatus(r,t)}});this.sendNextChildMessage(t);if(this.readStarted){e.startRead()}}start(e,t){this.trace("start called");this.listener=t;this.initialMetadata=e;this.attempts+=1;this.startNewAttempt();this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,n;const r=this.underlyingCalls[e];const i=r.nextMessageToSend;(n=(t=this.getBufferEntry(i)).callback)===null||n===void 0?void 0:n.call(t);this.clearSentMessages();r.nextMessageToSend+=1;this.sendNextChildMessage(e)}sendNextChildMessage(e){const t=this.underlyingCalls[e];if(t.state==="COMPLETED"){return}if(this.getBufferEntry(t.nextMessageToSend)){const n=this.getBufferEntry(t.nextMessageToSend);switch(n.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(e)}},n.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1;t.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(e,t){var n;this.trace("write() called with message of length "+t.length);const r={message:t,flags:e.flags};const i=this.getNextBufferIndex();const s={entryType:"MESSAGE",message:r,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};this.writeBuffer.push(s);if(s.allocated){(n=e.callback)===null||n===void 0?void 0:n.call(e);for(const[e,n]of this.underlyingCalls.entries()){if(n.state==="ACTIVE"&&n.nextMessageToSend===i){n.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(e)}},t)}}}else{this.commitCallWithMostMessages();if(this.committedCallIndex===null){return}const n=this.underlyingCalls[this.committedCallIndex];s.callback=e.callback;if(n.state==="ACTIVE"&&n.nextMessageToSend===i){n.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}}startRead(){this.trace("startRead called");this.readStarted=true;for(const e of this.underlyingCalls){if((e===null||e===void 0?void 0:e.state)==="ACTIVE"){e.call.startRead()}}}halfClose(){this.trace("halfClose called");const e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:false});for(const t of this.underlyingCalls){if((t===null||t===void 0?void 0:t.state)==="ACTIVE"&&t.nextMessageToSend===e){t.nextMessageToSend+=1;t.call.halfClose()}}}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}t.RetryingCall=u},66771:(e,t,n)=>{"use strict";var r=e.exports=n(89374);r.build="full";r.tokenize=n(60158);r.parse=n(27408);r.common=n(34346);r.Root._configure(r.Type,r.parse,r.common)},66827:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setup=t.getChannelzServiceDefinition=t.getChannelzHandlers=t.unregisterChannelzRef=t.registerChannelzSocket=t.registerChannelzServer=t.registerChannelzSubchannel=t.registerChannelzChannel=t.ChannelzCallTracker=t.ChannelzChildrenTracker=t.ChannelzTrace=void 0;const r=n(91645);const i=n(18155);const s=n(71271);const o=n(43356);const a=n(17061);const c=n(61480);function l(e){return{channel_id:e.id,name:e.name}}function u(e){return{subchannel_id:e.id,name:e.name}}function d(e){return{server_id:e.id}}function f(e){return{socket_id:e.id,name:e.name}}const h=32;class p{constructor(){this.events=[];this.eventsLogged=0;this.creationTimestamp=new Date}addTrace(e,t,n){const r=new Date;this.events.push({description:t,severity:e,timestamp:r,childChannel:(n===null||n===void 0?void 0:n.kind)==="channel"?n:undefined,childSubchannel:(n===null||n===void 0?void 0:n.kind)==="subchannel"?n:undefined});if(this.events.length>=h*2){this.events=this.events.slice(h)}this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:P(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>{return{description:e.description,severity:e.severity,timestamp:P(e.timestamp),channel_ref:e.childChannel?l(e.childChannel):null,subchannel_ref:e.childSubchannel?u(e.childSubchannel):null}})}}}t.ChannelzTrace=p;class m{constructor(){this.channelChildren=new Map;this.subchannelChildren=new Map;this.socketChildren=new Map}refChild(e){var t,n,r;switch(e.kind){case"channel":{const n=(t=this.channelChildren.get(e.id))!==null&&t!==void 0?t:{ref:e,count:0};n.count+=1;this.channelChildren.set(e.id,n);break}case"subchannel":{const t=(n=this.subchannelChildren.get(e.id))!==null&&n!==void 0?n:{ref:e,count:0};t.count+=1;this.subchannelChildren.set(e.id,t);break}case"socket":{const t=(r=this.socketChildren.get(e.id))!==null&&r!==void 0?r:{ref:e,count:0};t.count+=1;this.socketChildren.set(e.id,t);break}}}unrefChild(e){switch(e.kind){case"channel":{const t=this.channelChildren.get(e.id);if(t!==undefined){t.count-=1;if(t.count===0){this.channelChildren.delete(e.id)}else{this.channelChildren.set(e.id,t)}}break}case"subchannel":{const t=this.subchannelChildren.get(e.id);if(t!==undefined){t.count-=1;if(t.count===0){this.subchannelChildren.delete(e.id)}else{this.subchannelChildren.set(e.id,t)}}break}case"socket":{const t=this.socketChildren.get(e.id);if(t!==undefined){t.count-=1;if(t.count===0){this.socketChildren.delete(e.id)}else{this.socketChildren.set(e.id,t)}}break}}}getChildLists(){const e=[];for(const{ref:t}of this.channelChildren.values()){e.push(t)}const t=[];for(const{ref:e}of this.subchannelChildren.values()){t.push(e)}const n=[];for(const{ref:e}of this.socketChildren.values()){n.push(e)}return{channels:e,subchannels:t,sockets:n}}}t.ChannelzChildrenTracker=m;class g{constructor(){this.callsStarted=0;this.callsSucceeded=0;this.callsFailed=0;this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1;this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}t.ChannelzCallTracker=g;let y=1;function v(){return y++}const b=[];const w=[];const E=[];const _=[];function S(e,t,n){const r=v();const i={id:r,name:e,kind:"channel"};if(n){b[r]={ref:i,getInfo:t}}return i}t.registerChannelzChannel=S;function T(e,t,n){const r=v();const i={id:r,name:e,kind:"subchannel"};if(n){w[r]={ref:i,getInfo:t}}return i}t.registerChannelzSubchannel=T;function C(e,t){const n=v();const r={id:n,kind:"server"};if(t){E[n]={ref:r,getInfo:e}}return r}t.registerChannelzServer=C;function I(e,t,n){const r=v();const i={id:r,name:e,kind:"socket"};if(n){_[r]={ref:i,getInfo:t}}return i}t.registerChannelzSocket=I;function R(e){switch(e.kind){case"channel":delete b[e.id];return;case"subchannel":delete w[e.id];return;case"server":delete E[e.id];return;case"socket":delete _[e.id];return}}t.unregisterChannelzRef=R;function O(e){const t=Number.parseInt(e,16);return[t/256|0,t%256]}function A(e){if(e===""){return[]}const t=e.split(":").map(e=>O(e));const n=[];return n.concat(...t)}function k(e){if((0,r.isIPv4)(e)){return Buffer.from(Uint8Array.from(e.split(".").map(e=>Number.parseInt(e))))}else if((0,r.isIPv6)(e)){let t;let n;const r=e.indexOf("::");if(r===-1){t=e;n=""}else{t=e.substring(0,r);n=e.substring(r+2)}const i=Buffer.from(A(t));const s=Buffer.from(A(n));const o=Buffer.alloc(16-i.length-s.length,0);return Buffer.concat([i,o,s])}else{return null}}function x(e){switch(e){case i.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case i.ConnectivityState.IDLE:return{state:"IDLE"};case i.ConnectivityState.READY:return{state:"READY"};case i.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case i.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function P(e){if(!e){return null}const t=e.getTime();return{seconds:t/1e3|0,nanos:t%1e3*1e6}}function N(e){const t=e.getInfo();return{ref:l(e.ref),data:{target:t.target,state:x(t.state),calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:P(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},channel_ref:t.children.channels.map(e=>l(e)),subchannel_ref:t.children.subchannels.map(e=>u(e))}}function D(e,t){const n=Number.parseInt(e.request.channel_id);const r=b[n];if(r===undefined){t({code:s.Status.NOT_FOUND,details:"No channel data found for id "+n});return}t(null,{channel:N(r)})}function M(e,t){const n=Number.parseInt(e.request.max_results);const r=[];let i=Number.parseInt(e.request.start_channel_id);for(;i<b.length;i++){const e=b[i];if(e===undefined){continue}r.push(N(e));if(r.length>=n){break}}t(null,{channel:r,end:i>=E.length})}function L(e){const t=e.getInfo();return{ref:d(e.ref),data:{calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:P(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},listen_socket:t.listenerChildren.sockets.map(e=>f(e))}}function j(e,t){const n=Number.parseInt(e.request.server_id);const r=E[n];if(r===undefined){t({code:s.Status.NOT_FOUND,details:"No server data found for id "+n});return}t(null,{server:L(r)})}function F(e,t){const n=Number.parseInt(e.request.max_results);const r=[];let i=Number.parseInt(e.request.start_server_id);for(;i<E.length;i++){const e=E[i];if(e===undefined){continue}r.push(L(e));if(r.length>=n){break}}t(null,{server:r,end:i>=E.length})}function B(e,t){const n=Number.parseInt(e.request.subchannel_id);const r=w[n];if(r===undefined){t({code:s.Status.NOT_FOUND,details:"No subchannel data found for id "+n});return}const i=r.getInfo();const o={ref:u(r.ref),data:{target:i.target,state:x(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:P(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:i.children.sockets.map(e=>f(e))};t(null,{subchannel:o})}function U(e){var t;if((0,o.isTcpSubchannelAddress)(e)){return{address:"tcpip_address",tcpip_address:{ip_address:(t=k(e.host))!==null&&t!==void 0?t:undefined,port:e.port}}}else{return{address:"uds_address",uds_address:{filename:e.path}}}}function V(e,t){var n,r,i,o,a;const c=Number.parseInt(e.request.socket_id);const l=_[c];if(l===undefined){t({code:s.Status.NOT_FOUND,details:"No socket data found for id "+c});return}const u=l.getInfo();const d=u.security?{model:"tls",tls:{cipher_suite:u.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(n=u.security.cipherSuiteStandardName)!==null&&n!==void 0?n:undefined,other_name:(r=u.security.cipherSuiteOtherName)!==null&&r!==void 0?r:undefined,local_certificate:(i=u.security.localCertificate)!==null&&i!==void 0?i:undefined,remote_certificate:(o=u.security.remoteCertificate)!==null&&o!==void 0?o:undefined}}:null;const h={ref:f(l.ref),local:u.localAddress?U(u.localAddress):null,remote:u.remoteAddress?U(u.remoteAddress):null,remote_name:(a=u.remoteName)!==null&&a!==void 0?a:undefined,security:d,data:{keep_alives_sent:u.keepAlivesSent,streams_started:u.streamsStarted,streams_succeeded:u.streamsSucceeded,streams_failed:u.streamsFailed,last_local_stream_created_timestamp:P(u.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:P(u.lastRemoteStreamCreatedTimestamp),messages_received:u.messagesReceived,messages_sent:u.messagesSent,last_message_received_timestamp:P(u.lastMessageReceivedTimestamp),last_message_sent_timestamp:P(u.lastMessageSentTimestamp),local_flow_control_window:u.localFlowControlWindow?{value:u.localFlowControlWindow}:null,remote_flow_control_window:u.remoteFlowControlWindow?{value:u.remoteFlowControlWindow}:null}};t(null,{socket:h})}function z(e,t){const n=Number.parseInt(e.request.server_id);const r=E[n];if(r===undefined){t({code:s.Status.NOT_FOUND,details:"No server data found for id "+n});return}const i=Number.parseInt(e.request.start_socket_id);const o=Number.parseInt(e.request.max_results);const a=r.getInfo();const c=a.sessionChildren.sockets.sort((e,t)=>e.id-t.id);const l=[];let u=0;for(;u<c.length;u++){if(c[u].id>=i){l.push(f(c[u]));if(l.length>=o){break}}}t(null,{socket_ref:l,end:u>=c.length})}function q(){return{GetChannel:D,GetTopChannels:M,GetServer:j,GetServers:F,GetSubchannel:B,GetSocket:V,GetServerSockets:z}}t.getChannelzHandlers=q;let $=null;function G(){if($){return $}const e=n(97587).Yi;const t=e("channelz.proto",{keepCase:true,longs:String,enums:String,defaults:true,oneofs:true,includeDirs:[`${__dirname}/../../proto`]});const r=(0,c.loadPackageDefinition)(t);$=r.grpc.channelz.v1.Channelz.service;return $}t.getChannelzServiceDefinition=G;function W(){(0,a.registerAdminService)(G,q)}t.setup=W},67086:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{RedirectBoundary:function(){return f},RedirectErrorBoundary:function(){return d}});const i=n(40740);const s=n(60687);const o=i._(n(43210));const a=n(65773);const c=n(36875);const l=n(97860);function u(e){let{redirect:t,reset:n,redirectType:r}=e;const i=(0,a.useRouter)();(0,o.useEffect)(()=>{o.default.startTransition(()=>{if(r===l.RedirectType.push){i.push(t,{})}else{i.replace(t,{})}n()})},[t,r,n,i]);return null}class d extends o.default.Component{static getDerivedStateFromError(e){if((0,l.isRedirectError)(e)){const t=(0,c.getURLFromRedirectError)(e);const n=(0,c.getRedirectTypeFromError)(e);return{redirect:t,redirectType:n}}throw e}render(){const{redirect:e,redirectType:t}=this.state;if(e!==null&&t!==null){return(0,s.jsx)(u,{redirect:e,redirectType:t,reset:()=>this.setState({redirect:null})})}return this.props.children}constructor(e){super(e);this.state={redirect:null,redirectType:null}}}function f(e){let{children:t}=e;const n=(0,a.useRouter)();return(0,s.jsx)(d,{router:n,children:t})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},67839:e=>{(()=>{"use strict";var t={328:e=>{function t(e){var t=5381,n=e.length;while(n){t=t*33^e.charCodeAt(--n)}return t>>>0}e.exports=t}};var n={};function r(e){var i=n[e];if(i!==undefined){return i.exports}var s=n[e]={exports:{}};var o=true;try{t[e](s,s.exports,r);o=false}finally{if(o)delete n[e]}return s.exports}if(typeof r!=="undefined")r.ab=__dirname+"/";var i=r(328);e.exports=i})()},67989:(e,t,n)=>{"use strict";n.d(t,{Dk:()=>r.Dk,Sx:()=>r.Sx,Wp:()=>r.Wp});var r=n(27728);var i="firebase";var s="11.9.1";(0,r.KO)(i,s,"app")},68214:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"hasInterceptionRouteInCurrentTree",{enumerable:true,get:function(){return i}});const r=n(72859);function i(e){let[t,n]=e;if(Array.isArray(t)&&(t[2]==="di"||t[2]==="ci")){return true}if(typeof t==="string"&&(0,r.isInterceptionRouteAppPath)(t)){return true}if(n){for(const e in n){if(i(n[e])){return true}}}return false}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},68474:(e,t,n)=>{"use strict";e.exports=n(66771)},68524:(e,t,n)=>{"use strict";e.exports=n(94041).vendored.contexts.ServerInsertedMetadata},68613:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"unstable_rethrow",{enumerable:true,get:function(){return r}});const r=true?n(42292).unstable_rethrow:0;if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},68655:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CompressionAlgorithms=void 0;var n;(function(e){e[e["identity"]=0]="identity";e[e["deflate"]=1]="deflate";e[e["gzip"]=2]="gzip"})(n||(t.CompressionAlgorithms=n={}))},69385:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{getObjectClassLabel:function(){return r},isPlainObject:function(){return i}});function r(e){return Object.prototype.toString.call(e)}function i(e){if(r(e)!=="[object Object]"){return false}const t=Object.getPrototypeOf(e);return t===null||t.hasOwnProperty("isPrototypeOf")}},70569:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});function r(e,t,{checkForDefaultPrevented:n=true}={}){return function r(r){e?.(r);if(n===false||!r.defaultPrevented){return t?.(r)}}}},70603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Http2SubchannelConnector=void 0;const r=n(73496);const i=n(34631);const s=n(66827);const o=n(71271);const a=n(16239);const c=n(31359);const l=n(5674);const u=n(43356);const d=n(26786);const f=n(91645);const h=n(93474);const p=n(81260);const m="transport";const g="transport_flowctrl";const y=n(28592).rE;const{HTTP2_HEADER_AUTHORITY:v,HTTP2_HEADER_CONTENT_TYPE:b,HTTP2_HEADER_METHOD:w,HTTP2_HEADER_PATH:E,HTTP2_HEADER_TE:_,HTTP2_HEADER_USER_AGENT:S}=r.constants;const T=2e4;const C=Buffer.from("too_many_pings","ascii");class I{constructor(e,t,n,i){this.session=e;this.options=n;this.remoteName=i;this.keepaliveTimeMs=-1;this.keepaliveTimeoutMs=T;this.keepaliveTimerId=null;this.pendingSendKeepalivePing=false;this.keepaliveTimeoutId=null;this.keepaliveWithoutCalls=false;this.activeCalls=new Set;this.disconnectListeners=[];this.disconnectHandled=false;this.channelzEnabled=true;this.streamTracker=new s.ChannelzCallTracker;this.keepalivesSent=0;this.messagesSent=0;this.messagesReceived=0;this.lastMessageSentTimestamp=null;this.lastMessageReceivedTimestamp=null;this.subchannelAddressString=(0,u.subchannelAddressToString)(t);if(n["grpc.enable_channelz"]===0){this.channelzEnabled=false}this.channelzRef=(0,s.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled);this.userAgent=[n["grpc.primary_user_agent"],`grpc-node-js/${y}`,n["grpc.secondary_user_agent"]].filter(e=>e).join(" ");if("grpc.keepalive_time_ms"in n){this.keepaliveTimeMs=n["grpc.keepalive_time_ms"]}if("grpc.keepalive_timeout_ms"in n){this.keepaliveTimeoutMs=n["grpc.keepalive_timeout_ms"]}if("grpc.keepalive_permit_without_calls"in n){this.keepaliveWithoutCalls=n["grpc.keepalive_permit_without_calls"]===1}else{this.keepaliveWithoutCalls=false}e.once("close",()=>{this.trace("session closed");this.stopKeepalivePings();this.handleDisconnect()});e.once("goaway",(e,t,n)=>{let i=false;if(e===r.constants.NGHTTP2_ENHANCE_YOUR_CALM&&n&&n.equals(C)){i=true}this.trace("connection closed by GOAWAY with code "+e+" and data "+(n===null||n===void 0?void 0:n.toString()));this.reportDisconnectToOwner(i)});e.once("error",e=>{this.trace("connection closed with error "+e.message)});if(c.isTracerEnabled(m)){e.on("remoteSettings",t=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))});e.on("localSettings",t=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))})}if(this.keepaliveWithoutCalls){this.maybeStartKeepalivePingTimer()}}getChannelzInfo(){var e,t,n;const r=this.session.socket;const i=r.remoteAddress?(0,u.stringToSubchannelAddress)(r.remoteAddress,r.remotePort):null;const s=r.localAddress?(0,u.stringToSubchannelAddress)(r.localAddress,r.localPort):null;let o;if(this.session.encrypted){const t=r;const n=t.getCipher();const i=t.getCertificate();const s=t.getPeerCertificate();o={cipherSuiteStandardName:(e=n.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:n.standardName?null:n.name,localCertificate:i&&"raw"in i?i.raw:null,remoteCertificate:s&&"raw"in s?s.raw:null}}else{o=null}const a={remoteAddress:i,localAddress:s,security:o,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(t=this.session.state.localWindowSize)!==null&&t!==void 0?t:null,remoteFlowControlWindow:(n=this.session.state.remoteWindowSize)!==null&&n!==void 0?n:null};return a}trace(e){c.trace(o.LogVerbosity.DEBUG,m,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){c.trace(o.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){c.trace(o.LogVerbosity.DEBUG,g,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){c.trace(o.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){if(this.disconnectHandled){return}this.disconnectHandled=true;this.disconnectListeners.forEach(t=>t(e))}handleDisconnect(){this.reportDisconnectToOwner(false);setImmediate(()=>{for(const e of this.activeCalls){e.onDisconnect()}})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){if(!this.keepaliveTimerId){return}clearTimeout(this.keepaliveTimerId);this.keepaliveTimerId=null}clearKeepaliveTimeout(){if(!this.keepaliveTimeoutId){return}clearTimeout(this.keepaliveTimeoutId);this.keepaliveTimeoutId=null}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;this.clearKeepaliveTimer();if(!this.canSendPing()){this.pendingSendKeepalivePing=true;return}if(this.channelzEnabled){this.keepalivesSent+=1}this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");if(!this.keepaliveTimeoutId){this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response");this.handleDisconnect()},this.keepaliveTimeoutMs);(t=(e=this.keepaliveTimeoutId).unref)===null||t===void 0?void 0:t.call(e)}try{this.session.ping((e,t,n)=>{if(e){this.keepaliveTrace("Ping failed with error "+e.message);this.handleDisconnect()}this.keepaliveTrace("Received ping response");this.clearKeepaliveTimeout();this.maybeStartKeepalivePingTimer()})}catch(e){this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,t;if(!this.canSendPing()){return}if(this.pendingSendKeepalivePing){this.pendingSendKeepalivePing=false;this.maybeSendPing()}else if(!this.keepaliveTimerId&&!this.keepaliveTimeoutId){this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms");this.keepaliveTimerId=(t=(e=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)===null||t===void 0?void 0:t.call(e)}}stopKeepalivePings(){if(this.keepaliveTimerId){clearTimeout(this.keepaliveTimerId);this.keepaliveTimerId=null}this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e);if(this.activeCalls.size===0){this.session.unref()}}addActiveCall(e){this.activeCalls.add(e);if(this.activeCalls.size===1){this.session.ref();if(!this.keepaliveWithoutCalls){this.maybeStartKeepalivePingTimer()}}}createCall(e,t,n,r,i){const s=e.toHttp2Headers();s[v]=t;s[S]=this.userAgent;s[b]="application/grpc";s[w]="POST";s[E]=n;s[_]="trailers";let o;try{o=this.session.request(s)}catch(e){this.handleDisconnect();throw e}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize);this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let a;let c;if(this.channelzEnabled){this.streamTracker.addCallStarted();a={addMessageSent:()=>{var e;this.messagesSent+=1;this.lastMessageSentTimestamp=new Date;(e=i.addMessageSent)===null||e===void 0?void 0:e.call(i)},addMessageReceived:()=>{var e;this.messagesReceived+=1;this.lastMessageReceivedTimestamp=new Date;(e=i.addMessageReceived)===null||e===void 0?void 0:e.call(i)},onCallEnd:e=>{var t;(t=i.onCallEnd)===null||t===void 0?void 0:t.call(i,e);this.removeActiveCall(c)},onStreamEnd:e=>{var t;if(e){this.streamTracker.addCallSucceeded()}else{this.streamTracker.addCallFailed()}(t=i.onStreamEnd)===null||t===void 0?void 0:t.call(i,e)}}}else{a={addMessageSent:()=>{var e;(e=i.addMessageSent)===null||e===void 0?void 0:e.call(i)},addMessageReceived:()=>{var e;(e=i.addMessageReceived)===null||e===void 0?void 0:e.call(i)},onCallEnd:e=>{var t;(t=i.onCallEnd)===null||t===void 0?void 0:t.call(i,e);this.removeActiveCall(c)},onStreamEnd:e=>{var t;(t=i.onStreamEnd)===null||t===void 0?void 0:t.call(i,e)}}}c=new h.Http2SubchannelCall(o,a,r,this,(0,p.getNextCallNumber)());this.addActiveCall(c);return c}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close();(0,s.unregisterChannelzRef)(this.channelzRef)}}class R{constructor(e){this.channelTarget=e;this.session=null;this.isShutdown=false}trace(e){c.trace(o.LogVerbosity.DEBUG,m,(0,d.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,n,s){if(this.isShutdown){return Promise.reject()}return new Promise((o,a)=>{var c,h,p;let m;if(s.realTarget){m=(0,d.uriToString)(s.realTarget);this.trace("creating HTTP/2 session through proxy to "+(0,d.uriToString)(s.realTarget))}else{m=null;this.trace("creating HTTP/2 session to "+(0,u.subchannelAddressToString)(e))}const g=(0,l.getDefaultAuthority)((c=s.realTarget)!==null&&c!==void 0?c:this.channelTarget);let y=t._getConnectionOptions()||{};y.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER;if("grpc-node.max_session_memory"in n){y.maxSessionMemory=n["grpc-node.max_session_memory"]}else{y.maxSessionMemory=Number.MAX_SAFE_INTEGER}let v="http://";if("secureContext"in y){v="https://";if(n["grpc.ssl_target_name_override"]){const e=n["grpc.ssl_target_name_override"];y.checkServerIdentity=(t,n)=>{return(0,i.checkServerIdentity)(e,n)};y.servername=e}else{const e=(p=(h=(0,d.splitHostPort)(g))===null||h===void 0?void 0:h.host)!==null&&p!==void 0?p:"localhost";y.servername=e}if(s.socket){y.createConnection=(e,t)=>{return s.socket}}}else{y.createConnection=(t,n)=>{if(s.socket){return s.socket}else{return f.connect(e)}}}y=Object.assign(Object.assign(Object.assign({},y),e),{enableTrace:n["grpc-node.tls_enable_trace"]===1});const b=r.connect(v+g,y);this.session=b;let w="Failed to connect";b.unref();b.once("connect",()=>{b.removeAllListeners();o(new I(b,e,n,m));this.session=null});b.once("close",()=>{this.session=null;setImmediate(()=>{a(`${w} (${new Date().toISOString()})`)})});b.once("error",e=>{w=e.message;this.trace("connection failed with error "+w)})})}connect(e,t,n){var r,s;if(this.isShutdown){return Promise.reject()}const o=t._getConnectionOptions()||{};if("secureContext"in o){o.ALPNProtocols=["h2"];if(n["grpc.ssl_target_name_override"]){const e=n["grpc.ssl_target_name_override"];o.checkServerIdentity=(t,n)=>{return(0,i.checkServerIdentity)(e,n)};o.servername=e}else{if("grpc.http_connect_target"in n){const e=(0,l.getDefaultAuthority)((r=(0,d.parseUri)(n["grpc.http_connect_target"]))!==null&&r!==void 0?r:{path:"localhost"});const t=(0,d.splitHostPort)(e);o.servername=(s=t===null||t===void 0?void 0:t.host)!==null&&s!==void 0?s:e}}if(n["grpc-node.tls_enable_trace"]){o.enableTrace=true}}return(0,a.getProxiedConnection)(e,n,o).then(r=>this.createSession(e,t,n,r))}shutdown(){var e;this.isShutdown=true;(e=this.session)===null||e===void 0?void 0:e.close();this.session=null}}t.Http2SubchannelConnector=R},71037:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.StreamDecoder=void 0;var n;(function(e){e[e["NO_DATA"]=0]="NO_DATA";e[e["READING_SIZE"]=1]="READING_SIZE";e[e["READING_MESSAGE"]=2]="READING_MESSAGE"})(n||(n={}));class r{constructor(e){this.maxReadMessageLength=e;this.readState=n.NO_DATA;this.readCompressFlag=Buffer.alloc(1);this.readPartialSize=Buffer.alloc(4);this.readSizeRemaining=4;this.readMessageSize=0;this.readPartialMessage=[];this.readMessageRemaining=0}write(e){let t=0;let r;const i=[];while(t<e.length){switch(this.readState){case n.NO_DATA:this.readCompressFlag=e.slice(t,t+1);t+=1;this.readState=n.READING_SIZE;this.readPartialSize.fill(0);this.readSizeRemaining=4;this.readMessageSize=0;this.readMessageRemaining=0;this.readPartialMessage=[];break;case n.READING_SIZE:r=Math.min(e.length-t,this.readSizeRemaining);e.copy(this.readPartialSize,4-this.readSizeRemaining,t,t+r);this.readSizeRemaining-=r;t+=r;if(this.readSizeRemaining===0){this.readMessageSize=this.readPartialSize.readUInt32BE(0);if(this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength){throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`)}this.readMessageRemaining=this.readMessageSize;if(this.readMessageRemaining>0){this.readState=n.READING_MESSAGE}else{const e=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=n.NO_DATA;i.push(e)}}break;case n.READING_MESSAGE:r=Math.min(e.length-t,this.readMessageRemaining);this.readPartialMessage.push(e.slice(t,t+r));this.readMessageRemaining-=r;t+=r;if(this.readMessageRemaining===0){const e=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage);const t=Buffer.concat(e,this.readMessageSize+5);this.readState=n.NO_DATA;i.push(t)}break;default:throw new Error("Unexpected read state")}}return i}}t.StreamDecoder=r},71140:(e,t)=>{"use strict";var n=t;var r=n.isAbsolute=function e(e){return/^(?:\/|\w+:)/.test(e)};var i=n.normalize=function e(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),n=r(e),i="";if(n)i=t.shift()+"/";for(var s=0;s<t.length;){if(t[s]===".."){if(s>0&&t[s-1]!=="..")t.splice(--s,2);else if(n)t.splice(s,1);else++s}else if(t[s]===".")t.splice(s,1);else++s}return i+t.join("/")};n.resolve=function e(e,t,n){if(!n)t=i(t);if(r(t))return t;if(!n)e=i(e);return(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t}},71202:(e,t,n)=>{"use strict";e.exports=s;var r=n(64824);((s.prototype=Object.create(r.prototype)).constructor=s).className="Method";var i=n(93107);function s(e,t,n,s,o,a,c,l,u){if(i.isObject(o)){c=o;o=a=undefined}else if(i.isObject(a)){c=a;a=undefined}if(!(t===undefined||i.isString(t)))throw TypeError("type must be a string");if(!i.isString(n))throw TypeError("requestType must be a string");if(!i.isString(s))throw TypeError("responseType must be a string");r.call(this,e,c);this.type=t||"rpc";this.requestType=n;this.requestStream=o?true:undefined;this.responseType=s;this.responseStream=a?true:undefined;this.resolvedRequestType=null;this.resolvedResponseType=null;this.comment=l;this.parsedOptions=u}s.fromJSON=function e(e,t){return new s(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)};s.prototype.toJSON=function e(e){var t=e?Boolean(e.keepComments):false;return i.toObject(["type",this.type!=="rpc"&&this.type||undefined,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:undefined,"parsedOptions",this.parsedOptions])};s.prototype.resolve=function e(){if(this.resolved)return this;this.resolvedRequestType=this.parent.lookupType(this.requestType);this.resolvedResponseType=this.parent.lookupType(this.responseType);return r.prototype.resolve.call(this)}},71271:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=t.Propagate=t.LogVerbosity=t.Status=void 0;var n;(function(e){e[e["OK"]=0]="OK";e[e["CANCELLED"]=1]="CANCELLED";e[e["UNKNOWN"]=2]="UNKNOWN";e[e["INVALID_ARGUMENT"]=3]="INVALID_ARGUMENT";e[e["DEADLINE_EXCEEDED"]=4]="DEADLINE_EXCEEDED";e[e["NOT_FOUND"]=5]="NOT_FOUND";e[e["ALREADY_EXISTS"]=6]="ALREADY_EXISTS";e[e["PERMISSION_DENIED"]=7]="PERMISSION_DENIED";e[e["RESOURCE_EXHAUSTED"]=8]="RESOURCE_EXHAUSTED";e[e["FAILED_PRECONDITION"]=9]="FAILED_PRECONDITION";e[e["ABORTED"]=10]="ABORTED";e[e["OUT_OF_RANGE"]=11]="OUT_OF_RANGE";e[e["UNIMPLEMENTED"]=12]="UNIMPLEMENTED";e[e["INTERNAL"]=13]="INTERNAL";e[e["UNAVAILABLE"]=14]="UNAVAILABLE";e[e["DATA_LOSS"]=15]="DATA_LOSS";e[e["UNAUTHENTICATED"]=16]="UNAUTHENTICATED"})(n||(t.Status=n={}));var r;(function(e){e[e["DEBUG"]=0]="DEBUG";e[e["INFO"]=1]="INFO";e[e["ERROR"]=2]="ERROR";e[e["NONE"]=3]="NONE"})(r||(t.LogVerbosity=r={}));var i;(function(e){e[e["DEADLINE"]=1]="DEADLINE";e[e["CENSUS_STATS_CONTEXT"]=2]="CENSUS_STATS_CONTEXT";e[e["CENSUS_TRACING_CONTEXT"]=4]="CENSUS_TRACING_CONTEXT";e[e["CANCELLATION"]=8]="CANCELLATION";e[e["DEFAULTS"]=65535]="DEFAULTS"})(i||(t.Propagate=i={}));t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024},71309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ResolvingLoadBalancer=void 0;const r=n(86239);const i=n(10504);const s=n(18155);const o=n(5674);const a=n(72910);const c=n(50268);const l=n(71271);const u=n(86777);const d=n(31359);const f=n(71271);const h=n(26786);const p=n(72309);const m="resolving_load_balancer";function g(e){d.trace(f.LogVerbosity.DEBUG,m,e)}const y=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function v(e,t,n,r){for(const i of n.name){switch(r){case"EMPTY":if(!i.service&&!i.method){return true}break;case"SERVICE":if(i.service===e&&!i.method){return true}break;case"SERVICE_AND_METHOD":if(i.service===e&&i.method===t){return true}}}return false}function b(e,t,n,r){for(const i of n){if(v(e,t,i,r)){return i}}return null}function w(e){return function t(t,n){var r,i;const s=t.split("/").filter(e=>e.length>0);const o=(r=s[0])!==null&&r!==void 0?r:"";const a=(i=s[1])!==null&&i!==void 0?i:"";if(e&&e.methodConfig){for(const t of y){const n=b(o,a,e.methodConfig,t);if(n){return{methodConfig:n,pickInformation:{},status:l.Status.OK,dynamicFilterFactories:[]}}}}return{methodConfig:{name:[]},pickInformation:{},status:l.Status.OK,dynamicFilterFactories:[]}}}class E{constructor(e,t,n,d,f){this.target=e;this.channelControlHelper=t;this.onSuccessfulResolution=d;this.onFailedResolution=f;this.latestChildState=s.ConnectivityState.IDLE;this.latestChildPicker=new a.QueuePicker(this);this.currentState=s.ConnectivityState.IDLE;this.previousServiceConfig=null;this.continueResolving=false;if(n["grpc.service_config"]){this.defaultServiceConfig=(0,i.validateServiceConfig)(JSON.parse(n["grpc.service_config"]))}else{this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]}}this.updateState(s.ConnectivityState.IDLE,new a.QueuePicker(this));this.childLoadBalancer=new p.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{if(this.backoffTimeout.isRunning()){g("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString());this.continueResolving=true}else{this.updateResolution()}},updateState:(e,t)=>{this.latestChildState=e;this.latestChildPicker=t;this.updateState(e,t)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)});this.innerResolver=(0,o.createResolver)(e,{onSuccessfulResolution:(e,t,n,i,s)=>{var o;this.backoffTimeout.stop();this.backoffTimeout.reset();let a=null;if(t===null){if(n===null){this.previousServiceConfig=null;a=this.defaultServiceConfig}else{if(this.previousServiceConfig===null){this.handleResolutionFailure(n)}else{a=this.previousServiceConfig}}}else{a=t;this.previousServiceConfig=t}const c=(o=a===null||a===void 0?void 0:a.loadBalancingConfig)!==null&&o!==void 0?o:[];const d=(0,r.getFirstUsableConfig)(c,true);if(d===null){this.handleResolutionFailure({code:l.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new u.Metadata});return}this.childLoadBalancer.updateAddressList(e,d,s);const f=a!==null&&a!==void 0?a:this.defaultServiceConfig;this.onSuccessfulResolution(f,i!==null&&i!==void 0?i:w(f))},onError:e=>{this.handleResolutionFailure(e)}},n);const h={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new c.BackoffTimeout(()=>{if(this.continueResolving){this.updateResolution();this.continueResolving=false}else{this.updateState(this.latestChildState,this.latestChildPicker)}},h);this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution();if(this.currentState===s.ConnectivityState.IDLE){this.updateState(s.ConnectivityState.CONNECTING,new a.QueuePicker(this))}this.backoffTimeout.runOnce()}updateState(e,t){g((0,h.uriToString)(this.target)+" "+s.ConnectivityState[this.currentState]+" -> "+s.ConnectivityState[e]);if(e===s.ConnectivityState.IDLE){t=new a.QueuePicker(this)}this.currentState=e;this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){if(this.latestChildState===s.ConnectivityState.IDLE){this.updateState(s.ConnectivityState.TRANSIENT_FAILURE,new a.UnavailablePicker(e));this.onFailedResolution(e)}}exitIdle(){if(this.currentState===s.ConnectivityState.IDLE||this.currentState===s.ConnectivityState.TRANSIENT_FAILURE){if(this.backoffTimeout.isRunning()){this.continueResolving=true}else{this.updateResolution()}}this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset();this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy();this.innerResolver.destroy();this.backoffTimeout.reset();this.backoffTimeout.stop();this.latestChildState=s.ConnectivityState.IDLE;this.latestChildPicker=new a.QueuePicker(this);this.currentState=s.ConnectivityState.IDLE;this.previousServiceConfig=null;this.continueResolving=false}getTypeName(){return"resolving_load_balancer"}}t.ResolvingLoadBalancer=E},72031:(e,t,n)=>{"use strict";n.d(t,{N:()=>p});var r=n(43210);var i=n(11273);var s=n(98599);var o=n(60687);var a=r.forwardRef((e,t)=>{const{children:n,...i}=e;const s=r.Children.toArray(n);const a=s.find(u);if(a){const e=a.props.children;const n=s.map(t=>{if(t===a){if(r.Children.count(e)>1)return r.Children.only(null);return r.isValidElement(e)?e.props.children:null}else{return t}});return(0,o.jsx)(c,{...i,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,o.jsx)(c,{...i,ref:t,children:n})});a.displayName="Slot";var c=r.forwardRef((e,t)=>{const{children:n,...i}=e;if(r.isValidElement(n)){const e=f(n);const o=d(i,n.props);if(n.type!==r.Fragment){o.ref=t?(0,s.t)(t,e):e}return r.cloneElement(n,o)}return r.Children.count(n)>1?r.Children.only(null):null});c.displayName="SlotClone";var l=({children:e})=>{return(0,o.jsx)(o.Fragment,{children:e})};function u(e){return r.isValidElement(e)&&e.type===l}function d(e,t){const n={...t};for(const r in t){const i=e[r];const s=t[r];const o=/^on[A-Z]/.test(r);if(o){if(i&&s){n[r]=(...e)=>{s(...e);i(...e)}}else if(i){n[r]=i}}else if(r==="style"){n[r]={...i,...s}}else if(r==="className"){n[r]=[i,s].filter(Boolean).join(" ")}}return{...e,...n}}function f(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get;let n=t&&"isReactWarning"in t&&t.isReactWarning;if(n){return e.ref}t=Object.getOwnPropertyDescriptor(e,"ref")?.get;n=t&&"isReactWarning"in t&&t.isReactWarning;if(n){return e.props.ref}return e.props.ref||e.ref}var h=null&&a;function p(e){const t=e+"CollectionProvider";const[n,c]=(0,i.A)(t);const[l,u]=n(t,{collectionRef:{current:null},itemMap:new Map});const d=e=>{const{scope:t,children:n}=e;const i=r.useRef(null);const s=r.useRef(new Map).current;return(0,o.jsx)(l,{scope:t,itemMap:s,collectionRef:i,children:n})};d.displayName=t;const f=e+"CollectionSlot";const h=r.forwardRef((e,t)=>{const{scope:n,children:r}=e;const i=u(f,n);const c=(0,s.s)(t,i.collectionRef);return(0,o.jsx)(a,{ref:c,children:r})});h.displayName=f;const p=e+"CollectionItemSlot";const m="data-radix-collection-item";const g=r.forwardRef((e,t)=>{const{scope:n,children:i,...c}=e;const l=r.useRef(null);const d=(0,s.s)(t,l);const f=u(p,n);r.useEffect(()=>{f.itemMap.set(l,{ref:l,...c});return()=>void f.itemMap.delete(l)});return(0,o.jsx)(a,{...{[m]:""},ref:d,children:i})});g.displayName=p;function y(t){const n=u(e+"CollectionConsumer",t);const i=r.useCallback(()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${m}]`));const r=Array.from(n.itemMap.values());const i=r.sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current));return i},[n.collectionRef,n.itemMap]);return i}return[{Provider:d,Slot:h,ItemSlot:g},y,c]}},72309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ChildLoadBalancerHandler=void 0;const r=n(86239);const i=n(18155);const s="child_load_balancer_helper";class o{constructor(e){this.channelControlHelper=e;this.currentChild=null;this.pendingChild=null;this.latestConfig=null;this.ChildPolicyHelper=class{constructor(e){this.parent=e;this.child=null}createSubchannel(e,t){return this.parent.channelControlHelper.createSubchannel(e,t)}updateState(e,t){var n;if(this.calledByPendingChild()){if(e===i.ConnectivityState.CONNECTING){return}(n=this.parent.currentChild)===null||n===void 0?void 0:n.destroy();this.parent.currentChild=this.parent.pendingChild;this.parent.pendingChild=null}else if(!this.calledByCurrentChild()){return}this.parent.channelControlHelper.updateState(e,t)}requestReresolution(){var e;const t=(e=this.parent.pendingChild)!==null&&e!==void 0?e:this.parent.currentChild;if(this.child===t){this.parent.channelControlHelper.requestReresolution()}}setChild(e){this.child=e}addChannelzChild(e){this.parent.channelControlHelper.addChannelzChild(e)}removeChannelzChild(e){this.parent.channelControlHelper.removeChannelzChild(e)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,n){let i;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){const e=new this.ChildPolicyHelper(this);const n=(0,r.createLoadBalancer)(t,e);e.setChild(n);if(this.currentChild===null){this.currentChild=n;i=this.currentChild}else{if(this.pendingChild){this.pendingChild.destroy()}this.pendingChild=n;i=this.pendingChild}}else{if(this.pendingChild===null){i=this.currentChild}else{i=this.pendingChild}}this.latestConfig=t;i.updateAddressList(e,t,n)}exitIdle(){if(this.currentChild){this.currentChild.exitIdle();if(this.pendingChild){this.pendingChild.exitIdle()}}}resetBackoff(){if(this.currentChild){this.currentChild.resetBackoff();if(this.pendingChild){this.pendingChild.resetBackoff()}}}destroy(){if(this.currentChild){this.currentChild.destroy();this.currentChild=null}if(this.pendingChild){this.pendingChild.destroy();this.pendingChild=null}}getTypeName(){return s}}t.ChildLoadBalancerHandler=o},72639:(e,t,n)=>{"use strict";n.r(t);n.d(t,{_:()=>r});function r(e){return e&&e.__esModule?e:{default:e}}},72859:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{INTERCEPTION_ROUTE_MARKERS:function(){return s},extractInterceptionRouteInformation:function(){return a},isInterceptionRouteAppPath:function(){return o}});const i=n(39444);const s=["(..)(..)","(.)","(..)","(...)"];function o(e){return e.split("/").find(e=>s.find(t=>e.startsWith(t)))!==undefined}function a(e){let t,n,r;for(const i of e.split("/")){n=s.find(e=>i.startsWith(e));if(n){;[t,r]=e.split(n,2);break}}if(!t||!n||!r){throw Object.defineProperty(new Error("Invalid interception route: "+e+". Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>"),"__NEXT_ERROR_CODE",{value:"E269",enumerable:false,configurable:true})}t=(0,i.normalizeAppPath)(t);switch(n){case"(.)":if(t==="/"){r="/"+r}else{r=t+"/"+r}break;case"(..)":if(t==="/"){throw Object.defineProperty(new Error("Invalid interception route: "+e+". Cannot use (..) marker at the root level, use (.) instead."),"__NEXT_ERROR_CODE",{value:"E207",enumerable:false,configurable:true})}r=t.split("/").slice(0,-1).concat(r).join("/");break;case"(...)":r="/"+r;break;case"(..)(..)":const o=t.split("/");if(o.length<=2){throw Object.defineProperty(new Error("Invalid interception route: "+e+". Cannot use (..)(..) marker at the root level or one level up."),"__NEXT_ERROR_CODE",{value:"E486",enumerable:false,configurable:true})}r=o.slice(0,-2).concat(r).join("/");break;default:throw Object.defineProperty(new Error("Invariant: unexpected marker"),"__NEXT_ERROR_CODE",{value:"E112",enumerable:false,configurable:true})}return{interceptingRoute:t,interceptedRoute:r}}},72900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{preconnect:function(){return c},preloadFont:function(){return a},preloadStyle:function(){return o}});const i=s(n(46033));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){const r={as:"style"};if(typeof t==="string"){r.crossOrigin=t}if(typeof n==="string"){r.nonce=n}i.default.preload(e,r)}function a(e,t,n,r){const s={as:"font",type:t};if(typeof n==="string"){s.crossOrigin=n}if(typeof r==="string"){s.nonce=r}i.default.preload(e,s)}function c(e,t,n){const r={};if(typeof t==="string"){r.crossOrigin=t}if(typeof n==="string"){r.nonce=n};i.default.preconnect(e,r)}},72910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.QueuePicker=t.UnavailablePicker=t.PickResultType=void 0;const r=n(86777);const i=n(71271);var s;(function(e){e[e["COMPLETE"]=0]="COMPLETE";e[e["QUEUE"]=1]="QUEUE";e[e["TRANSIENT_FAILURE"]=2]="TRANSIENT_FAILURE";e[e["DROP"]=3]="DROP"})(s||(t.PickResultType=s={}));class o{constructor(e){this.status=Object.assign({code:i.Status.UNAVAILABLE,details:"No connection established",metadata:new r.Metadata},e)}pick(e){return{pickResultType:s.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}t.UnavailablePicker=o;class a{constructor(e){this.loadBalancer=e;this.calledExitIdle=false}pick(e){if(!this.calledExitIdle){process.nextTick(()=>{this.loadBalancer.exitIdle()});this.calledExitIdle=true}return{pickResultType:s.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}t.QueuePicker=a},73102:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{createParamsFromClient:function(){return f},createPrerenderParamsForClientSegment:function(){return g},createServerParamsForMetadata:function(){return h},createServerParamsForRoute:function(){return p},createServerParamsForServerSegment:function(){return m}});const i=n(43763);const s=n(84971);const o=n(63033);const a=n(71617);const c=n(72609);const l=n(68388);const u=n(76926);const d=n(44523);function f(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(e,t,n);default:}}return v(e,t)}const h=m;function p(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(e,t,n);default:}}return v(e,t)}function m(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(e,t,n);default:}}return v(e,t)}function g(e,t){const n=o.workUnitAsyncStorage.getStore();if(n&&n.type==="prerender"){const r=t.fallbackRouteParams;if(r){for(let t in e){if(r.has(t)){return(0,l.makeHangingPromise)(n.renderSignal,"`params`")}}}}return Promise.resolve(e)}function y(e,t,n){const r=t.fallbackRouteParams;if(r){let i=false;for(const t in e){if(r.has(t)){i=true;break}}if(i){if(n.type==="prerender"){return w(e,t.route,n)}return E(e,r,t,n)}}return _(e)}function v(e,t){if(false){}else{return _(e)}}const b=new WeakMap;function w(e,t,n){const r=b.get(e);if(r){return r}const i=(0,l.makeHangingPromise)(n.renderSignal,"`params`");b.set(e,i);Object.keys(e).forEach(e=>{if(c.wellKnownProperties.has(e)){}else{Object.defineProperty(i,e,{get(){const r=(0,c.describeStringPropertyAccess)("params",e);const i=R(t,r);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(t,r,i,n)},set(t){Object.defineProperty(i,e,{value:t,writable:true,enumerable:true})},enumerable:true,configurable:true})}});return i}function E(e,t,n,r){const i=b.get(e);if(i){return i}const o={...e};const a=Promise.resolve(o);b.set(e,a);Object.keys(e).forEach(i=>{if(c.wellKnownProperties.has(i)){}else{if(t.has(i)){Object.defineProperty(o,i,{get(){const e=(0,c.describeStringPropertyAccess)("params",i);if(r.type==="prerender-ppr"){(0,s.postponeWithTracking)(n.route,e,r.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(e,n,r)}},enumerable:true});Object.defineProperty(a,i,{get(){const e=(0,c.describeStringPropertyAccess)("params",i);if(r.type==="prerender-ppr"){(0,s.postponeWithTracking)(n.route,e,r.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(e,n,r)}},set(e){Object.defineProperty(a,i,{value:e,writable:true,enumerable:true})},enumerable:true,configurable:true})}else{;a[i]=e[i]}}});return a}function _(e){const t=b.get(e);if(t){return t}const n=Promise.resolve(e);b.set(e,n);Object.keys(e).forEach(t=>{if(c.wellKnownProperties.has(t)){}else{;n[t]=e[t]}});return n}function S(e,t){const n=b.get(e);if(n){return n}const r=new Promise(t=>(0,d.scheduleImmediate)(()=>t(e)));const s=new Set;const o=[];Object.keys(e).forEach(t=>{if(c.wellKnownProperties.has(t)){o.push(t)}else{s.add(t);r[t]=e[t]}});const a=new Proxy(r,{get(e,n,r){if(typeof n==="string"){if(s.has(n)){const e=(0,c.describeStringPropertyAccess)("params",n);T(t.route,e)}}return i.ReflectAdapter.get(e,n,r)},set(e,t,n,r){if(typeof t==="string"){s.delete(t)}return i.ReflectAdapter.set(e,t,n,r)},ownKeys(e){const n="`...params` or similar expression";T(t.route,n,o);return Reflect.ownKeys(e)}});b.set(e,a);return a}function T(e,t,n){const r=o.workUnitAsyncStorage.getStore();if(r&&r.type==="request"&&r.prerenderPhase===true){const e=r;(0,s.trackSynchronousRequestDataAccessInDev)(e)}if(n&&n.length>0){I(e,t,n)}else{C(e,t)}}const C=(0,u.createDedupedByCallsiteServerErrorLoggerDev)(R);const I=(0,u.createDedupedByCallsiteServerErrorLoggerDev)(O);function R(e,t){const n=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${n}used ${t}. `+`\`params\` should be awaited before using its properties. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E307",enumerable:false,configurable:true})}function O(e,t,n){const r=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${r}used ${t}. `+`\`params\` should be awaited before using its properties. `+`The following properties were not available through enumeration `+`because they conflict with builtin property names: `+`${A(n)}. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E482",enumerable:false,configurable:true})}function A(e){switch(e.length){case 0:throw Object.defineProperty(new a.InvariantError("Expected describeListOfPropertyNames to be called with a non-empty list of strings."),"__NEXT_ERROR_CODE",{value:"E531",enumerable:false,configurable:true});case 1:return`\`${e[0]}\``;case 2:return`\`${e[0]}\` and \`${e[1]}\``;default:{let t="";for(let n=0;n<e.length-1;n++){t+=`\`${e[n]}\`, `}t+=`, and \`${e[e.length-1]}\``;return t}}}},73267:(e,t,n)=>{"use strict";e.exports=l;var r=n(64824);((l.prototype=Object.create(r.prototype)).constructor=l).className="Field";var i=n(32110),s=n(61810),o=n(93107);var a;var c=/^required|optional|repeated$/;l.fromJSON=function e(e,t){var n=new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment);if(t.edition)n._edition=t.edition;n._defaultEdition="proto3";return n};function l(e,t,n,i,a,l,u){if(o.isObject(i)){u=a;l=i;i=a=undefined}else if(o.isObject(a)){u=l;l=a;a=undefined}r.call(this,e,l);if(!o.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!o.isString(n))throw TypeError("type must be a string");if(i!==undefined&&!c.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(a!==undefined&&!o.isString(a))throw TypeError("extend must be a string");if(i==="proto3_optional"){i="optional"}this.rule=i&&i!=="optional"?i:undefined;this.type=n;this.id=t;this.extend=a||undefined;this.repeated=i==="repeated";this.map=false;this.message=null;this.partOf=null;this.typeDefault=null;this.defaultValue=null;this.long=o.Long?s.long[n]!==undefined:false;this.bytes=n==="bytes";this.resolvedType=null;this.extensionField=null;this.declaringField=null;this.comment=u}Object.defineProperty(l.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}});Object.defineProperty(l.prototype,"optional",{get:function(){return!this.required}});Object.defineProperty(l.prototype,"delimited",{get:function(){return this.resolvedType instanceof a&&this._features.message_encoding==="DELIMITED"}});Object.defineProperty(l.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}});Object.defineProperty(l.prototype,"hasPresence",{get:function(){if(this.repeated||this.map){return false}return this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}});l.prototype.setOption=function e(e,t,n){return r.prototype.setOption.call(this,e,t,n)};l.prototype.toJSON=function e(e){var t=e?Boolean(e.keepComments):false;return o.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||undefined,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])};l.prototype.resolve=function e(){if(this.resolved)return this;if((this.typeDefault=s.defaults[this.type])===undefined){this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type);if(this.resolvedType instanceof a)this.typeDefault=null;else this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]}else if(this.options&&this.options.proto3_optional){this.typeDefault=null}if(this.options&&this.options["default"]!=null){this.typeDefault=this.options["default"];if(this.resolvedType instanceof i&&typeof this.typeDefault==="string")this.typeDefault=this.resolvedType.values[this.typeDefault]}if(this.options){if(this.options.packed!==undefined&&this.resolvedType&&!(this.resolvedType instanceof i))delete this.options.packed;if(!Object.keys(this.options).length)this.options=undefined}if(this.long){this.typeDefault=o.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u");if(Object.freeze)Object.freeze(this.typeDefault)}else if(this.bytes&&typeof this.typeDefault==="string"){var e;if(o.base64.test(this.typeDefault))o.base64.decode(this.typeDefault,e=o.newBuffer(o.base64.length(this.typeDefault)),0);else o.utf8.write(this.typeDefault,e=o.newBuffer(o.utf8.length(this.typeDefault)),0);this.typeDefault=e}if(this.map)this.defaultValue=o.emptyObject;else if(this.repeated)this.defaultValue=o.emptyArray;else this.defaultValue=this.typeDefault;if(this.parent instanceof a)this.parent.ctor.prototype[this.name]=this.defaultValue;return r.prototype.resolve.call(this)};l.prototype._inferLegacyProtoFeatures=function e(e){if(e!=="proto2"&&e!=="proto3"){return{}}var t={};if(this.rule==="required"){t.field_presence="LEGACY_REQUIRED"}if(this.parent&&s.defaults[this.type]===undefined){var n=this.parent.get(this.type.split(".").pop());if(n&&n instanceof a&&n.group){t.message_encoding="DELIMITED"}}if(this.getOption("packed")===true){t.repeated_field_encoding="PACKED"}else if(this.getOption("packed")===false){t.repeated_field_encoding="EXPANDED"}return t};l.prototype._resolveFeatures=function e(e){return r.prototype._resolveFeatures.call(this,this._edition||e)};l.d=function e(e,t,n,r){if(typeof t==="function")t=o.decorateType(t).name;else if(t&&typeof t==="object")t=o.decorateEnum(t).name;return function i(i,s){o.decorateType(i.constructor).add(new l(s,e,t,n,{"default":r}))}};l._configure=function e(e){a=e}},73911:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.restrictControlPlaneStatusCode=void 0;const r=n(71271);const i=[r.Status.OK,r.Status.INVALID_ARGUMENT,r.Status.NOT_FOUND,r.Status.ALREADY_EXISTS,r.Status.FAILED_PRECONDITION,r.Status.ABORTED,r.Status.OUT_OF_RANGE,r.Status.DATA_LOSS];function s(e,t){if(i.includes(e)){return{code:r.Status.INTERNAL,details:`Invalid status from control plane: ${e} ${r.Status[e]} ${t}`}}else{return{code:e,details:t}}}t.restrictControlPlaneStatusCode=s},74007:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{getFlightDataPartsFromPath:function(){return r},getNextFlightSegmentPath:function(){return i},normalizeFlightData:function(){return s}});function r(e){const t=4;const[n,r,i,s]=e.slice(-t);const o=e.slice(0,-t);var a;return{pathToSegment:o.slice(0,-1),segmentPath:o,segment:(a=o[o.length-1])!=null?a:"",tree:n,seedData:r,head:i,isHeadPartial:s,isRootRender:e.length===t}}function i(e){return e.slice(2)}function s(e){if(typeof e==="string"){return e}return e.map(r)}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},75108:e=>{"use strict";e.exports=t;function t(e,t){var n=new Array(arguments.length-1),r=0,i=2,s=true;while(i<arguments.length)n[r++]=arguments[i++];return new Promise(function i(i,o){n[r]=function e(e){if(s){s=false;if(e)o(e);else{var t=new Array(arguments.length-1),n=0;while(n<t.length)t[n++]=arguments[n];i.apply(null,t)}}};try{e.apply(t||null,n)}catch(e){if(s){s=false;o(e)}}})}},75317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{bgBlack:function(){return R},bgBlue:function(){return x},bgCyan:function(){return N},bgGreen:function(){return A},bgMagenta:function(){return P},bgRed:function(){return O},bgWhite:function(){return D},bgYellow:function(){return k},black:function(){return y},blue:function(){return E},bold:function(){return u},cyan:function(){return T},dim:function(){return d},gray:function(){return I},green:function(){return b},hidden:function(){return m},inverse:function(){return p},italic:function(){return f},magenta:function(){return _},purple:function(){return S},red:function(){return v},reset:function(){return l},strikethrough:function(){return g},underline:function(){return h},white:function(){return C},yellow:function(){return w}});var r;const{env:i,stdout:s}=((r=globalThis)==null?void 0:r.process)??{};const o=i&&!i.NO_COLOR&&(i.FORCE_COLOR||(s==null?void 0:s.isTTY)&&!i.CI&&i.TERM!=="dumb");const a=(e,t,n,r)=>{const i=e.substring(0,r)+n;const s=e.substring(r+t.length);const o=s.indexOf(t);return~o?i+a(s,t,n,o):i+s};const c=(e,t,n=e)=>{if(!o)return String;return r=>{const i=""+r;const s=i.indexOf(t,e.length);return~s?e+a(i,t,n,s)+t:e+i+t}};const l=o?e=>`\x1b[0m${e}\x1b[0m`:String;const u=c("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m");const d=c("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m");const f=c("\x1b[3m","\x1b[23m");const h=c("\x1b[4m","\x1b[24m");const p=c("\x1b[7m","\x1b[27m");const m=c("\x1b[8m","\x1b[28m");const g=c("\x1b[9m","\x1b[29m");const y=c("\x1b[30m","\x1b[39m");const v=c("\x1b[31m","\x1b[39m");const b=c("\x1b[32m","\x1b[39m");const w=c("\x1b[33m","\x1b[39m");const E=c("\x1b[34m","\x1b[39m");const _=c("\x1b[35m","\x1b[39m");const S=c("\x1b[38;2;173;127;168m","\x1b[39m");const T=c("\x1b[36m","\x1b[39m");const C=c("\x1b[37m","\x1b[39m");const I=c("\x1b[90m","\x1b[39m");const R=c("\x1b[40m","\x1b[49m");const O=c("\x1b[41m","\x1b[49m");const A=c("\x1b[42m","\x1b[49m");const k=c("\x1b[43m","\x1b[49m");const x=c("\x1b[44m","\x1b[49m");const P=c("\x1b[45m","\x1b[49m");const N=c("\x1b[46m","\x1b[49m");const D=c("\x1b[47m","\x1b[49m")},75535:(e,t,n)=>{"use strict";n.d(t,{aU:()=>mp});var r=n(27728);var i=n(35545);var s=n(88060);var o=n(28354);var a=n(52122);var c=n(55511);var l=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};var u={};var d;var f;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype;e.D=t.prototype;e.prototype=new n;e.prototype.constructor=e;e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1;this.blockSize=64;this.g=Array(4);this.B=Array(this.blockSize);this.o=this.h=0;this.s()}t(r,n);r.prototype.s=function(){this.g[0]=0x67452301;this.g[1]=0xefcdab89;this.g[2]=0x98badcfe;this.g[3]=0x10325476;this.o=this.h=0};function i(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0];n=e.g[1];i=e.g[2];var s=e.g[3];var o=t+(s^n&(i^s))+r[0]+0xd76aa478&0xffffffff;t=n+(o<<7&0xffffffff|o>>>25);o=s+(i^t&(n^i))+r[1]+0xe8c7b756&0xffffffff;s=t+(o<<12&0xffffffff|o>>>20);o=i+(n^s&(t^n))+r[2]+0x242070db&0xffffffff;i=s+(o<<17&0xffffffff|o>>>15);o=n+(t^i&(s^t))+r[3]+0xc1bdceee&0xffffffff;n=i+(o<<22&0xffffffff|o>>>10);o=t+(s^n&(i^s))+r[4]+0xf57c0faf&0xffffffff;t=n+(o<<7&0xffffffff|o>>>25);o=s+(i^t&(n^i))+r[5]+0x4787c62a&0xffffffff;s=t+(o<<12&0xffffffff|o>>>20);o=i+(n^s&(t^n))+r[6]+0xa8304613&0xffffffff;i=s+(o<<17&0xffffffff|o>>>15);o=n+(t^i&(s^t))+r[7]+0xfd469501&0xffffffff;n=i+(o<<22&0xffffffff|o>>>10);o=t+(s^n&(i^s))+r[8]+0x698098d8&0xffffffff;t=n+(o<<7&0xffffffff|o>>>25);o=s+(i^t&(n^i))+r[9]+0x8b44f7af&0xffffffff;s=t+(o<<12&0xffffffff|o>>>20);o=i+(n^s&(t^n))+r[10]+0xffff5bb1&0xffffffff;i=s+(o<<17&0xffffffff|o>>>15);o=n+(t^i&(s^t))+r[11]+0x895cd7be&0xffffffff;n=i+(o<<22&0xffffffff|o>>>10);o=t+(s^n&(i^s))+r[12]+0x6b901122&0xffffffff;t=n+(o<<7&0xffffffff|o>>>25);o=s+(i^t&(n^i))+r[13]+0xfd987193&0xffffffff;s=t+(o<<12&0xffffffff|o>>>20);o=i+(n^s&(t^n))+r[14]+0xa679438e&0xffffffff;i=s+(o<<17&0xffffffff|o>>>15);o=n+(t^i&(s^t))+r[15]+0x49b40821&0xffffffff;n=i+(o<<22&0xffffffff|o>>>10);o=t+(i^s&(n^i))+r[1]+0xf61e2562&0xffffffff;t=n+(o<<5&0xffffffff|o>>>27);o=s+(n^i&(t^n))+r[6]+0xc040b340&0xffffffff;s=t+(o<<9&0xffffffff|o>>>23);o=i+(t^n&(s^t))+r[11]+0x265e5a51&0xffffffff;i=s+(o<<14&0xffffffff|o>>>18);o=n+(s^t&(i^s))+r[0]+0xe9b6c7aa&0xffffffff;n=i+(o<<20&0xffffffff|o>>>12);o=t+(i^s&(n^i))+r[5]+0xd62f105d&0xffffffff;t=n+(o<<5&0xffffffff|o>>>27);o=s+(n^i&(t^n))+r[10]+0x2441453&0xffffffff;s=t+(o<<9&0xffffffff|o>>>23);o=i+(t^n&(s^t))+r[15]+0xd8a1e681&0xffffffff;i=s+(o<<14&0xffffffff|o>>>18);o=n+(s^t&(i^s))+r[4]+0xe7d3fbc8&0xffffffff;n=i+(o<<20&0xffffffff|o>>>12);o=t+(i^s&(n^i))+r[9]+0x21e1cde6&0xffffffff;t=n+(o<<5&0xffffffff|o>>>27);o=s+(n^i&(t^n))+r[14]+0xc33707d6&0xffffffff;s=t+(o<<9&0xffffffff|o>>>23);o=i+(t^n&(s^t))+r[3]+0xf4d50d87&0xffffffff;i=s+(o<<14&0xffffffff|o>>>18);o=n+(s^t&(i^s))+r[8]+0x455a14ed&0xffffffff;n=i+(o<<20&0xffffffff|o>>>12);o=t+(i^s&(n^i))+r[13]+0xa9e3e905&0xffffffff;t=n+(o<<5&0xffffffff|o>>>27);o=s+(n^i&(t^n))+r[2]+0xfcefa3f8&0xffffffff;s=t+(o<<9&0xffffffff|o>>>23);o=i+(t^n&(s^t))+r[7]+0x676f02d9&0xffffffff;i=s+(o<<14&0xffffffff|o>>>18);o=n+(s^t&(i^s))+r[12]+0x8d2a4c8a&0xffffffff;n=i+(o<<20&0xffffffff|o>>>12);o=t+(n^i^s)+r[5]+0xfffa3942&0xffffffff;t=n+(o<<4&0xffffffff|o>>>28);o=s+(t^n^i)+r[8]+0x8771f681&0xffffffff;s=t+(o<<11&0xffffffff|o>>>21);o=i+(s^t^n)+r[11]+0x6d9d6122&0xffffffff;i=s+(o<<16&0xffffffff|o>>>16);o=n+(i^s^t)+r[14]+0xfde5380c&0xffffffff;n=i+(o<<23&0xffffffff|o>>>9);o=t+(n^i^s)+r[1]+0xa4beea44&0xffffffff;t=n+(o<<4&0xffffffff|o>>>28);o=s+(t^n^i)+r[4]+0x4bdecfa9&0xffffffff;s=t+(o<<11&0xffffffff|o>>>21);o=i+(s^t^n)+r[7]+0xf6bb4b60&0xffffffff;i=s+(o<<16&0xffffffff|o>>>16);o=n+(i^s^t)+r[10]+0xbebfbc70&0xffffffff;n=i+(o<<23&0xffffffff|o>>>9);o=t+(n^i^s)+r[13]+0x289b7ec6&0xffffffff;t=n+(o<<4&0xffffffff|o>>>28);o=s+(t^n^i)+r[0]+0xeaa127fa&0xffffffff;s=t+(o<<11&0xffffffff|o>>>21);o=i+(s^t^n)+r[3]+0xd4ef3085&0xffffffff;i=s+(o<<16&0xffffffff|o>>>16);o=n+(i^s^t)+r[6]+0x4881d05&0xffffffff;n=i+(o<<23&0xffffffff|o>>>9);o=t+(n^i^s)+r[9]+0xd9d4d039&0xffffffff;t=n+(o<<4&0xffffffff|o>>>28);o=s+(t^n^i)+r[12]+0xe6db99e5&0xffffffff;s=t+(o<<11&0xffffffff|o>>>21);o=i+(s^t^n)+r[15]+0x1fa27cf8&0xffffffff;i=s+(o<<16&0xffffffff|o>>>16);o=n+(i^s^t)+r[2]+0xc4ac5665&0xffffffff;n=i+(o<<23&0xffffffff|o>>>9);o=t+(i^(n|~s))+r[0]+0xf4292244&0xffffffff;t=n+(o<<6&0xffffffff|o>>>26);o=s+(n^(t|~i))+r[7]+0x432aff97&0xffffffff;s=t+(o<<10&0xffffffff|o>>>22);o=i+(t^(s|~n))+r[14]+0xab9423a7&0xffffffff;i=s+(o<<15&0xffffffff|o>>>17);o=n+(s^(i|~t))+r[5]+0xfc93a039&0xffffffff;n=i+(o<<21&0xffffffff|o>>>11);o=t+(i^(n|~s))+r[12]+0x655b59c3&0xffffffff;t=n+(o<<6&0xffffffff|o>>>26);o=s+(n^(t|~i))+r[3]+0x8f0ccc92&0xffffffff;s=t+(o<<10&0xffffffff|o>>>22);o=i+(t^(s|~n))+r[10]+0xffeff47d&0xffffffff;i=s+(o<<15&0xffffffff|o>>>17);o=n+(s^(i|~t))+r[1]+0x85845dd1&0xffffffff;n=i+(o<<21&0xffffffff|o>>>11);o=t+(i^(n|~s))+r[8]+0x6fa87e4f&0xffffffff;t=n+(o<<6&0xffffffff|o>>>26);o=s+(n^(t|~i))+r[15]+0xfe2ce6e0&0xffffffff;s=t+(o<<10&0xffffffff|o>>>22);o=i+(t^(s|~n))+r[6]+0xa3014314&0xffffffff;i=s+(o<<15&0xffffffff|o>>>17);o=n+(s^(i|~t))+r[13]+0x4e0811a1&0xffffffff;n=i+(o<<21&0xffffffff|o>>>11);o=t+(i^(n|~s))+r[4]+0xf7537e82&0xffffffff;t=n+(o<<6&0xffffffff|o>>>26);o=s+(n^(t|~i))+r[11]+0xbd3af235&0xffffffff;s=t+(o<<10&0xffffffff|o>>>22);o=i+(t^(s|~n))+r[2]+0x2ad7d2bb&0xffffffff;i=s+(o<<15&0xffffffff|o>>>17);o=n+(s^(i|~t))+r[9]+0xeb86d391&0xffffffff;e.g[0]=e.g[0]+t&0xffffffff;e.g[1]=e.g[1]+(i+(o<<21&0xffffffff|o>>>11))&0xffffffff;e.g[2]=e.g[2]+i&0xffffffff;e.g[3]=e.g[3]+s&0xffffffff}r.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=n;)i(this,e,o),o+=this.blockSize;if("string"===typeof e)for(;o<t;){if(r[s++]=e.charCodeAt(o++),s==this.blockSize){i(this,r);s=0;break}}else for(;o<t;)if(r[s++]=e[o++],s==this.blockSize){i(this,r);s=0;break}}this.h=s;this.o+=t};r.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;this.u(e);e=Array(16);for(t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function s(e,t){var n=a;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var a={};function c(e){return-128<=e&&128>e?s(e,function(e){return new o([e|0],0>e?-1:0)}):new o([e|0],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return p;if(0>e)return b(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=0x100000000;return new o(t,0)}function h(e,t){if(0==e.length)throw Error("number format error: empty string");t=t||10;if(2>t||36<t)throw Error("radix out of range: "+t);if("-"==e.charAt(0))return b(h(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=l(Math.pow(t,8)),r=p,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=l(Math.pow(t,s)),r=r.j(s).add(l(o))):(r=r.j(n),r=r.add(l(o)))}return r}var p=c(0),m=c(1),g=c(0x1000000);e=o.prototype;e.m=function(){if(v(this))return-b(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:0x100000000+r)*t;t*=0x100000000}return e};e.toString=function(e){e=e||10;if(2>e||36<e)throw Error("radix out of range: "+e);if(y(this))return"0";if(v(this))return"-"+b(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,r="";;){var i=S(n,t).g;n=w(n,i.j(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);n=i;if(y(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function y(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function v(e){return-1==e.h}e.l=function(e){e=w(this,e);return v(e)?-1:y(e)?0:1};function b(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(m)}e.abs=function(){return v(this)?b(this):this};e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.i(i)&65535)+(e.i(i)&65535),a=(s>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16;s&=65535;a&=65535;n[i]=a<<16|s}return new o(n,n[n.length-1]&-0x80000000?-1:0)};function w(e,t){return e.add(b(t))}e.j=function(e){if(y(this)||y(e))return p;if(v(this))return v(e)?b(this).j(b(e)):b(b(this).j(e));if(v(e))return b(this.j(b(e)));if(0>this.l(g)&&0>e.l(g))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.i(r)>>>16,a=this.i(r)&65535,c=e.i(i)>>>16,u=e.i(i)&65535;n[2*r+2*i]+=a*u;E(n,2*r+2*i);n[2*r+2*i+1]+=s*u;E(n,2*r+2*i+1);n[2*r+2*i+1]+=a*c;E(n,2*r+2*i+1);n[2*r+2*i+2]+=s*c;E(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new o(n,0)};function E(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function _(e,t){this.g=e;this.h=t}function S(e,t){if(y(t))throw Error("division by zero");if(y(e))return new _(p,p);if(v(e))return t=S(b(e),t),new _(b(t.g),b(t.h));if(v(t))return t=S(e,b(t)),new _(b(t.g),t.h);if(30<e.g.length){if(v(e)||v(t))throw Error("slowDivide_ only works with positive integers.");for(var n=m,r=t;0>=r.l(e);)n=T(n),r=T(r);var i=C(n,1),s=C(r,1);r=C(r,2);for(n=C(n,2);!y(r);){var o=s.add(r);0>=o.l(e)&&(i=i.add(n),s=o);r=C(r,1);n=C(n,1)}t=w(e,i.j(t));return new _(i,t)}for(i=p;0<=e.l(t);){n=Math.max(1,Math.floor(e.m()/t.m()));r=Math.ceil(Math.log(n)/Math.LN2);r=48>=r?1:Math.pow(2,r-48);s=l(n);for(o=s.j(t);v(o)||0<o.l(e);)n-=r,s=l(n),o=s.j(t);y(s)&&(s=m);i=i.add(s);e=w(e,o)}return new _(i,e)}e.A=function(e){return S(this,e).h};e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)};e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)};e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function T(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function C(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new o(i,e.h)}r.prototype.digest=r.prototype.v;r.prototype.reset=r.prototype.s;r.prototype.update=r.prototype.u;f=u.Md5=r;o.prototype.add=o.prototype.add;o.prototype.multiply=o.prototype.j;o.prototype.modulo=o.prototype.A;o.prototype.compare=o.prototype.l;o.prototype.toNumber=o.prototype.m;o.prototype.toString=o.prototype.toString;o.prototype.getBits=o.prototype.i;o.fromNumber=l;o.fromString=h;d=u.Integer=o}).apply(typeof l!=="undefined"?l:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});var h=n(36142);var p=n(97587);const m="@firebase/firestore";const g="4.7.17";class y{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){if(this.isAuthenticated()){return"uid:"+this.uid}else{return"anonymous-user"}}isEqual(e){return e.uid===this.uid}}y.UNAUTHENTICATED=new y(null);y.GOOGLE_CREDENTIALS=new y("google-credentials-uid");y.FIRST_PARTY=new y("first-party-uid");y.MOCK_USER=new y("mock-user");const v="11.9.0";let b=v;function w(e){b=e}function E(e){return(0,o.inspect)(e,{depth:100})}const _=new s.Vy("@firebase/firestore");function S(){return _.logLevel}function T(e){_.setLogLevel(e)}function C(e,...t){if(_.logLevel<=s.$b.DEBUG){const n=t.map(O);_.debug(`Firestore (${b}): ${e}`,...n)}}function I(e,...t){if(_.logLevel<=s.$b.ERROR){const n=t.map(O);_.error(`Firestore (${b}): ${e}`,...n)}}function R(e,...t){if(_.logLevel<=s.$b.WARN){const n=t.map(O);_.warn(`Firestore (${b}): ${e}`,...n)}}function O(e){if(typeof e==="string"){return e}else{try{return E(e)}catch(t){return e}}}function A(e,t,n){let r="Unexpected state";if(typeof t==="string"){r=t}else{n=t}k(e,r,n)}function k(e,t,n){let r=`FIRESTORE (${b}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==undefined){try{const e=JSON.stringify(n);r+=" CONTEXT: "+e}catch(e){r+=" CONTEXT: "+n}}I(r);throw new Error(r)}function x(e,t,n,r){let i="Unexpected state";if(typeof n==="string"){i=n}else{r=n}if(!e){k(t,i,r)}}function P(e,t){if(!e){A(57014,t)}}function N(e,t){return e}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends a.g{constructor(e,t){super(e,t);this.code=e;this.message=t;this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class L{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e;this.reject=t})}}class j{constructor(e,t){this.user=t;this.type="OAuth";this.headers=new Map;this.headers.set("Authorization",`Bearer ${e}`)}}class F{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(y.UNAUTHENTICATED))}shutdown(){}}class B{constructor(e){this.token=e;this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t;e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class U{constructor(e){this.authProvider=e;this.currentUser=y.UNAUTHENTICATED;this.tokenCounter=0;this.forceRefresh=false;this.auth=null}start(e,t){x(this.tokenListener===undefined,42304);let n=this.tokenCounter;const r=e=>{if(this.tokenCounter!==n){n=this.tokenCounter;return t(e)}else{return Promise.resolve()}};let i=new L;this.tokenListener=()=>{this.tokenCounter++;this.currentUser=this.getUser();i.resolve();i=new L;e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise;await r(this.currentUser)})};const o=e=>{C("FirebaseAuthCredentialsProvider","Auth detected");this.auth=e;if(this.tokenListener){this.auth.addAuthTokenListener(this.tokenListener);s()}};this.authProvider.onInit(e=>o(e));setTimeout(()=>{if(!this.auth){const e=this.authProvider.getImmediate({optional:true});if(e){o(e)}else{C("FirebaseAuthCredentialsProvider","Auth not yet detected");i.resolve();i=new L}}},0);s()}getToken(){const e=this.tokenCounter;const t=this.forceRefresh;this.forceRefresh=false;if(!this.auth){return Promise.resolve(null)}return this.auth.getToken(t).then(t=>{if(this.tokenCounter!==e){C("FirebaseAuthCredentialsProvider","getToken aborted due to token change.");return this.getToken()}else{if(t){x(typeof t.accessToken==="string",31837,{tokenData:t});return new j(t.accessToken,this.currentUser)}else{return null}}})}invalidateToken(){this.forceRefresh=true}shutdown(){if(this.auth&&this.tokenListener){this.auth.removeAuthTokenListener(this.tokenListener)}this.tokenListener=undefined}getUser(){const e=this.auth&&this.auth.getUid();x(e===null||typeof e==="string",2055,{currentUid:e});return new y(e)}}class V{constructor(e,t,n){this.sessionIndex=e;this.iamToken=t;this.authTokenFactory=n;this.type="FirstParty";this.user=y.FIRST_PARTY;this._headers=new Map}getAuthToken(){if(this.authTokenFactory){return this.authTokenFactory()}else{return null}}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);const e=this.getAuthToken();if(e){this._headers.set("Authorization",e)}if(this.iamToken){this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken)}return this._headers}}class z{constructor(e,t,n){this.sessionIndex=e;this.iamToken=t;this.authTokenFactory=n}getToken(){return Promise.resolve(new V(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(e,t){e.enqueueRetryable(()=>t(y.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q{constructor(e){this.value=e;this.type="AppCheck";this.headers=new Map;if(e&&e.length>0){this.headers.set("x-firebase-appcheck",this.value)}}}class ${constructor(e,t){this.appCheckProvider=t;this.forceRefresh=false;this.appCheck=null;this.latestAppCheckToken=null;this.serverAppAppCheckToken=null;if((0,r.xZ)(e)&&e.settings.appCheckToken){this.serverAppAppCheckToken=e.settings.appCheckToken}}start(e,t){x(this.tokenListener===undefined,3512);const n=e=>{if(e.error!=null){C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`)}const n=e.token!==this.latestAppCheckToken;this.latestAppCheckToken=e.token;C("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`);return n?t(e.token):Promise.resolve()};this.tokenListener=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{C("FirebaseAppCheckTokenProvider","AppCheck detected");this.appCheck=e;if(this.tokenListener){this.appCheck.addTokenListener(this.tokenListener)}};this.appCheckProvider.onInit(e=>r(e));setTimeout(()=>{if(!this.appCheck){const e=this.appCheckProvider.getImmediate({optional:true});if(e){r(e)}else{C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}},0)}getToken(){if(this.serverAppAppCheckToken){return Promise.resolve(new q(this.serverAppAppCheckToken))}const e=this.forceRefresh;this.forceRefresh=false;if(!this.appCheck){return Promise.resolve(null)}return this.appCheck.getToken(e).then(e=>{if(e){x(typeof e.token==="string",44558,{tokenResult:e});this.latestAppCheckToken=e.token;return new q(e.token)}else{return null}})}invalidateToken(){this.forceRefresh=true}shutdown(){if(this.appCheck&&this.tokenListener){this.appCheck.removeTokenListener(this.tokenListener)}this.tokenListener=undefined}}class G{getToken(){return Promise.resolve(new q(""))}invalidateToken(){}start(e,t){}shutdown(){}}function W(e){if(!e){return new F}switch(e["type"]){case"firstParty":return new z(e["sessionIndex"]||"0",e["iamToken"]||null,e["authTokenFactory"]||null);case"provider":return e["client"];default:throw new M(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}function H(e){return randomBytes$1(e)}function K(){return new o.TextEncoder}function Q(){return new TextDecoder("utf-8")}class Y{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";const t=Math.floor(256/e.length)*e.length;let n="";const r=20;while(n.length<r){const i=H(40);for(let s=0;s<i.length;++s){if(n.length<r&&i[s]<t){n+=e.charAt(i[s]%e.length)}}}return n}}function X(e,t){if(e<t){return-1}if(e>t){return 1}return 0}function J(e,t){let n=0;while(n<e.length&&n<t.length){const r=e.codePointAt(n);const i=t.codePointAt(n);if(r!==i){if(r<128&&i<128){return X(r,i)}else{const s=K();const o=s.encode(Z(e,n));const a=s.encode(Z(t,n));const c=ee(o,a);if(c!==0){return c}else{return X(r,i)}}}n+=r>65535?2:1}return X(e.length,t.length)}function Z(e,t){const n=e.codePointAt(t);if(n>65535){return e.substring(t,t+2)}else{return e.substring(t,t+1)}}function ee(e,t){for(let n=0;n<e.length&&n<t.length;++n){if(e[n]!==t[n]){return X(e[n],t[n])}}return X(e.length,t.length)}function et(e,t,n){if(e.length!==t.length){return false}return e.every((e,r)=>n(e,t[r]))}function en(e){return e+"\0"}const er=-0xe7791f700;const ei=1e6;class es{static now(){return es.fromMillis(Date.now())}static fromDate(e){return es.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3);const n=Math.floor((e-t*1e3)*ei);return new es(t,n)}constructor(e,t){this.seconds=e;this.nanoseconds=t;if(t<0){throw new M(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t)}if(t>=1e9){throw new M(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t)}if(e<er){throw new M(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}if(e>=0x3afff44180){throw new M(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}}toDate(){return new Date(this.toMillis())}toMillis(){return this.seconds*1e3+this.nanoseconds/ei}_compareTo(e){if(this.seconds===e.seconds){return X(this.nanoseconds,e.nanoseconds)}return X(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-er;const t=String(e).padStart(12,"0");const n=String(this.nanoseconds).padStart(9,"0");return t+"."+n}}class eo{static fromTimestamp(e){return new eo(e)}static min(){return new eo(new es(0,0))}static max(){return new eo(new es(0x3afff4417f,1e9-1))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return this.timestamp.seconds*1e6+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ea="__name__";class ec{constructor(e,t,n){if(t===undefined){t=0}else if(t>e.length){A(637,{offset:t,range:e.length})}if(n===undefined){n=e.length-t}else if(n>e.length-t){A(1746,{length:n,range:e.length-t})}this.segments=e;this.offset=t;this.len=n}get length(){return this.len}isEqual(e){return ec.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());if(e instanceof ec){e.forEach(e=>{t.push(e)})}else{t.push(e)}return this.construct(t)}limit(){return this.offset+this.length}popFirst(e){e=e===undefined?1:e;return this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length){return false}for(let t=0;t<this.length;t++){if(this.get(t)!==e.get(t)){return false}}return true}isImmediateParentOf(e){if(this.length+1!==e.length){return false}for(let t=0;t<this.length;t++){if(this.get(t)!==e.get(t)){return false}}return true}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++){e(this.segments[t])}}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ec.compareSegments(e.get(r),t.get(r));if(n!==0){return n}}return X(e.length,t.length)}static compareSegments(e,t){const n=ec.isNumericId(e);const r=ec.isNumericId(t);if(n&&!r){return-1}else if(!n&&r){return 1}else if(n&&r){return ec.extractNumericId(e).compare(ec.extractNumericId(t))}else{return J(e,t)}}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return d.fromString(e.substring(4,e.length-2))}}class el extends ec{construct(e,t,n){return new el(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0){throw new M(D.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`)}t.push(...n.split("/").filter(e=>e.length>0))}return new el(t)}static emptyPath(){return new el([])}}const eu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ed extends ec{construct(e,t,n){return new ed(e,t,n)}static isValidIdentifier(e){return eu.test(e)}canonicalString(){return this.toArray().map(e=>{e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`");if(!ed.isValidIdentifier(e)){e="`"+e+"`"}return e}).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ea}static keyField(){return new ed([ea])}static fromServerFormat(e){const t=[];let n="";let r=0;const i=()=>{if(n.length===0){throw new M(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin `+`with '.', end with '.', or contain '..'`)}t.push(n);n=""};let s=false;while(r<e.length){const t=e[r];if(t==="\\"){if(r+1===e.length){throw new M(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e)}const t=e[r+1];if(!(t==="\\"||t==="."||t==="`")){throw new M(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e)}n+=t;r+=2}else if(t==="`"){s=!s;r++}else if(t==="."&&!s){i();r++}else{n+=t;r++}}i();if(s){throw new M(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e)}return new ed(t)}static emptyPath(){return new ed([])}}class ef{constructor(e){this.path=e}static fromPath(e){return new ef(el.fromString(e))}static fromName(e){return new ef(el.fromString(e).popFirst(5))}static empty(){return new ef(el.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&el.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return el.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2===0}static fromSegments(e){return new ef(new el(e.slice()))}}const eh=-1;const ep=0;class em{constructor(e,t,n,r){this.indexId=e;this.collectionGroup=t;this.fields=n;this.indexState=r}}em.UNKNOWN_ID=-1;function eg(e){return e.fields.find(e=>e.kind===2)}function ey(e){return e.fields.filter(e=>e.kind!==2)}function ev(e){const t=ey(e);return t.length===0?0:t[t.length-1].kind}function eb(e,t){let n=X(e.collectionGroup,t.collectionGroup);if(n!==0){return n}for(let r=0;r<Math.min(e.fields.length,t.fields.length);++r){n=e_(e.fields[r],t.fields[r]);if(n!==0){return n}}return X(e.fields.length,t.fields.length)}function ew(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`}class eE{constructor(e,t){this.fieldPath=e;this.kind=t}}function e_(e,t){const n=ed.comparator(e.fieldPath,t.fieldPath);if(n!==0){return n}return X(e.kind,t.kind)}class eS{constructor(e,t){this.sequenceNumber=e;this.offset=t}static empty(){return new eS(ep,eI.min())}}function eT(e,t){const n=e.toTimestamp().seconds;const r=e.toTimestamp().nanoseconds+1;const i=eo.fromTimestamp(r===1e9?new es(n+1,0):new es(n,r));return new eI(i,ef.empty(),t)}function eC(e){return new eI(e.readTime,e.key,eh)}class eI{constructor(e,t,n){this.readTime=e;this.documentKey=t;this.largestBatchId=n}static min(){return new eI(eo.min(),ef.empty(),eh)}static max(){return new eI(eo.max(),ef.empty(),eh)}}function eR(e,t){let n=e.readTime.compareTo(t.readTime);if(n!==0){return n}n=ef.comparator(e.documentKey,t.documentKey);if(n!==0){return n}return X(e.largestBatchId,t.largestBatchId)}const eO="The current tab is not in the required state to perform this operation. "+"It might be necessary to refresh the browser tab.";class eA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function ek(e){if(e.code===D.FAILED_PRECONDITION&&e.message===eO){C("LocalStore","Unexpectedly lost primary lease")}else{throw e}}class ex{constructor(e){this.nextCallback=null;this.catchCallback=null;this.result=undefined;this.error=undefined;this.isDone=false;this.callbackAttached=false;e(e=>{this.isDone=true;this.result=e;if(this.nextCallback){this.nextCallback(e)}},e=>{this.isDone=true;this.error=e;if(this.catchCallback){this.catchCallback(e)}})}catch(e){return this.next(undefined,e)}next(e,t){if(this.callbackAttached){A(59440)}this.callbackAttached=true;if(this.isDone){if(!this.error){return this.wrapSuccess(e,this.result)}else{return this.wrapFailure(t,this.error)}}else{return new ex((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)};this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();if(t instanceof ex){return t}else{return ex.resolve(t)}}catch(e){return ex.reject(e)}}wrapSuccess(e,t){if(e){return this.wrapUserFunction(()=>e(t))}else{return ex.resolve(t)}}wrapFailure(e,t){if(e){return this.wrapUserFunction(()=>e(t))}else{return ex.reject(t)}}static resolve(e){return new ex((t,n)=>{t(e)})}static reject(e){return new ex((t,n)=>{n(e)})}static waitFor(e){return new ex((t,n)=>{let r=0;let i=0;let s=false;e.forEach(e=>{++r;e.next(()=>{++i;if(s&&i===r){t()}},e=>n(e))});s=true;if(i===r){t()}})}static or(e){let t=ex.resolve(false);for(const n of e){t=t.next(e=>{if(e){return ex.resolve(e)}else{return n()}})}return t}static forEach(e,t){const n=[];e.forEach((e,r)=>{n.push(t.call(this,e,r))});return this.waitFor(n)}static mapArray(e,t){return new ex((n,r)=>{const i=e.length;const s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next(e=>{s[c]=e;++o;if(o===i){n(s)}},e=>r(e))}})}static doWhile(e,t){return new ex((n,r)=>{const i=()=>{if(e()===true){t().next(()=>{i()},r)}else{n()}};i()})}}const eP="SimpleDb";const eN=3;class eD{static open(e,t,n,r){try{return new eD(t,e.transaction(r,n))}catch(e){throw new eF(t,e)}}constructor(e,t){this.action=e;this.transaction=t;this.aborted=false;this.completionDeferred=new L;this.transaction.oncomplete=()=>{this.completionDeferred.resolve()};this.transaction.onabort=()=>{if(t.error){this.completionDeferred.reject(new eF(e,t.error))}else{this.completionDeferred.resolve()}};this.transaction.onerror=t=>{const n=eq(t.target.error);this.completionDeferred.reject(new eF(e,n))}}get completionPromise(){return this.completionDeferred.promise}abort(e){if(e){this.completionDeferred.reject(e)}if(!this.aborted){C(eP,"Aborting transaction:",e?e.message:"Client-initiated abort");this.aborted=true;this.transaction.abort()}}maybeCommit(){const e=this.transaction;if(!this.aborted&&typeof e.commit==="function"){e.commit()}}store(e){const t=this.transaction.objectStore(e);return new eU(t)}}class eM{static delete(e){C(eP,"Removing database:",e);const t=(0,a.mS)();return eV(t.indexedDB.deleteDatabase(e)).toPromise()}static isAvailable(){if(!(0,a.zW)()){return false}if(eM.isMockPersistence()){return true}const e=(0,a.ZQ)();const t=eM.getIOSVersion(e);const n=0<t&&t<10;const r=eL(e);const i=0<r&&r<4.5;if(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i){return false}else{return true}}static isMockPersistence(){var e;return typeof process!=="undefined"&&((e=process.env)===null||e===void 0?void 0:e.USE_MOCK_PERSISTENCE)==="YES"}static getStore(e,t){return e.store(t)}static getIOSVersion(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);const n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e;this.version=t;this.schemaConverter=n;this.lastClosedDbVersion=null;const r=eM.getIOSVersion((0,a.ZQ)());if(r===12.2){I("Firestore persistence suffers from a bug in iOS 12.2 "+"Safari that may cause your app to stop working. See "+"https://stackoverflow.com/q/56496296/110915 for details "+"and a potential workaround.")}}async ensureDb(e){if(!this.db){C(eP,"Opening database:",this.name);this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)};r.onblocked=()=>{n(new eF(e,"Cannot upgrade IndexedDB schema while another tab is open. "+"Close all tabs that access Firestore and reload this page to proceed."))};r.onerror=t=>{const r=t.target.error;if(r.name==="VersionError"){n(new M(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted "+"data is not compatible with the version of the SDK you are now using. The SDK "+"will operate with persistence disabled. If you need persistence, please "+"re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB "+"data for your app to start fresh."))}else if(r.name==="InvalidStateError"){n(new M(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a "+"private browsing session on a browser whose private browsing sessions do not "+"support IndexedDB: "+r))}else{n(new eF(e,r))}};r.onupgradeneeded=e=>{C(eP,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;if(this.lastClosedDbVersion!==null&&this.lastClosedDbVersion!==e.oldVersion){throw new Error(`refusing to open IndexedDB database due to potential `+`corruption of the IndexedDB database data; this corruption `+`could be caused by clicking the "clear site data" button in `+`a web browser; try reloading the web page to re-initialize `+`the IndexedDB database: `+`lastClosedDbVersion=${this.lastClosedDbVersion}, `+`event.oldVersion=${e.oldVersion}, `+`event.newVersion=${e.newVersion}, `+`db.version=${t.version}`)}this.schemaConverter.createOrUpgrade(t,r.transaction,e.oldVersion,this.version).next(()=>{C(eP,"Database upgrade to version "+this.version+" complete")})}});this.db.addEventListener("close",e=>{const t=e.target;this.lastClosedDbVersion=t.version},{passive:true})}if(this.versionchangelistener){this.db.onversionchange=e=>this.versionchangelistener(e)}return this.db}setVersionChangeListener(e){this.versionchangelistener=e;if(this.db){this.db.onversionchange=t=>{return e(t)}}}async runTransaction(e,t,n,r){const i=t==="readonly";let s=0;while(true){++s;try{this.db=await this.ensureDb(e);const t=eD.open(this.db,e,i?"readonly":"readwrite",n);const s=r(t).next(e=>{t.maybeCommit();return e}).catch(e=>{t.abort(e);return ex.reject(e)}).toPromise();s.catch(()=>{});await t.completionPromise;return s}catch(n){const e=n;const t=e.name!=="FirebaseError"&&s<eN;C(eP,"Transaction failed with error:",e.message,"Retrying:",t);this.close();if(!t){return Promise.reject(e)}}}}close(){if(this.db){this.db.close()}this.db=undefined}}function eL(e){const t=e.match(/Android ([\d.]+)/i);const n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class ej{constructor(e){this.dbCursor=e;this.shouldStop=false;this.nextKey=null}get isDone(){return this.shouldStop}get skipToKey(){return this.nextKey}set cursor(e){this.dbCursor=e}done(){this.shouldStop=true}skip(e){this.nextKey=e}delete(){return eV(this.dbCursor.delete())}}class eF extends M{constructor(e,t){super(D.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`);this.name="IndexedDbTransactionError"}}function eB(e){return e.name==="IndexedDbTransactionError"}class eU{constructor(e){this.store=e}put(e,t){let n;if(t!==undefined){C(eP,"PUT",this.store.name,e,t);n=this.store.put(t,e)}else{C(eP,"PUT",this.store.name,"<auto-key>",e);n=this.store.put(e)}return eV(n)}add(e){C(eP,"ADD",this.store.name,e,e);const t=this.store.add(e);return eV(t)}get(e){const t=this.store.get(e);return eV(t).next(t=>{if(t===undefined){t=null}C(eP,"GET",this.store.name,e,t);return t})}delete(e){C(eP,"DELETE",this.store.name,e);const t=this.store.delete(e);return eV(t)}count(){C(eP,"COUNT",this.store.name);const e=this.store.count();return eV(e)}loadAll(e,t){const n=this.options(e,t);const r=n.index?this.store.index(n.index):this.store;if(typeof r.getAll==="function"){const e=r.getAll(n.range);return new ex((t,n)=>{e.onerror=e=>{n(e.target.error)};e.onsuccess=e=>{t(e.target.result)}})}else{const e=this.cursor(n);const t=[];return this.iterateCursor(e,(e,n)=>{t.push(n)}).next(()=>{return t})}}loadFirst(e,t){const n=this.store.getAll(e,t===null?undefined:t);return new ex((e,t)=>{n.onerror=e=>{t(e.target.error)};n.onsuccess=t=>{e(t.target.result)}})}deleteAll(e,t){C(eP,"DELETE ALL",this.store.name);const n=this.options(e,t);n.keysOnly=false;const r=this.cursor(n);return this.iterateCursor(r,(e,t,n)=>{return n.delete()})}iterate(e,t){let n;if(!t){n={};t=e}else{n=e}const r=this.cursor(n);return this.iterateCursor(r,t)}iterateSerial(e){const t=this.cursor({});return new ex((n,r)=>{t.onerror=e=>{const t=eq(e.target.error);r(t)};t.onsuccess=t=>{const r=t.target.result;if(!r){n();return}e(r.primaryKey,r.value).next(e=>{if(e){r.continue()}else{n()}})}})}iterateCursor(e,t){const n=[];return new ex((r,i)=>{e.onerror=e=>{i(e.target.error)};e.onsuccess=e=>{const i=e.target.result;if(!i){r();return}const s=new ej(i);const o=t(i.primaryKey,i.value,s);if(o instanceof ex){const e=o.catch(e=>{s.done();return ex.reject(e)});n.push(e)}if(s.isDone){r()}else if(s.skipToKey===null){i.continue()}else{i.continue(s.skipToKey)}}}).next(()=>ex.waitFor(n))}options(e,t){let n=undefined;if(e!==undefined){if(typeof e==="string"){n=e}else{t=e}}return{index:n,range:t}}cursor(e){let t="next";if(e.reverse){t="prev"}if(e.index){const n=this.store.index(e.index);if(e.keysOnly){return n.openKeyCursor(e.range,t)}else{return n.openCursor(e.range,t)}}else{return this.store.openCursor(e.range,t)}}}function eV(e){return new ex((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)};e.onerror=e=>{const t=eq(e.target.error);n(t)}})}let ez=false;function eq(e){const t=eM.getIOSVersion((0,a.ZQ)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new M("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely `+`due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 `+`for details and a potential workaround.`);if(!ez){ez=true;setTimeout(()=>{throw e},0)}return e}}return e}const e$="IndexBackfiller";const eG=15*1e3;const eW=60*1e3;const eH=50;class eK{constructor(e,t){this.asyncQueue=e;this.backfiller=t;this.task=null}start(){this.schedule(eG)}stop(){if(this.task){this.task.cancel();this.task=null}}get started(){return this.task!==null}schedule(e){C(e$,`Scheduled in ${e}ms`);this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const e=await this.backfiller.backfill();C(e$,`Documents written: ${e}`)}catch(e){if(eB(e)){C(e$,"Ignoring IndexedDB error during index backfill: ",e)}else{await ek(e)}}await this.schedule(eW)})}}class eQ{constructor(e,t){this.localStore=e;this.persistence=t}async backfill(e=eH){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.writeIndexEntries(t,e))}writeIndexEntries(e,t){const n=new Set;let r=t;let i=true;return ex.doWhile(()=>i===true&&r>0,()=>{return this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(t===null||n.has(t)){i=false}else{C(e$,`Processing collection: ${t}`);return this.writeEntriesForCollectionGroup(e,t,r).next(e=>{r-=e;n.add(t)})}})}).next(()=>t-r)}writeEntriesForCollectionGroup(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this.getNewOffset(r,n)).next(n=>{C(e$,`Updating offset: ${n}`);return this.localStore.indexManager.updateCollectionGroup(e,t,n)}).next(()=>i.size)}))}getNewOffset(e,t){let n=e;t.changes.forEach((e,t)=>{const r=eC(t);if(eR(r,n)>0){n=r}});return new eI(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class eY{constructor(e,t){this.previousValue=e;if(t){t.sequenceNumberHandler=e=>this.setPreviousValue(e);this.writeNewSequenceNumber=e=>t.writeSequenceNumber(e)}}setPreviousValue(e){this.previousValue=Math.max(e,this.previousValue);return this.previousValue}next(){const e=++this.previousValue;if(this.writeNewSequenceNumber){this.writeNewSequenceNumber(e)}return e}}eY.INVALID=-1;const eX="\x01";const eJ="\x01";const eZ="\x10";const e0="\x11";function e1(e){let t="";for(let n=0;n<e.length;n++){if(t.length>0){t=e3(t)}t=e2(e.get(n),t)}return e3(t)}function e2(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+=eX+eZ;break;case eX:n+=eX+e0;break;default:n+=r}}return n}function e3(e){return e+eX+eJ}function e6(e){const t=e.length;x(t>=2,64408,{path:e});if(t===2){x(e.charAt(0)===eX&&e.charAt(1)===eJ,56145,{path:e});return el.emptyPath()}const n=t-2;const r=[];let i="";for(let s=0;s<t;){const t=e.indexOf(eX,s);if(t<0||t>n){A(50515,{path:e})}const o=e.charAt(t+1);switch(o){case eJ:const a=e.substring(s,t);let c;if(i.length===0){c=a}else{i+=a;c=i;i=""}r.push(c);break;case eZ:i+=e.substring(s,t);i+="\0";break;case e0:i+=e.substring(s,t+1);break;default:A(61167,{path:e})}s=t+2}return new el(r)}const e4="remoteDocuments";const e5="owner";const e8="owner";const e7="mutationQueues";const e9="userId";const te="mutations";const tt="batchId";const tn="userMutationsIndex";const tr=["userId","batchId"];function ti(e){return[e]}function ts(e,t){return[e,e1(t)]}function to(e,t,n){return[e,e1(t),n]}const ta={};const tc="documentMutations";const tl="remoteDocumentsV14";const tu=["prefixPath","collectionGroup","readTime","documentId"];const td="documentKeyIndex";const tf=["prefixPath","collectionGroup","documentId"];const th="collectionGroupIndex";const tp=["collectionGroup","readTime","prefixPath","documentId"];const tm="remoteDocumentGlobal";const tg="remoteDocumentGlobalKey";const ty="targets";const tv="targetId";const tb="queryTargetsIndex";const tw=["canonicalId","targetId"];const tE="targetDocuments";const t_=["targetId","path"];const tS="documentTargetsIndex";const tT=["path","targetId"];const tC="targetGlobalKey";const tI="targetGlobal";const tR="collectionParents";const tO=["collectionId","parent"];const tA="clientMetadata";const tk="clientId";const tx="bundles";const tP="bundleId";const tN="namedQueries";const tD="name";const tM="indexConfiguration";const tL="indexId";const tj="collectionGroupIndex";const tF="collectionGroup";const tB="indexState";const tU=["indexId","uid"];const tV="sequenceNumberIndex";const tz=["uid","sequenceNumber"];const tq="indexEntries";const t$=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"];const tG="documentKeyIndex";const tW=["indexId","uid","orderedDocumentKey"];const tH="documentOverlays";const tK=["userId","collectionPath","documentId"];const tQ="collectionPathOverlayIndex";const tY=["userId","collectionPath","largestBatchId"];const tX="collectionGroupOverlayIndex";const tJ=["userId","collectionGroup","largestBatchId"];const tZ="globals";const t0="name";const t1=[e7,te,tc,e4,ty,e5,tI,tE];const t2=t1;const t3=[...t2,tA];const t6=[...t3,tm];const t4=[...t6,tR];const t5=[...t4,tx,tN];const t8=[...t5,tH];const t7=[e7,te,tc,tl,ty,e5,tI,tE,tA,tm,tR,tx,tN,tH];const t9=t7;const ne=[...t9,tM,tB,tq];const nt=ne;const nn=[...ne,tZ];const nr=nn;function ni(e){if(e===18){return nr}else if(e===17){return nn}else if(e===16){return nt}else if(e===15){return ne}else if(e===14){return t9}else if(e===13){return t7}else if(e===12){return t8}else if(e===11){return t5}else{A(60245)}}class ns extends eA{constructor(e,t){super();this.simpleDbTransaction=e;this.currentSequenceNumber=t}}function no(e,t){const n=N(e);return eM.getStore(n.simpleDbTransaction,t)}function na(e){let t=0;for(const n in e){if(Object.prototype.hasOwnProperty.call(e,n)){t++}}return t}function nc(e,t){for(const n in e){if(Object.prototype.hasOwnProperty.call(e,n)){t(n,e[n])}}}function nl(e,t){const n=[];for(const r in e){if(Object.prototype.hasOwnProperty.call(e,r)){n.push(t(e[r],r,e))}}return n}function nu(e){for(const t in e){if(Object.prototype.hasOwnProperty.call(e,t)){return false}}return true}class nd{constructor(e,t){this.comparator=e;this.root=t?t:nh.EMPTY}insert(e,t){return new nd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nh.BLACK,null,null))}remove(e){return new nd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nh.BLACK,null,null))}get(e){let t=this.root;while(!t.isEmpty()){const n=this.comparator(e,t.key);if(n===0){return t.value}else if(n<0){t=t.left}else if(n>0){t=t.right}}return null}indexOf(e){let t=0;let n=this.root;while(!n.isEmpty()){const r=this.comparator(e,n.key);if(r===0){return t+n.left.size}else if(r<0){n=n.left}else{t+=n.left.size+1;n=n.right}}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>{e(t,n);return false})}toString(){const e=[];this.inorderTraversal((t,n)=>{e.push(`${t}:${n}`);return false});return`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,false)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,false)}getReverseIterator(){return new nf(this.root,null,this.comparator,true)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,true)}}class nf{constructor(e,t,n,r){this.isReverse=r;this.nodeStack=[];let i=1;while(!e.isEmpty()){i=t?n(e.key,t):1;if(t&&r){i*=-1}if(i<0){if(this.isReverse){e=e.left}else{e=e.right}}else if(i===0){this.nodeStack.push(e);break}else{this.nodeStack.push(e);if(this.isReverse){e=e.right}else{e=e.left}}}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse){e=e.left;while(!e.isEmpty()){this.nodeStack.push(e);e=e.right}}else{e=e.right;while(!e.isEmpty()){this.nodeStack.push(e);e=e.left}}return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0){return null}const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nh{constructor(e,t,n,r,i){this.key=e;this.value=t;this.color=n!=null?n:nh.RED;this.left=r!=null?r:nh.EMPTY;this.right=i!=null?i:nh.EMPTY;this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new nh(e!=null?e:this.key,t!=null?t:this.value,n!=null?n:this.color,r!=null?r:this.left,i!=null?i:this.right)}isEmpty(){return false}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){if(this.left.isEmpty()){return this}else{return this.left.min()}}minKey(){return this.min().key}maxKey(){if(this.right.isEmpty()){return this.key}else{return this.right.maxKey()}}insert(e,t,n){let r=this;const i=n(e,r.key);if(i<0){r=r.copy(null,null,null,r.left.insert(e,t,n),null)}else if(i===0){r=r.copy(null,t,null,null,null)}else{r=r.copy(null,null,null,null,r.right.insert(e,t,n))}return r.fixUp()}removeMin(){if(this.left.isEmpty()){return nh.EMPTY}let e=this;if(!e.left.isRed()&&!e.left.left.isRed()){e=e.moveRedLeft()}e=e.copy(null,null,null,e.left.removeMin(),null);return e.fixUp()}remove(e,t){let n;let r=this;if(t(e,r.key)<0){if(!r.left.isEmpty()&&!r.left.isRed()&&!r.left.left.isRed()){r=r.moveRedLeft()}r=r.copy(null,null,null,r.left.remove(e,t),null)}else{if(r.left.isRed()){r=r.rotateRight()}if(!r.right.isEmpty()&&!r.right.isRed()&&!r.right.left.isRed()){r=r.moveRedRight()}if(t(e,r.key)===0){if(r.right.isEmpty()){return nh.EMPTY}else{n=r.right.min();r=r.copy(n.key,n.value,null,null,r.right.removeMin())}}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;if(e.right.isRed()&&!e.left.isRed()){e=e.rotateLeft()}if(e.left.isRed()&&e.left.left.isRed()){e=e.rotateRight()}if(e.left.isRed()&&e.right.isRed()){e=e.colorFlip()}return e}moveRedLeft(){let e=this.colorFlip();if(e.right.left.isRed()){e=e.copy(null,null,null,null,e.right.rotateRight());e=e.rotateLeft();e=e.colorFlip()}return e}moveRedRight(){let e=this.colorFlip();if(e.left.left.isRed()){e=e.rotateRight();e=e.colorFlip()}return e}rotateLeft(){const e=this.copy(null,null,nh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null);const t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();if(Math.pow(2,e)<=this.size+1){return true}else{return false}}check(){if(this.isRed()&&this.left.isRed()){throw A(43730,{key:this.key,value:this.value})}if(this.right.isRed()){throw A(14113,{key:this.key,value:this.value})}const e=this.left.check();if(e!==this.right.check()){throw A(27949)}else{return e+(this.isRed()?0:1)}}}nh.EMPTY=null;nh.RED=true;nh.BLACK=false;class np{constructor(){this.size=0}get key(){throw A(57766)}get value(){throw A(16141)}get color(){throw A(16727)}get left(){throw A(29726)}get right(){throw A(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new nh(e,t)}remove(e,t){return this}isEmpty(){return true}inorderTraversal(e){return false}reverseTraversal(e){return false}minKey(){return null}maxKey(){return null}isRed(){return false}checkMaxDepth(){return true}check(){return 0}}nh.EMPTY=new np;class nm{constructor(e){this.comparator=e;this.data=new nd(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>{e(t);return false})}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);while(n.hasNext()){const r=n.getNext();if(this.comparator(r.key,e[1])>=0){return}t(r.key)}}forEachWhile(e,t){let n;if(t!==undefined){n=this.data.getIteratorFrom(t)}else{n=this.data.getIterator()}while(n.hasNext()){const t=n.getNext();const r=e(t.key);if(!r){return}}}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ng(this.data.getIterator())}getIteratorFrom(e){return new ng(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,true))}delete(e){if(!this.has(e)){return this}return this.copy(this.data.remove(e))}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;if(t.size<e.size){t=e;e=this}e.forEach(e=>{t=t.add(e)});return t}isEqual(e){if(!(e instanceof nm)){return false}if(this.size!==e.size){return false}const t=this.data.getIterator();const n=e.data.getIterator();while(t.hasNext()){const e=t.getNext().key;const r=n.getNext().key;if(this.comparator(e,r)!==0){return false}}return true}toArray(){const e=[];this.forEach(t=>{e.push(t)});return e}toString(){const e=[];this.forEach(t=>e.push(t));return"SortedSet("+e.toString()+")"}copy(e){const t=new nm(this.comparator);t.data=e;return t}}class ng{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ny(e,t,n,r,i){const s=e.getIterator();const o=t.getIterator();let a=nv(s);let c=nv(o);while(a||c){let e=false;let t=false;if(a&&c){const r=n(a,c);if(r<0){t=true}else if(r>0){e=true}}else if(a!=null){t=true}else{e=true}if(e){r(c);c=nv(o)}else if(t){i(a);a=nv(s)}else{a=nv(s);c=nv(o)}}}function nv(e){return e.hasNext()?e.getNext():undefined}class nb{constructor(e){this.fields=e;e.sort(ed.comparator)}static empty(){return new nb([])}unionWith(e){let t=new nm(ed.comparator);for(const e of this.fields){t=t.add(e)}for(const n of e){t=t.add(n)}return new nb(t.toArray())}covers(e){for(const t of this.fields){if(t.isPrefixOf(e)){return true}}return false}isEqual(e){return et(this.fields,e.fields,(e,t)=>e.isEqual(t))}}function nw(e){return Buffer.from(e,"base64").toString("binary")}function nE(e){return Buffer.from(e,"binary").toString("base64")}function n_(){return true}class nS{constructor(e){this.binaryString=e}static fromBase64String(e){const t=nw(e);return new nS(t)}static fromUint8Array(e){const t=nT(e);return new nS(t)}[Symbol.iterator](){let e=0;return{next:()=>{if(e<this.binaryString.length){return{value:this.binaryString.charCodeAt(e++),done:false}}else{return{value:undefined,done:true}}}}}toBase64(){return nE(this.binaryString)}toUint8Array(){return nC(this.binaryString)}approximateByteSize(){return this.binaryString.length*2}compareTo(e){return X(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nS.EMPTY_BYTE_STRING=new nS("");function nT(e){let t="";for(let n=0;n<e.length;++n){t+=String.fromCharCode(e[n])}return t}function nC(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++){t[n]=e.charCodeAt(n)}return t}const nI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nR(e){x(!!e,39018);if(typeof e==="string"){let t=0;const n=nI.exec(e);x(!!n,46558,{timestamp:e});if(n[1]){let e=n[1];e=(e+"000000000").substr(0,9);t=Number(e)}const r=new Date(e);const i=Math.floor(r.getTime()/1e3);return{seconds:i,nanos:t}}else{const t=nO(e.seconds);const n=nO(e.nanos);return{seconds:t,nanos:n}}}function nO(e){if(typeof e==="number"){return e}else if(typeof e==="string"){return Number(e)}else{return 0}}function nA(e){if(typeof e==="string"){return nS.fromBase64String(e)}else{return nS.fromUint8Array(e)}}const nk="server_timestamp";const nx="__type__";const nP="__previous_value__";const nN="__local_write_time__";function nD(e){var t,n;const r=(n=(((t=e===null||e===void 0?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[nx])===null||n===void 0?void 0:n.stringValue;return r===nk}function nM(e,t){const n={fields:{[nx]:{stringValue:nk},[nN]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};if(t&&nD(t)){t=nL(t)}if(t){n.fields[nP]=t}return{mapValue:n}}function nL(e){const t=e.mapValue.fields[nP];if(nD(t)){return nL(t)}return t}function nj(e){const t=nR(e.mapValue.fields[nN].timestampValue);return new es(t.seconds,t.nanos)}class nF{constructor(e,t,n,r,i,s,o,a,c,l){this.databaseId=e;this.appId=t;this.persistenceKey=n;this.host=r;this.ssl=i;this.forceLongPolling=s;this.autoDetectLongPolling=o;this.longPollingOptions=a;this.useFetchStreams=c;this.isUsingEmulator=l}}const nB="(default)";class nU{constructor(e,t){this.projectId=e;this.database=t?t:nB}static empty(){return new nU("","")}get isDefaultDatabase(){return this.database===nB}isEqual(e){return e instanceof nU&&e.projectId===this.projectId&&e.database===this.database}}function nV(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"])){throw new M(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.')}return new nU(e.options.projectId,t)}const nz=-1;function nq(e){return e===null||e===undefined}function n$(e){return e===0&&1/e===1/-0}function nG(e){return typeof e==="number"&&Number.isInteger(e)&&!n$(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const nW="__type__";const nH="__max__";const nK={mapValue:{fields:{"__type__":{stringValue:nH}}}};const nQ="__vector__";const nY="value";const nX={nullValue:"NULL_VALUE"};function nJ(e){if("nullValue"in e){return 0}else if("booleanValue"in e){return 1}else if("integerValue"in e||"doubleValue"in e){return 2}else if("timestampValue"in e){return 3}else if("stringValue"in e){return 5}else if("bytesValue"in e){return 6}else if("referenceValue"in e){return 7}else if("geoPointValue"in e){return 8}else if("arrayValue"in e){return 9}else if("mapValue"in e){if(nD(e)){return 4}else if(rI(e)){return 0x1fffffffffffff}else if(rT(e)){return 10}return 11}else{return A(28295,{value:e})}}function nZ(e,t){if(e===t){return true}const n=nJ(e);const r=nJ(t);if(n!==r){return false}switch(n){case 0:return true;case 1:return e.booleanValue===t.booleanValue;case 4:return nj(e).isEqual(nj(t));case 3:return n0(e,t);case 5:return e.stringValue===t.stringValue;case 6:return n2(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return n1(e,t);case 2:return n3(e,t);case 9:return et(e.arrayValue.values||[],t.arrayValue.values||[],nZ);case 10:case 11:return n6(e,t);case 0x1fffffffffffff:return true;default:return A(52216,{left:e})}}function n0(e,t){if(typeof e.timestampValue==="string"&&typeof t.timestampValue==="string"&&e.timestampValue.length===t.timestampValue.length){return e.timestampValue===t.timestampValue}const n=nR(e.timestampValue);const r=nR(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}function n1(e,t){return nO(e.geoPointValue.latitude)===nO(t.geoPointValue.latitude)&&nO(e.geoPointValue.longitude)===nO(t.geoPointValue.longitude)}function n2(e,t){return nA(e.bytesValue).isEqual(nA(t.bytesValue))}function n3(e,t){if("integerValue"in e&&"integerValue"in t){return nO(e.integerValue)===nO(t.integerValue)}else if("doubleValue"in e&&"doubleValue"in t){const n=nO(e.doubleValue);const r=nO(t.doubleValue);if(n===r){return n$(n)===n$(r)}else{return isNaN(n)&&isNaN(r)}}return false}function n6(e,t){const n=e.mapValue.fields||{};const r=t.mapValue.fields||{};if(na(n)!==na(r)){return false}for(const e in n){if(n.hasOwnProperty(e)){if(r[e]===undefined||!nZ(n[e],r[e])){return false}}}return true}function n4(e,t){return(e.values||[]).find(e=>nZ(e,t))!==undefined}function n5(e,t){if(e===t){return 0}const n=nJ(e);const r=nJ(t);if(n!==r){return X(n,r)}switch(n){case 0:case 0x1fffffffffffff:return 0;case 1:return X(e.booleanValue,t.booleanValue);case 2:return n8(e,t);case 3:return n7(e.timestampValue,t.timestampValue);case 4:return n7(nj(e),nj(t));case 5:return J(e.stringValue,t.stringValue);case 6:return rt(e.bytesValue,t.bytesValue);case 7:return n9(e.referenceValue,t.referenceValue);case 8:return re(e.geoPointValue,t.geoPointValue);case 9:return rn(e.arrayValue,t.arrayValue);case 10:return rr(e.mapValue,t.mapValue);case 11:return ri(e.mapValue,t.mapValue);default:throw A(23264,{leftType:n})}}function n8(e,t){const n=nO(e.integerValue||e.doubleValue);const r=nO(t.integerValue||t.doubleValue);if(n<r){return-1}else if(n>r){return 1}else if(n===r){return 0}else{if(isNaN(n)){return isNaN(r)?0:-1}else{return 1}}}function n7(e,t){if(typeof e==="string"&&typeof t==="string"&&e.length===t.length){return X(e,t)}const n=nR(e);const r=nR(t);const i=X(n.seconds,r.seconds);if(i!==0){return i}return X(n.nanos,r.nanos)}function n9(e,t){const n=e.split("/");const r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=X(n[e],r[e]);if(t!==0){return t}}return X(n.length,r.length)}function re(e,t){const n=X(nO(e.latitude),nO(t.latitude));if(n!==0){return n}return X(nO(e.longitude),nO(t.longitude))}function rt(e,t){const n=nA(e);const r=nA(t);return n.compareTo(r)}function rn(e,t){const n=e.values||[];const r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=n5(n[e],r[e]);if(t){return t}}return X(n.length,r.length)}function rr(e,t){var n,r,i,s;const o=e.fields||{};const a=t.fields||{};const c=(n=o[nY])===null||n===void 0?void 0:n.arrayValue;const l=(r=a[nY])===null||r===void 0?void 0:r.arrayValue;const u=X(((i=c===null||c===void 0?void 0:c.values)===null||i===void 0?void 0:i.length)||0,((s=l===null||l===void 0?void 0:l.values)===null||s===void 0?void 0:s.length)||0);if(u!==0){return u}return rn(c,l)}function ri(e,t){if(e===nK.mapValue&&t===nK.mapValue){return 0}else if(e===nK.mapValue){return 1}else if(t===nK.mapValue){return-1}const n=e.fields||{};const r=Object.keys(n);const i=t.fields||{};const s=Object.keys(i);r.sort();s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=J(r[e],s[e]);if(t!==0){return t}const o=n5(n[r[e]],i[s[e]]);if(o!==0){return o}}return X(r.length,s.length)}function rs(e){return ro(e)}function ro(e){if("nullValue"in e){return"null"}else if("booleanValue"in e){return""+e.booleanValue}else if("integerValue"in e){return""+e.integerValue}else if("doubleValue"in e){return""+e.doubleValue}else if("timestampValue"in e){return rc(e.timestampValue)}else if("stringValue"in e){return e.stringValue}else if("bytesValue"in e){return ra(e.bytesValue)}else if("referenceValue"in e){return ru(e.referenceValue)}else if("geoPointValue"in e){return rl(e.geoPointValue)}else if("arrayValue"in e){return rf(e.arrayValue)}else if("mapValue"in e){return rd(e.mapValue)}else{return A(61005,{value:e})}}function ra(e){return nA(e).toBase64()}function rc(e){const t=nR(e);return`time(${t.seconds},${t.nanos})`}function rl(e){return`geo(${e.latitude},${e.longitude})`}function ru(e){return ef.fromName(e).toString()}function rd(e){const t=Object.keys(e.fields||{}).sort();let n="{";let r=true;for(const i of t){if(!r){n+=","}else{r=false}n+=`${i}:${ro(e.fields[i])}`}return n+"}"}function rf(e){let t="[";let n=true;for(const r of e.values||[]){if(!n){t+=","}else{n=false}t+=ro(r)}return t+"]"}function rh(e){switch(nJ(e)){case 0:return 4;case 1:return 4;case 2:return 8;case 3:return 16;case 4:const t=nL(e);return t?16+rh(t):16;case 5:return e.stringValue.length*2;case 6:return nA(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 8:return 16;case 9:return rm(e.arrayValue);case 10:case 11:return rp(e.mapValue);default:throw A(13486,{value:e})}}function rp(e){let t=0;nc(e.fields,(e,n)=>{t+=e.length+rh(n)});return t}function rm(e){return(e.values||[]).reduce((e,t)=>e+rh(t),0)}function rg(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ry(e){return!!e&&"integerValue"in e}function rv(e){return!!e&&"doubleValue"in e}function rb(e){return ry(e)||rv(e)}function rw(e){return!!e&&"arrayValue"in e}function rE(e){return!!e&&"nullValue"in e}function r_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rS(e){return!!e&&"mapValue"in e}function rT(e){var t,n;const r=(n=(((t=e===null||e===void 0?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[nW])===null||n===void 0?void 0:n.stringValue;return r===nQ}function rC(e){if(e.geoPointValue){return{geoPointValue:Object.assign({},e.geoPointValue)}}else if(e.timestampValue&&typeof e.timestampValue==="object"){return{timestampValue:Object.assign({},e.timestampValue)}}else if(e.mapValue){const t={mapValue:{fields:{}}};nc(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=rC(n));return t}else if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n){t.arrayValue.values[n]=rC(e.arrayValue.values[n])}return t}else{return Object.assign({},e)}}function rI(e){return(((e.mapValue||{}).fields||{})["__type__"]||{}).stringValue===nH}const rR={mapValue:{fields:{[nW]:{stringValue:nQ},[nY]:{arrayValue:{}}}}};function rO(e){if("nullValue"in e){return nX}else if("booleanValue"in e){return{booleanValue:false}}else if("integerValue"in e||"doubleValue"in e){return{doubleValue:NaN}}else if("timestampValue"in e){return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}}else if("stringValue"in e){return{stringValue:""}}else if("bytesValue"in e){return{bytesValue:""}}else if("referenceValue"in e){return rg(nU.empty(),ef.empty())}else if("geoPointValue"in e){return{geoPointValue:{latitude:-90,longitude:-180}}}else if("arrayValue"in e){return{arrayValue:{}}}else if("mapValue"in e){if(rT(e)){return rR}return{mapValue:{}}}else{return A(35942,{value:e})}}function rA(e){if("nullValue"in e){return{booleanValue:false}}else if("booleanValue"in e){return{doubleValue:NaN}}else if("integerValue"in e||"doubleValue"in e){return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}}else if("timestampValue"in e){return{stringValue:""}}else if("stringValue"in e){return{bytesValue:""}}else if("bytesValue"in e){return rg(nU.empty(),ef.empty())}else if("referenceValue"in e){return{geoPointValue:{latitude:-90,longitude:-180}}}else if("geoPointValue"in e){return{arrayValue:{}}}else if("arrayValue"in e){return rR}else if("mapValue"in e){if(rT(e)){return{mapValue:{}}}return nK}else{return A(61959,{value:e})}}function rk(e,t){const n=n5(e.value,t.value);if(n!==0){return n}if(e.inclusive&&!t.inclusive){return-1}else if(!e.inclusive&&t.inclusive){return 1}return 0}function rx(e,t){const n=n5(e.value,t.value);if(n!==0){return n}if(e.inclusive&&!t.inclusive){return 1}else if(!e.inclusive&&t.inclusive){return-1}return 0}class rP{constructor(e){this.value=e}static empty(){return new rP({mapValue:{}})}field(e){if(e.isEmpty()){return this.value}else{let t=this.value;for(let n=0;n<e.length-1;++n){t=(t.mapValue.fields||{})[e.get(n)];if(!rS(t)){return null}}t=(t.mapValue.fields||{})[e.lastSegment()];return t||null}}set(e,t){const n=this.getFieldsMap(e.popLast());n[e.lastSegment()]=rC(t)}setAll(e){let t=ed.emptyPath();let n={};let r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r);n={};r=[];t=i.popLast()}if(e){n[i.lastSegment()]=rC(e)}else{r.push(i.lastSegment())}});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());if(rS(t)&&t.mapValue.fields){delete t.mapValue.fields[e.lastSegment()]}}isEqual(e){return nZ(this.value,e.value)}getFieldsMap(e){let t=this.value;if(!t.mapValue.fields){t.mapValue={fields:{}}}for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];if(!rS(r)||!r.mapValue.fields){r={mapValue:{fields:{}}};t.mapValue.fields[e.get(n)]=r}t=r}return t.mapValue.fields}applyChanges(e,t,n){nc(t,(t,n)=>e[t]=n);for(const t of n){delete e[t]}}clone(){return new rP(rC(this.value))}}function rN(e){const t=[];nc(e.fields,(e,n)=>{const r=new ed([e]);if(rS(n)){const e=rN(n.mapValue);const i=e.fields;if(i.length===0){t.push(r)}else{for(const e of i){t.push(r.child(e))}}}else{t.push(r)}});return new nb(t)}class rD{constructor(e,t,n,r,i,s,o){this.key=e;this.documentType=t;this.version=n;this.readTime=r;this.createTime=i;this.data=s;this.documentState=o}static newInvalidDocument(e){return new rD(e,0,eo.min(),eo.min(),eo.min(),rP.empty(),0)}static newFoundDocument(e,t,n,r){return new rD(e,1,t,eo.min(),n,r,0)}static newNoDocument(e,t){return new rD(e,2,t,eo.min(),eo.min(),rP.empty(),0)}static newUnknownDocument(e,t){return new rD(e,3,t,eo.min(),eo.min(),rP.empty(),2)}convertToFoundDocument(e,t){if(this.createTime.isEqual(eo.min())&&(this.documentType===2||this.documentType===0)){this.createTime=e}this.version=e;this.documentType=1;this.data=t;this.documentState=0;return this}convertToNoDocument(e){this.version=e;this.documentType=2;this.data=rP.empty();this.documentState=0;return this}convertToUnknownDocument(e){this.version=e;this.documentType=3;this.data=rP.empty();this.documentState=2;return this}setHasCommittedMutations(){this.documentState=2;return this}setHasLocalMutations(){this.documentState=1;this.version=eo.min();return this}setReadTime(e){this.readTime=e;return this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rD&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rD(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, `+`{createTime: ${this.createTime}}), `+`{documentType: ${this.documentType}}), `+`{documentState: ${this.documentState}})`}}function rM(e,t,n){const r=t.data.field(e);const i=n.data.field(e);if(r!==null&&i!==null){return n5(r,i)}else{return A(42886)}}class rL{constructor(e,t){this.position=e;this.inclusive=t}}function rj(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i];const o=e.position[i];if(s.field.isKeyField()){r=ef.comparator(ef.fromName(o.referenceValue),n.key)}else{const e=n.data.field(s.field);r=n5(o,e)}if(s.dir==="desc"){r=r*-1}if(r!==0){break}}return r}function rF(e,t,n){const r=rj(e,t,n);return e.inclusive?r>=0:r>0}function rB(e,t,n){const r=rj(e,t,n);return e.inclusive?r<=0:r<0}function rU(e,t){if(e===null){return t===null}else if(t===null){return false}if(e.inclusive!==t.inclusive||e.position.length!==t.position.length){return false}for(let n=0;n<e.position.length;n++){const r=e.position[n];const i=t.position[n];if(!nZ(r,i)){return false}}return true}class rV{constructor(e,t="asc"){this.field=e;this.dir=t}}function rz(e){return e.field.canonicalString()+e.dir}function rq(e){return`${e.field.canonicalString()} (${e.dir})`}function r$(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class rG{}class rW extends rG{constructor(e,t,n){super();this.field=e;this.op=t;this.value=n}static create(e,t,n){if(e.isKeyField()){if(t==="in"||t==="not-in"){return this.createKeyFieldInFilter(e,t,n)}else{return new r5(e,t,n)}}else if(t==="array-contains"){return new ie(e,n)}else if(t==="in"){return new it(e,n)}else if(t==="not-in"){return new ir(e,n)}else if(t==="array-contains-any"){return new ii(e,n)}else{return new rW(e,t,n)}}static createKeyFieldInFilter(e,t,n){return t==="in"?new r8(e,n):new r7(e,n)}matches(e){const t=e.data.field(this.field);if(this.op==="!="){return t!==null&&t.nullValue===undefined&&this.matchesComparison(n5(t,this.value))}return t!==null&&nJ(this.value)===nJ(t)&&this.matchesComparison(n5(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return A(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rH extends rG{constructor(e,t){super();this.filters=e;this.op=t;this.memoizedFlattenedFilters=null}static create(e,t){return new rH(e,t)}matches(e){if(rK(this)){return this.filters.find(t=>!t.matches(e))===undefined}else{return this.filters.find(t=>t.matches(e))!==undefined}}getFlattenedFilters(){if(this.memoizedFlattenedFilters!==null){return this.memoizedFlattenedFilters}this.memoizedFlattenedFilters=this.filters.reduce((e,t)=>{return e.concat(t.getFlattenedFilters())},[]);return this.memoizedFlattenedFilters}getFilters(){return Object.assign([],this.filters)}}function rK(e){return e.op==="and"}function rQ(e){return e.op==="or"}function rY(e){return rX(e)&&rK(e)}function rX(e){for(const t of e.filters){if(t instanceof rH){return false}}return true}function rJ(e){if(e instanceof rW){return e.field.canonicalString()+e.op.toString()+rs(e.value)}else if(rY(e)){return e.filters.map(e=>rJ(e)).join(",")}else{const t=e.filters.map(e=>rJ(e)).join(",");return`${e.op}(${t})`}}function rZ(e,t){if(e instanceof rW){return r0(e,t)}else if(e instanceof rH){return r1(e,t)}else{A(19439)}}function r0(e,t){return t instanceof rW&&e.op===t.op&&e.field.isEqual(t.field)&&nZ(e.value,t.value)}function r1(e,t){if(t instanceof rH&&e.op===t.op&&e.filters.length===t.filters.length){const n=e.filters.reduce((e,n,r)=>e&&rZ(n,t.filters[r]),true);return n}return false}function r2(e,t){const n=e.filters.concat(t);return rH.create(n,e.op)}function r3(e){if(e instanceof rW){return r4(e)}else if(e instanceof rH){return r6(e)}else{return"Filter"}}function r6(e){return e.op.toString()+` {`+e.getFilters().map(r3).join(" ,")+"}"}function r4(e){return`${e.field.canonicalString()} ${e.op} ${rs(e.value)}`}class r5 extends rW{constructor(e,t,n){super(e,t,n);this.key=ef.fromName(n.referenceValue)}matches(e){const t=ef.comparator(e.key,this.key);return this.matchesComparison(t)}}class r8 extends rW{constructor(e,t){super(e,"in",t);this.keys=r9("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class r7 extends rW{constructor(e,t){super(e,"not-in",t);this.keys=r9("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function r9(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(e=>{return ef.fromName(e.referenceValue)})}class ie extends rW{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rw(t)&&n4(t.arrayValue,this.value)}}class it extends rW{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&n4(this.value.arrayValue,t)}}class ir extends rW{constructor(e,t){super(e,"not-in",t)}matches(e){if(n4(this.value.arrayValue,{nullValue:"NULL_VALUE"})){return false}const t=e.data.field(this.field);return t!==null&&t.nullValue===undefined&&!n4(this.value.arrayValue,t)}}class ii extends rW{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);if(!rw(t)||!t.arrayValue.values){return false}return t.arrayValue.values.some(e=>n4(this.value.arrayValue,e))}}class is{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e;this.collectionGroup=t;this.orderBy=n;this.filters=r;this.limit=i;this.startAt=s;this.endAt=o;this.memoizedCanonicalId=null}}function io(e,t=null,n=[],r=[],i=null,s=null,o=null){return new is(e,t,n,r,i,s,o)}function ia(e){const t=N(e);if(t.memoizedCanonicalId===null){let e=t.path.canonicalString();if(t.collectionGroup!==null){e+="|cg:"+t.collectionGroup}e+="|f:";e+=t.filters.map(e=>rJ(e)).join(",");e+="|ob:";e+=t.orderBy.map(e=>rz(e)).join(",");if(!nq(t.limit)){e+="|l:";e+=t.limit}if(t.startAt){e+="|lb:";e+=t.startAt.inclusive?"b:":"a:";e+=t.startAt.position.map(e=>rs(e)).join(",")}if(t.endAt){e+="|ub:";e+=t.endAt.inclusive?"a:":"b:";e+=t.endAt.position.map(e=>rs(e)).join(",")}t.memoizedCanonicalId=e}return t.memoizedCanonicalId}function ic(e){let t=e.path.canonicalString();if(e.collectionGroup!==null){t+=" collectionGroup="+e.collectionGroup}if(e.filters.length>0){t+=`, filters: [${e.filters.map(e=>r3(e)).join(", ")}]`}if(!nq(e.limit)){t+=", limit: "+e.limit}if(e.orderBy.length>0){t+=`, orderBy: [${e.orderBy.map(e=>rq(e)).join(", ")}]`}if(e.startAt){t+=", startAt: ";t+=e.startAt.inclusive?"b:":"a:";t+=e.startAt.position.map(e=>rs(e)).join(",")}if(e.endAt){t+=", endAt: ";t+=e.endAt.inclusive?"a:":"b:";t+=e.endAt.position.map(e=>rs(e)).join(",")}return`Target(${t})`}function il(e,t){if(e.limit!==t.limit){return false}if(e.orderBy.length!==t.orderBy.length){return false}for(let n=0;n<e.orderBy.length;n++){if(!r$(e.orderBy[n],t.orderBy[n])){return false}}if(e.filters.length!==t.filters.length){return false}for(let n=0;n<e.filters.length;n++){if(!rZ(e.filters[n],t.filters[n])){return false}}if(e.collectionGroup!==t.collectionGroup){return false}if(!e.path.isEqual(t.path)){return false}if(!rU(e.startAt,t.startAt)){return false}return rU(e.endAt,t.endAt)}function iu(e){return ef.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function id(e,t){return e.filters.filter(e=>e instanceof rW&&e.field.isEqual(t))}function ih(e,t){const n=eg(t);if(n===undefined){return null}for(const t of id(e,n.fieldPath)){switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}}return null}function ip(e,t){const n=new Map;for(const r of ey(t)){for(const t of id(e,r.fieldPath)){switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":n.set(r.fieldPath.canonicalString(),t.value);return Array.from(n.values())}}}return null}function im(e,t){const n=[];let r=true;for(const i of ey(t)){const t=i.kind===0?iy(e,i.fieldPath,e.startAt):iv(e,i.fieldPath,e.startAt);n.push(t.value);r&&(r=t.inclusive)}return new rL(n,r)}function ig(e,t){const n=[];let r=true;for(const i of ey(t)){const t=i.kind===0?iv(e,i.fieldPath,e.endAt):iy(e,i.fieldPath,e.endAt);n.push(t.value);r&&(r=t.inclusive)}return new rL(n,r)}function iy(e,t,n){let r=nX;let i=true;for(const n of id(e,t)){let e=nX;let t=true;switch(n.op){case"<":case"<=":e=rO(n.value);break;case"==":case"in":case">=":e=n.value;break;case">":e=n.value;t=false;break;case"!=":case"not-in":e=nX;break}if(rk({value:r,inclusive:i},{value:e,inclusive:t})<0){r=e;i=t}}if(n!==null){for(let s=0;s<e.orderBy.length;++s){const o=e.orderBy[s];if(o.field.isEqual(t)){const e=n.position[s];if(rk({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0){r=e;i=n.inclusive}break}}}return{value:r,inclusive:i}}function iv(e,t,n){let r=nK;let i=true;for(const n of id(e,t)){let e=nK;let t=true;switch(n.op){case">=":case">":e=rA(n.value);t=false;break;case"==":case"in":case"<=":e=n.value;break;case"<":e=n.value;t=false;break;case"!=":case"not-in":e=nK;break}if(rx({value:r,inclusive:i},{value:e,inclusive:t})>0){r=e;i=t}}if(n!==null){for(let s=0;s<e.orderBy.length;++s){const o=e.orderBy[s];if(o.field.isEqual(t)){const e=n.position[s];if(rx({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0){r=e;i=n.inclusive}break}}}return{value:r,inclusive:i}}function ib(e){let t=new nm(ed.comparator);let n=false;for(const r of e.filters){for(const e of r.getFlattenedFilters()){if(e.field.isKeyField()){continue}if(e.op==="array-contains"||e.op==="array-contains-any"){n=true}else{t=t.add(e.field)}}}for(const n of e.orderBy){if(!n.field.isKeyField()){t=t.add(n.field)}}return t.size+(n?1:0)}function iw(e){return e.limit!==null}class iE{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e;this.collectionGroup=t;this.explicitOrderBy=n;this.filters=r;this.limit=i;this.limitType=s;this.startAt=o;this.endAt=a;this.memoizedNormalizedOrderBy=null;this.memoizedTarget=null;this.memoizedAggregateTarget=null;if(this.startAt);if(this.endAt);}}function i_(e,t,n,r,i,s,o,a){return new iE(e,t,n,r,i,s,o,a)}function iS(e){return new iE(e)}function iT(e,t){return new iE(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function iC(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function iI(e){let t=new nm(ed.comparator);e.filters.forEach(e=>{const n=e.getFlattenedFilters();n.forEach(e=>{if(e.isInequality()){t=t.add(e.field)}})});return t}function iR(e){return new iE(el.emptyPath(),e)}function iO(e){return ef.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function iA(e){return e.collectionGroup!==null}function ik(e){const t=N(e);if(t.memoizedNormalizedOrderBy===null){t.memoizedNormalizedOrderBy=[];const e=new Set;for(const n of t.explicitOrderBy){t.memoizedNormalizedOrderBy.push(n);e.add(n.field.canonicalString())}const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";const r=iI(t);r.forEach(r=>{if(!e.has(r.canonicalString())&&!r.isKeyField()){t.memoizedNormalizedOrderBy.push(new rV(r,n))}});if(!e.has(ed.keyField().canonicalString())){t.memoizedNormalizedOrderBy.push(new rV(ed.keyField(),n))}}return t.memoizedNormalizedOrderBy}function ix(e){const t=N(e);if(!t.memoizedTarget){t.memoizedTarget=iN(t,ik(e))}return t.memoizedTarget}function iP(e){const t=N(e);if(!t.memoizedAggregateTarget){t.memoizedAggregateTarget=iN(t,e.explicitOrderBy)}return t.memoizedAggregateTarget}function iN(e,t){if(e.limitType==="F"){return io(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt)}else{t=t.map(e=>{const t=e.dir==="desc"?"asc":"desc";return new rV(e.field,t)});const n=e.endAt?new rL(e.endAt.position,e.endAt.inclusive):null;const r=e.startAt?new rL(e.startAt.position,e.startAt.inclusive):null;return io(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function iD(e,t){const n=e.filters.concat([t]);return new iE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function iM(e,t){const n=e.explicitOrderBy.concat([t]);return new iE(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function iL(e,t,n){return new iE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ij(e,t){return new iE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}function iF(e,t){return new iE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}function iB(e,t){return il(ix(e),ix(t))&&e.limitType===t.limitType}function iU(e){return`${ia(ix(e))}|lt:${e.limitType}`}function iV(e){return`Query(target=${ic(ix(e))}; limitType=${e.limitType})`}function iz(e,t){return t.isFoundDocument()&&iq(e,t)&&i$(e,t)&&iG(e,t)&&iW(e,t)}function iq(e,t){const n=t.key.path;if(e.collectionGroup!==null){return t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}else if(ef.isDocumentKey(e.path)){return e.path.isEqual(n)}else{return e.path.isImmediateParentOf(n)}}function i$(e,t){for(const n of ik(e)){if(!n.field.isKeyField()&&t.data.field(n.field)===null){return false}}return true}function iG(e,t){for(const n of e.filters){if(!n.matches(t)){return false}}return true}function iW(e,t){if(e.startAt&&!rB(e.startAt,ik(e),t)){return false}if(e.endAt&&!rF(e.endAt,ik(e),t)){return false}return true}function iH(e){return e.collectionGroup||(e.path.length%2===1?e.path.lastSegment():e.path.get(e.path.length-2))}function iK(e){return(t,n)=>{let r=false;for(const i of ik(e)){const e=iQ(i,t,n);if(e!==0){return e}r=r||i.field.isKeyField()}return 0}}function iQ(e,t,n){const r=e.field.isKeyField()?ef.comparator(t.key,n.key):rM(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return A(19790,{direction:e.dir})}}class iY{constructor(e,t){this.mapKeyFn=e;this.equalsFn=t;this.inner={};this.innerSize=0}get(e){const t=this.mapKeyFn(e);const n=this.inner[t];if(n===undefined){return undefined}for(const[t,r]of n){if(this.equalsFn(t,e)){return r}}return undefined}has(e){return this.get(e)!==undefined}set(e,t){const n=this.mapKeyFn(e);const r=this.inner[n];if(r===undefined){this.inner[n]=[[e,t]];this.innerSize++;return}for(let n=0;n<r.length;n++){if(this.equalsFn(r[n][0],e)){r[n]=[e,t];return}}r.push([e,t]);this.innerSize++}delete(e){const t=this.mapKeyFn(e);const n=this.inner[t];if(n===undefined){return false}for(let r=0;r<n.length;r++){if(this.equalsFn(n[r][0],e)){if(n.length===1){delete this.inner[t]}else{n.splice(r,1)}this.innerSize--;return true}}return false}forEach(e){nc(this.inner,(t,n)=>{for(const[t,r]of n){e(t,r)}})}isEmpty(){return nu(this.inner)}size(){return this.innerSize}}const iX=new nd(ef.comparator);function iJ(){return iX}const iZ=new nd(ef.comparator);function i0(...e){let t=iZ;for(const n of e){t=t.insert(n.key,n)}return t}function i1(){return i4()}function i2(e){let t=iZ;e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument));return t}function i3(){return i4()}function i6(){return i4()}function i4(){return new iY(e=>e.toString(),(e,t)=>e.isEqual(t))}const i5=new nd(ef.comparator);function i8(){return i5}const i7=new nm(ef.comparator);function i9(...e){let t=i7;for(const n of e){t=t.add(n)}return t}const se=new nm(X);function st(){return se}function sn(e,t){if(e.useProto3Json){if(isNaN(t)){return{doubleValue:"NaN"}}else if(t===Infinity){return{doubleValue:"Infinity"}}else if(t===-Infinity){return{doubleValue:"-Infinity"}}}return{doubleValue:n$(t)?"-0":t}}function sr(e){return{integerValue:""+e}}function si(e,t){return nG(t)?sr(t):sn(e,t)}class ss{constructor(){this._=undefined}}function so(e,t,n){if(e instanceof su){return nM(n,t)}else if(e instanceof sd){return sf(e,t)}else if(e instanceof sh){return sp(e,t)}else{return sg(e,t)}}function sa(e,t,n){if(e instanceof sd){return sf(e,t)}else if(e instanceof sh){return sp(e,t)}return n}function sc(e,t){if(e instanceof sm){return rb(t)?t:{integerValue:0}}return null}function sl(e,t){if(e instanceof sd&&t instanceof sd){return et(e.elements,t.elements,nZ)}else if(e instanceof sh&&t instanceof sh){return et(e.elements,t.elements,nZ)}else if(e instanceof sm&&t instanceof sm){return nZ(e.operand,t.operand)}return e instanceof su&&t instanceof su}class su extends ss{}class sd extends ss{constructor(e){super();this.elements=e}}function sf(e,t){const n=sv(t);for(const t of e.elements){if(!n.some(e=>nZ(e,t))){n.push(t)}}return{arrayValue:{values:n}}}class sh extends ss{constructor(e){super();this.elements=e}}function sp(e,t){let n=sv(t);for(const t of e.elements){n=n.filter(e=>!nZ(e,t))}return{arrayValue:{values:n}}}class sm extends ss{constructor(e,t){super();this.serializer=e;this.operand=t}}function sg(e,t){const n=sc(e,t);const r=sy(n)+sy(e.operand);if(ry(n)&&ry(e.operand)){return sr(r)}else{return sn(e.serializer,r)}}function sy(e){return nO(e.integerValue||e.doubleValue)}function sv(e){return rw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class sb{constructor(e,t){this.field=e;this.transform=t}}function sw(e,t){return e.field.isEqual(t.field)&&sl(e.transform,t.transform)}function sE(e,t){if(e===undefined&&t===undefined){return true}if(e&&t){return et(e,t,(e,t)=>sw(e,t))}return false}class s_{constructor(e,t){this.version=e;this.transformResults=t}}class sS{constructor(e,t){this.updateTime=e;this.exists=t}static none(){return new sS}static exists(e){return new sS(undefined,e)}static updateTime(e){return new sS(e)}get isNone(){return this.updateTime===undefined&&this.exists===undefined}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sT(e,t){if(e.updateTime!==undefined){return t.isFoundDocument()&&t.version.isEqual(e.updateTime)}else if(e.exists!==undefined){return e.exists===t.isFoundDocument()}else{return true}}class sC{}function sI(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0){return null}if(t===null){if(e.isNoDocument()){return new sU(e.key,sS.none())}else{return new sx(e.key,e.data,sS.none())}}else{const n=e.data;const r=rP.empty();let i=new nm(ed.comparator);for(let e of t.fields){if(!i.has(e)){let t=n.field(e);if(t===null&&e.length>1){e=e.popLast();t=n.field(e)}if(t===null){r.delete(e)}else{r.set(e,t)}i=i.add(e)}}return new sD(e.key,r,new nb(i.toArray()),sS.none())}}function sR(e,t,n){if(e instanceof sx){sP(e,t,n)}else if(e instanceof sD){sM(e,t,n)}else{sV(e,t,n)}}function sO(e,t,n,r){if(e instanceof sx){return sN(e,t,n,r)}else if(e instanceof sD){return sL(e,t,n,r)}else{return sz(e,t,n)}}function sA(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field);const i=sc(r.transform,e||null);if(i!=null){if(n===null){n=rP.empty()}n.set(r.field,i)}}return n?n:null}function sk(e,t){if(e.type!==t.type){return false}if(!e.key.isEqual(t.key)){return false}if(!e.precondition.isEqual(t.precondition)){return false}if(!sE(e.fieldTransforms,t.fieldTransforms)){return false}if(e.type===0){return e.value.isEqual(t.value)}if(e.type===1){return e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)}return true}class sx extends sC{constructor(e,t,n,r=[]){super();this.key=e;this.value=t;this.precondition=n;this.fieldTransforms=r;this.type=0}getFieldMask(){return null}}function sP(e,t,n){const r=e.value.clone();const i=sF(e.fieldTransforms,t,n.transformResults);r.setAll(i);t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}function sN(e,t,n,r){if(!sT(e.precondition,t)){return n}const i=e.value.clone();const s=sB(e.fieldTransforms,r,t);i.setAll(s);t.convertToFoundDocument(t.version,i).setHasLocalMutations();return null}class sD extends sC{constructor(e,t,n,r,i=[]){super();this.key=e;this.data=t;this.fieldMask=n;this.precondition=r;this.fieldTransforms=i;this.type=1}getFieldMask(){return this.fieldMask}}function sM(e,t,n){if(!sT(e.precondition,t)){t.convertToUnknownDocument(n.version);return}const r=sF(e.fieldTransforms,t,n.transformResults);const i=t.data;i.setAll(sj(e));i.setAll(r);t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}function sL(e,t,n,r){if(!sT(e.precondition,t)){return n}const i=sB(e.fieldTransforms,r,t);const s=t.data;s.setAll(sj(e));s.setAll(i);t.convertToFoundDocument(t.version,s).setHasLocalMutations();if(n===null){return null}return n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}function sj(e){const t=new Map;e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}});return t}function sF(e,t,n){const r=new Map;x(e.length===n.length,32656,{serverTransformResultCount:n.length,fieldTransformCount:e.length});for(let i=0;i<n.length;i++){const s=e[i];const o=s.transform;const a=t.data.field(s.field);r.set(s.field,sa(o,a,n[i]))}return r}function sB(e,t,n){const r=new Map;for(const i of e){const e=i.transform;const s=n.data.field(i.field);r.set(i.field,so(e,s,t))}return r}class sU extends sC{constructor(e,t){super();this.key=e;this.precondition=t;this.type=2;this.fieldTransforms=[]}getFieldMask(){return null}}function sV(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}function sz(e,t,n){if(sT(e.precondition,t)){t.convertToNoDocument(t.version).setHasLocalMutations();return null}return n}class sq extends sC{constructor(e,t){super();this.key=e;this.precondition=t;this.type=3;this.fieldTransforms=[]}getFieldMask(){return null}}class s${constructor(e,t,n,r){this.batchId=e;this.localWriteTime=t;this.baseMutations=n;this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];if(r.key.isEqual(e.key)){const i=n[t];sR(r,e,i)}}}applyToLocalView(e,t){for(const n of this.baseMutations){if(n.key.isEqual(e.key)){t=sO(n,e,t,this.localWriteTime)}}for(const n of this.mutations){if(n.key.isEqual(e.key)){t=sO(n,e,t,this.localWriteTime)}}return t}applyToLocalDocumentSet(e,t){const n=i6();this.mutations.forEach(r=>{const i=e.get(r.key);const s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=sI(s,o);if(a!==null){n.set(r.key,a)}if(!s.isValidDocument()){s.convertToNoDocument(eo.min())}});return n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),i9())}isEqual(e){return this.batchId===e.batchId&&et(this.mutations,e.mutations,(e,t)=>sk(e,t))&&et(this.baseMutations,e.baseMutations,(e,t)=>sk(e,t))}}class sG{constructor(e,t,n,r){this.batch=e;this.commitVersion=t;this.mutationResults=n;this.docVersions=r}static from(e,t,n){x(e.mutations.length===n.length,58842,{mutationsSent:e.mutations.length,resultsReceived:n.length});let r=i8();const i=e.mutations;for(let e=0;e<i.length;e++){r=r.insert(i[e].key,n[e].version)}return new sG(e,t,n,r)}}class sW{constructor(e,t){this.largestBatchId=e;this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class sH{constructor(e,t){this.count=e;this.unchangedNames=t}}var sK;(function(e){e[e["OK"]=0]="OK";e[e["CANCELLED"]=1]="CANCELLED";e[e["UNKNOWN"]=2]="UNKNOWN";e[e["INVALID_ARGUMENT"]=3]="INVALID_ARGUMENT";e[e["DEADLINE_EXCEEDED"]=4]="DEADLINE_EXCEEDED";e[e["NOT_FOUND"]=5]="NOT_FOUND";e[e["ALREADY_EXISTS"]=6]="ALREADY_EXISTS";e[e["PERMISSION_DENIED"]=7]="PERMISSION_DENIED";e[e["UNAUTHENTICATED"]=16]="UNAUTHENTICATED";e[e["RESOURCE_EXHAUSTED"]=8]="RESOURCE_EXHAUSTED";e[e["FAILED_PRECONDITION"]=9]="FAILED_PRECONDITION";e[e["ABORTED"]=10]="ABORTED";e[e["OUT_OF_RANGE"]=11]="OUT_OF_RANGE";e[e["UNIMPLEMENTED"]=12]="UNIMPLEMENTED";e[e["INTERNAL"]=13]="INTERNAL";e[e["UNAVAILABLE"]=14]="UNAVAILABLE";e[e["DATA_LOSS"]=15]="DATA_LOSS"})(sK||(sK={}));function sQ(e){switch(e){case D.OK:return A(64938);case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return false;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return true;default:return A(15467,{code:e})}}function sY(e){return sQ(e)&&e!==D.ABORTED}function sX(e){if(e===undefined){I("GRPC error has no .code");return D.UNKNOWN}switch(e){case sK.OK:return D.OK;case sK.CANCELLED:return D.CANCELLED;case sK.UNKNOWN:return D.UNKNOWN;case sK.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case sK.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case sK.INTERNAL:return D.INTERNAL;case sK.UNAVAILABLE:return D.UNAVAILABLE;case sK.UNAUTHENTICATED:return D.UNAUTHENTICATED;case sK.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case sK.NOT_FOUND:return D.NOT_FOUND;case sK.ALREADY_EXISTS:return D.ALREADY_EXISTS;case sK.PERMISSION_DENIED:return D.PERMISSION_DENIED;case sK.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case sK.ABORTED:return D.ABORTED;case sK.OUT_OF_RANGE:return D.OUT_OF_RANGE;case sK.UNIMPLEMENTED:return D.UNIMPLEMENTED;case sK.DATA_LOSS:return D.DATA_LOSS;default:return A(39323,{code:e})}}class sJ extends Error{constructor(){super(...arguments);this.name="Base64DecodeError"}}let sZ=null;function s0(e){if(sZ){throw new Error("a TestingHooksSpi instance is already set")}sZ=e}const s1=new d([0xffffffff,0xffffffff],0);function s2(e){const t=K().encode(e);const n=new f;n.update(t);return new Uint8Array(n.digest())}function s3(e){const t=new DataView(e.buffer);const n=t.getUint32(0,true);const r=t.getUint32(4,true);const i=t.getUint32(8,true);const s=t.getUint32(12,true);const o=new d([n,r],0);const a=new d([i,s],0);return[o,a]}class s6{constructor(e,t,n){this.bitmap=e;this.padding=t;this.hashCount=n;if(t<0||t>=8){throw new s4(`Invalid padding: ${t}`)}if(n<0){throw new s4(`Invalid hash count: ${n}`)}if(e.length>0&&this.hashCount===0){throw new s4(`Invalid hash count: ${n}`)}if(e.length===0&&t!==0){throw new s4(`Invalid padding when bitmap length is 0: ${t}`)}this.bitCount=e.length*8-t;this.bitCountInInteger=d.fromNumber(this.bitCount)}getBitIndex(e,t,n){let r=e.add(t.multiply(d.fromNumber(n)));if(r.compare(s1)===1){r=new d([r.getBits(0),r.getBits(1)],0)}return r.modulo(this.bitCountInInteger).toNumber()}isBitSet(e){const t=this.bitmap[Math.floor(e/8)];const n=e%8;return(t&1<<n)!==0}mightContain(e){if(this.bitCount===0){return false}const t=s2(e);const[n,r]=s3(t);for(let e=0;e<this.hashCount;e++){const t=this.getBitIndex(n,r,e);if(!this.isBitSet(t)){return false}}return true}static create(e,t,n){const r=e%8===0?0:8-e%8;const i=new Uint8Array(Math.ceil(e/8));const s=new s6(i,r,t);n.forEach(e=>s.insert(e));return s}insert(e){if(this.bitCount===0){return}const t=s2(e);const[n,r]=s3(t);for(let e=0;e<this.hashCount;e++){const t=this.getBitIndex(n,r,e);this.setBit(t)}}setBit(e){const t=Math.floor(e/8);const n=e%8;this.bitmap[t]|=1<<n}}class s4 extends Error{constructor(){super(...arguments);this.name="BloomFilterError"}}class s5{constructor(e,t,n,r,i){this.snapshotVersion=e;this.targetChanges=t;this.targetMismatches=n;this.documentUpdates=r;this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;r.set(e,s8.createSynthesizedTargetChangeForCurrentChange(e,t,n));return new s5(eo.min(),r,new nd(X),iJ(),i9())}}class s8{constructor(e,t,n,r,i){this.resumeToken=e;this.current=t;this.addedDocuments=n;this.modifiedDocuments=r;this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new s8(n,t,i9(),i9(),i9())}}class s7{constructor(e,t,n,r){this.updatedTargetIds=e;this.removedTargetIds=t;this.key=n;this.newDoc=r}}class s9{constructor(e,t){this.targetId=e;this.existenceFilter=t}}class oe{constructor(e,t,n=nS.EMPTY_BYTE_STRING,r=null){this.state=e;this.targetIds=t;this.resumeToken=n;this.cause=r}}class ot{constructor(){this.pendingResponses=0;this.documentChanges=os();this._resumeToken=nS.EMPTY_BYTE_STRING;this._current=false;this._hasPendingChanges=true}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return this.pendingResponses!==0}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(e){if(e.approximateByteSize()>0){this._hasPendingChanges=true;this._resumeToken=e}}toTargetChange(){let e=i9();let t=i9();let n=i9();this.documentChanges.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:A(38017,{changeType:i})}});return new s8(this._resumeToken,this._current,e,t,n)}clearPendingChanges(){this._hasPendingChanges=false;this.documentChanges=os()}addDocumentChange(e,t){this._hasPendingChanges=true;this.documentChanges=this.documentChanges.insert(e,t)}removeDocumentChange(e){this._hasPendingChanges=true;this.documentChanges=this.documentChanges.remove(e)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1;x(this.pendingResponses>=0,3241,{pendingResponses:this.pendingResponses})}markCurrent(){this._hasPendingChanges=true;this._current=true}}const on="WatchChangeAggregator";class or{constructor(e){this.metadataProvider=e;this.targetStates=new Map;this.pendingDocumentUpdates=iJ();this.pendingDocumentUpdatesByTarget=oi();this.pendingDocumentTargetMapping=oi();this.pendingTargetResets=new nd(X)}handleDocumentChange(e){for(const t of e.updatedTargetIds){if(e.newDoc&&e.newDoc.isFoundDocument()){this.addDocumentToTarget(t,e.newDoc)}else{this.removeDocumentFromTarget(t,e.key,e.newDoc)}}for(const t of e.removedTargetIds){this.removeDocumentFromTarget(t,e.key,e.newDoc)}}handleTargetChange(e){this.forEachTarget(e,t=>{const n=this.ensureTargetState(t);switch(e.state){case 0:if(this.isActiveTarget(t)){n.updateResumeToken(e.resumeToken)}break;case 1:n.recordTargetResponse();if(!n.isPending){n.clearPendingChanges()}n.updateResumeToken(e.resumeToken);break;case 2:n.recordTargetResponse();if(!n.isPending){this.removeTarget(t)}break;case 3:if(this.isActiveTarget(t)){n.markCurrent();n.updateResumeToken(e.resumeToken)}break;case 4:if(this.isActiveTarget(t)){this.resetTarget(t);n.updateResumeToken(e.resumeToken)}break;default:A(56790,{state:e.state})}})}forEachTarget(e,t){if(e.targetIds.length>0){e.targetIds.forEach(t)}else{this.targetStates.forEach((e,n)=>{if(this.isActiveTarget(n)){t(n)}})}}handleExistenceFilter(e){const t=e.targetId;const n=e.existenceFilter.count;const r=this.targetDataForActiveTarget(t);if(r){const i=r.target;if(iu(i)){if(n===0){const e=new ef(i.path);this.removeDocumentFromTarget(t,e,rD.newNoDocument(e,eo.min()))}else{x(n===1,20013,{expectedCount:n})}}else{const r=this.getCurrentDocumentCountForTarget(t);if(r!==n){const n=this.parseBloomFilter(e);const i=n?this.applyBloomFilter(n,e,r):1;if(i!==0){this.resetTarget(t);const e=i===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(t,e)}sZ===null||sZ===void 0?void 0:sZ.notifyOnExistenceFilterMismatch(oo(r,e.existenceFilter,this.metadataProvider.getDatabaseId(),n,i))}}}}parseBloomFilter(e){const t=e.existenceFilter.unchangedNames;if(!t||!t.bits){return null}const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s;try{s=nA(n).toUint8Array()}catch(e){if(e instanceof sJ){R("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query.");return null}else{throw e}}let o;try{o=new s6(s,r,i)}catch(e){if(e instanceof s4){R("BloomFilter error: ",e)}else{R("Applying bloom filter failed: ",e)}return null}if(o.bitCount===0){return null}return o}applyBloomFilter(e,t,n){const r=t.existenceFilter.count;const i=this.filterRemovedDocuments(e,t.targetId);return r===n-i?0:2}filterRemovedDocuments(e,t){const n=this.metadataProvider.getRemoteKeysForTarget(t);let r=0;n.forEach(n=>{const i=this.metadataProvider.getDatabaseId();const s=`projects/${i.projectId}`+`/databases/${i.database}`+`/documents/${n.path.canonicalString()}`;if(!e.mightContain(s)){this.removeDocumentFromTarget(t,n,null);r++}});return r}createRemoteEvent(e){const t=new Map;this.targetStates.forEach((n,r)=>{const i=this.targetDataForActiveTarget(r);if(i){if(n.current&&iu(i.target)){const t=new ef(i.target.path);if(!this.ensureDocumentUpdateByTarget(t).has(r)&&!this.targetContainsDocument(r,t)){this.removeDocumentFromTarget(r,t,rD.newNoDocument(t,e))}}if(n.hasPendingChanges){t.set(r,n.toTargetChange());n.clearPendingChanges()}}});let n=i9();this.pendingDocumentTargetMapping.forEach((e,t)=>{let r=true;t.forEachWhile(e=>{const t=this.targetDataForActiveTarget(e);if(t&&t.purpose!=="TargetPurposeLimboResolution"){r=false;return false}return true});if(r){n=n.add(e)}});this.pendingDocumentUpdates.forEach((t,n)=>n.setReadTime(e));const r=new s5(e,t,this.pendingTargetResets,this.pendingDocumentUpdates,n);this.pendingDocumentUpdates=iJ();this.pendingDocumentUpdatesByTarget=oi();this.pendingDocumentTargetMapping=oi();this.pendingTargetResets=new nd(X);return r}addDocumentToTarget(e,t){if(!this.isActiveTarget(e)){return}const n=this.targetContainsDocument(e,t.key)?2:0;const r=this.ensureTargetState(e);r.addDocumentChange(t.key,n);this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t);this.pendingDocumentUpdatesByTarget=this.pendingDocumentUpdatesByTarget.insert(t.key,this.ensureDocumentUpdateByTarget(t.key).add(e));this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}removeDocumentFromTarget(e,t,n){if(!this.isActiveTarget(e)){return}const r=this.ensureTargetState(e);if(this.targetContainsDocument(e,t)){r.addDocumentChange(t,1)}else{r.removeDocumentChange(t)}this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e));this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).add(e));if(n){this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n)}}removeTarget(e){this.targetStates.delete(e)}getCurrentDocumentCountForTarget(e){const t=this.ensureTargetState(e);const n=t.toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}recordPendingTargetRequest(e){const t=this.ensureTargetState(e);t.recordPendingTargetRequest()}ensureTargetState(e){let t=this.targetStates.get(e);if(!t){t=new ot;this.targetStates.set(e,t)}return t}ensureDocumentTargetMapping(e){let t=this.pendingDocumentTargetMapping.get(e);if(!t){t=new nm(X);this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)}return t}ensureDocumentUpdateByTarget(e){let t=this.pendingDocumentUpdatesByTarget.get(e);if(!t){t=new nm(X);this.pendingDocumentUpdatesByTarget=this.pendingDocumentUpdatesByTarget.insert(e,t)}return t}isActiveTarget(e){const t=this.targetDataForActiveTarget(e)!==null;if(!t){C(on,"Detected inactive target",e)}return t}targetDataForActiveTarget(e){const t=this.targetStates.get(e);return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)}resetTarget(e){this.targetStates.set(e,new ot);const t=this.metadataProvider.getRemoteKeysForTarget(e);t.forEach(t=>{this.removeDocumentFromTarget(e,t,null)})}targetContainsDocument(e,t){const n=this.metadataProvider.getRemoteKeysForTarget(e);return n.has(t)}}function oi(){return new nd(ef.comparator)}function os(){return new nd(ef.comparator)}function oo(e,t,n,r,i){var s,o,a,c,l,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId};const f=t.unchangedNames;if(f){d.bloomFilter={applied:i===0,hashCount:(s=f===null||f===void 0?void 0:f.hashCount)!==null&&s!==void 0?s:0,bitmapLength:(c=(a=(o=f===null||f===void 0?void 0:f.bits)===null||o===void 0?void 0:o.bitmap)===null||a===void 0?void 0:a.length)!==null&&c!==void 0?c:0,padding:(u=(l=f===null||f===void 0?void 0:f.bits)===null||l===void 0?void 0:l.padding)!==null&&u!==void 0?u:0,mightContain:e=>{var t;return(t=r===null||r===void 0?void 0:r.mightContain(e))!==null&&t!==void 0?t:false}}}return d}const oa=(()=>{const e={};e["asc"]="ASCENDING";e["desc"]="DESCENDING";return e})();const oc=(()=>{const e={};e["<"]="LESS_THAN";e["<="]="LESS_THAN_OR_EQUAL";e[">"]="GREATER_THAN";e[">="]="GREATER_THAN_OR_EQUAL";e["=="]="EQUAL";e["!="]="NOT_EQUAL";e["array-contains"]="ARRAY_CONTAINS";e["in"]="IN";e["not-in"]="NOT_IN";e["array-contains-any"]="ARRAY_CONTAINS_ANY";return e})();const ol=(()=>{const e={};e["and"]="AND";e["or"]="OR";return e})();function ou(e,t){}class od{constructor(e,t){this.databaseId=e;this.useProto3Json=t}}function of(e){const t=e.code===undefined?D.UNKNOWN:sX(e.code);return new M(t,e.message||"")}function oh(e,t){if(e.useProto3Json||nq(t)){return t}else{return{value:t}}}function op(e){let t;if(typeof e==="object"){t=e.value}else{t=e}return nq(t)?null:t}function om(e,t){if(e.useProto3Json){const e=new Date(t.seconds*1e3).toISOString();const n=e.replace(/\.\d*/,"").replace("Z","");const r=("000000000"+t.nanoseconds).slice(-9);return`${n}.${r}Z`}else{return{seconds:""+t.seconds,nanos:t.nanoseconds}}}function og(e){const t=nR(e);return new es(t.seconds,t.nanos)}function oy(e,t){if(e.useProto3Json){return t.toBase64()}else{return t.toUint8Array()}}function ov(e,t){if(e.useProto3Json){x(t===undefined||typeof t==="string",58123);return nS.fromBase64String(t?t:"")}else{x(t===undefined||t instanceof Buffer||t instanceof Uint8Array,16193);return nS.fromUint8Array(t?t:new Uint8Array)}}function ob(e,t){return om(e,t.toTimestamp())}function ow(e){x(!!e,49232);return eo.fromTimestamp(og(e))}function oE(e,t){return o_(e,t).canonicalString()}function o_(e,t){const n=oA(e).child("documents");return t===undefined?n:n.child(t)}function oS(e){const t=el.fromString(e);x(aw(t),10190,{key:t.toString()});return t}function oT(e,t){return oE(e.databaseId,t.path)}function oC(e,t){const n=oS(t);if(n.get(1)!==e.databaseId.projectId){throw new M(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId)}if(n.get(3)!==e.databaseId.database){throw new M(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database)}return new ef(ok(n))}function oI(e,t){return oE(e.databaseId,t)}function oR(e){const t=oS(e);if(t.length===4){return el.emptyPath()}return ok(t)}function oO(e){const t=new el(["projects",e.databaseId.projectId,"databases",e.databaseId.database]);return t.canonicalString()}function oA(e){return new el(["projects",e.projectId,"databases",e.database])}function ok(e){x(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()});return e.popFirst(5)}function ox(e,t,n){return{name:oT(e,t),fields:n.value.mapValue.fields}}function oP(e,t){return{name:oT(e,t.key),fields:t.data.value.mapValue.fields,updateTime:om(e,t.version.toTimestamp()),createTime:om(e,t.createTime.toTimestamp())}}function oN(e,t,n){const r=oC(e,t.name);const i=ow(t.updateTime);const s=t.createTime?ow(t.createTime):eo.min();const o=new rP({mapValue:{fields:t.fields}});const a=rD.newFoundDocument(r,i,s,o);if(n){a.setHasCommittedMutations()}return n?a.setHasCommittedMutations():a}function oD(e,t){x(!!t.found,43571);ou(t.found.name);ou(t.found.updateTime);const n=oC(e,t.found.name);const r=ow(t.found.updateTime);const i=t.found.createTime?ow(t.found.createTime):eo.min();const s=new rP({mapValue:{fields:t.found.fields}});return rD.newFoundDocument(n,r,i,s)}function oM(e,t){x(!!t.missing,3894);x(!!t.readTime,22933);const n=oC(e,t.missing);const r=ow(t.readTime);return rD.newNoDocument(n,r)}function oL(e,t){if("found"in t){return oD(e,t)}else if("missing"in t){return oM(e,t)}return A(7234,{result:t})}function oj(e,t){let n;if("targetChange"in t){ou(t.targetChange);const r=oF(t.targetChange.targetChangeType||"NO_CHANGE");const i=t.targetChange.targetIds||[];const s=ov(e,t.targetChange.resumeToken);const o=t.targetChange.cause;const a=o&&of(o);n=new oe(r,i,s,a||null)}else if("documentChange"in t){ou(t.documentChange);const r=t.documentChange;ou(r.document);ou(r.document.name);ou(r.document.updateTime);const i=oC(e,r.document.name);const s=ow(r.document.updateTime);const o=r.document.createTime?ow(r.document.createTime):eo.min();const a=new rP({mapValue:{fields:r.document.fields}});const c=rD.newFoundDocument(i,s,o,a);const l=r.targetIds||[];const u=r.removedTargetIds||[];n=new s7(l,u,c.key,c)}else if("documentDelete"in t){ou(t.documentDelete);const r=t.documentDelete;ou(r.document);const i=oC(e,r.document);const s=r.readTime?ow(r.readTime):eo.min();const o=rD.newNoDocument(i,s);const a=r.removedTargetIds||[];n=new s7([],a,o.key,o)}else if("documentRemove"in t){ou(t.documentRemove);const r=t.documentRemove;ou(r.document);const i=oC(e,r.document);const s=r.removedTargetIds||[];n=new s7([],s,i,null)}else if("filter"in t){ou(t.filter);const e=t.filter;ou(e.targetId);const{count:r=0,unchangedNames:i}=e;const s=new sH(r,i);const o=e.targetId;n=new s9(o,s)}else{return A(11601,{change:t})}return n}function oF(e){if(e==="NO_CHANGE"){return 0}else if(e==="ADD"){return 1}else if(e==="REMOVE"){return 2}else if(e==="CURRENT"){return 3}else if(e==="RESET"){return 4}else{return A(39313,{state:e})}}function oB(e){if(!("targetChange"in e)){return eo.min()}const t=e.targetChange;if(t.targetIds&&t.targetIds.length){return eo.min()}if(!t.readTime){return eo.min()}return ow(t.readTime)}function oU(e,t){let n;if(t instanceof sx){n={update:ox(e,t.key,t.value)}}else if(t instanceof sU){n={delete:oT(e,t.key)}}else if(t instanceof sD){n={update:ox(e,t.key,t.data),updateMask:av(t.fieldMask)}}else if(t instanceof sq){n={verify:oT(e,t.key)}}else{return A(16599,{mutationType:t.type})}if(t.fieldTransforms.length>0){n.updateTransforms=t.fieldTransforms.map(t=>oW(e,t))}if(!t.precondition.isNone){n.currentDocument=oz(e,t.precondition)}return n}function oV(e,t){const n=t.currentDocument?oq(t.currentDocument):sS.none();const r=t.updateTransforms?t.updateTransforms.map(t=>oH(e,t)):[];if(t.update){ou(t.update.name);const i=oC(e,t.update.name);const s=new rP({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=ab(t.updateMask);return new sD(i,s,e,n,r)}else{return new sx(i,s,n,r)}}else if(t.delete){const r=oC(e,t.delete);return new sU(r,n)}else if(t.verify){const r=oC(e,t.verify);return new sq(r,n)}else{return A(1463,{proto:t})}}function oz(e,t){if(t.updateTime!==undefined){return{updateTime:ob(e,t.updateTime)}}else if(t.exists!==undefined){return{exists:t.exists}}else{return A(27497)}}function oq(e){if(e.updateTime!==undefined){return sS.updateTime(ow(e.updateTime))}else if(e.exists!==undefined){return sS.exists(e.exists)}else{return sS.none()}}function o$(e,t){let n=e.updateTime?ow(e.updateTime):ow(t);if(n.isEqual(eo.min())){n=ow(t)}return new s_(n,e.transformResults||[])}function oG(e,t){if(e&&e.length>0){x(t!==undefined,14353);return e.map(e=>o$(e,t))}else{return[]}}function oW(e,t){const n=t.transform;if(n instanceof su){return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"}}else if(n instanceof sd){return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}}}else if(n instanceof sh){return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}}}else if(n instanceof sm){return{fieldPath:t.field.canonicalString(),increment:n.operand}}else{throw A(20930,{transform:t.transform})}}function oH(e,t){let n=null;if("setToServerValue"in t){x(t.setToServerValue==="REQUEST_TIME",16630,{proto:t});n=new su}else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new sd(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new sh(e)}else if("increment"in t){n=new sm(e,t.increment)}else{A(16584,{proto:t})}const r=ed.fromServerFormat(t.fieldPath);return new sb(r,n)}function oK(e,t){return{documents:[oI(e,t.path)]}}function oQ(e){const t=e.documents.length;x(t===1,1966,{count:t});const n=e.documents[0];return ix(iS(oR(n)))}function oY(e,t){const n={structuredQuery:{}};const r=t.path;let i;if(t.collectionGroup!==null){i=r;n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:true}]}else{i=r.popLast();n.structuredQuery.from=[{collectionId:r.lastSegment()}]}n.parent=oI(e,i);const s=o3(t.filters);if(s){n.structuredQuery.where=s}const o=o5(t.orderBy);if(o){n.structuredQuery.orderBy=o}const a=oh(e,t.limit);if(a!==null){n.structuredQuery.limit=a}if(t.startAt){n.structuredQuery.startAt=o7(t.startAt)}if(t.endAt){n.structuredQuery.endAt=o9(t.endAt)}return{queryTarget:n,parent:i}}function oX(e,t,n,r){const{queryTarget:i,parent:s}=oY(e,t);const o={};const a=[];let c=0;n.forEach(e=>{const t=r?e.alias:`aggregate_${c++}`;o[t]=e.alias;if(e.aggregateType==="count"){a.push({alias:t,count:{}})}else if(e.aggregateType==="avg"){a.push({alias:t,avg:{field:ac(e.fieldPath)}})}else if(e.aggregateType==="sum"){a.push({alias:t,sum:{field:ac(e.fieldPath)}})}});return{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:i.structuredQuery},parent:i.parent},aliasMap:o,parent:s}}function oJ(e){let t=oR(e.parent);const n=e.structuredQuery;const r=n.from?n.from.length:0;let i=null;if(r>0){x(r===1,65062);const e=n.from[0];if(e.allDescendants){i=e.collectionId}else{t=t.child(e.collectionId)}}let s=[];if(n.where){s=o6(n.where)}let o=[];if(n.orderBy){o=o8(n.orderBy)}let a=null;if(n.limit){a=op(n.limit)}let c=null;if(n.startAt){c=ae(n.startAt)}let l=null;if(n.endAt){l=at(n.endAt)}return i_(t,i,o,s,a,"F",c,l)}function oZ(e){return ix(oJ(e))}function o0(e,t){const n=o1(t.purpose);if(n==null){return null}else{return{"goog-listen-tags":n}}}function o1(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return A(28987,{purpose:e})}}function o2(e,t){let n;const r=t.target;if(iu(r)){n={documents:oK(e,r)}}else{n={query:oY(e,r).queryTarget}}n.targetId=t.targetId;if(t.resumeToken.approximateByteSize()>0){n.resumeToken=oy(e,t.resumeToken);const r=oh(e,t.expectedCount);if(r!==null){n.expectedCount=r}}else if(t.snapshotVersion.compareTo(eo.min())>0){n.readTime=om(e,t.snapshotVersion.toTimestamp());const r=oh(e,t.expectedCount);if(r!==null){n.expectedCount=r}}return n}function o3(e){if(e.length===0){return}return af(rH.create(e,"and"))}function o6(e){const t=o4(e);if(t instanceof rH&&rY(t)){return t.getFilters()}return[t]}function o4(e){if(e.unaryFilter!==undefined){return am(e)}else if(e.fieldFilter!==undefined){return ag(e)}else if(e.compositeFilter!==undefined){return ay(e)}else{return A(30097,{filter:e})}}function o5(e){if(e.length===0){return}return e.map(e=>au(e))}function o8(e){return e.map(e=>ad(e))}function o7(e){return{before:e.inclusive,values:e.position}}function o9(e){return{before:!e.inclusive,values:e.position}}function ae(e){const t=!!e.before;const n=e.values||[];return new rL(n,t)}function at(e){const t=!e.before;const n=e.values||[];return new rL(n,t)}function an(e){return oa[e]}function ar(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return undefined}}function ai(e){return oc[e]}function as(e){return ol[e]}function ao(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return A(58110);default:return A(50506)}}function aa(e){switch(e){case"AND":return"and";case"OR":return"or";default:return A(1026)}}function ac(e){return{fieldPath:e.canonicalString()}}function al(e){return ed.fromServerFormat(e.fieldPath)}function au(e){return{field:ac(e.field),direction:an(e.dir)}}function ad(e){return new rV(al(e.field),ar(e.direction))}function af(e){if(e instanceof rW){return ap(e)}else if(e instanceof rH){return ah(e)}else{return A(54877,{filter:e})}}function ah(e){const t=e.getFilters().map(e=>af(e));if(t.length===1){return t[0]}return{compositeFilter:{op:as(e.op),filters:t}}}function ap(e){if(e.op==="=="){if(r_(e.value)){return{unaryFilter:{field:ac(e.field),op:"IS_NAN"}}}else if(rE(e.value)){return{unaryFilter:{field:ac(e.field),op:"IS_NULL"}}}}else if(e.op==="!="){if(r_(e.value)){return{unaryFilter:{field:ac(e.field),op:"IS_NOT_NAN"}}}else if(rE(e.value)){return{unaryFilter:{field:ac(e.field),op:"IS_NOT_NULL"}}}}return{fieldFilter:{field:ac(e.field),op:ai(e.op),value:e.value}}}function am(e){switch(e.unaryFilter.op){case"IS_NAN":const t=al(e.unaryFilter.field);return rW.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=al(e.unaryFilter.field);return rW.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=al(e.unaryFilter.field);return rW.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=al(e.unaryFilter.field);return rW.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return A(61313);default:return A(60726)}}function ag(e){return rW.create(al(e.fieldFilter.field),ao(e.fieldFilter.op),e.fieldFilter.value)}function ay(e){return rH.create(e.compositeFilter.filters.map(e=>o4(e)),aa(e.compositeFilter.op))}function av(e){const t=[];e.fields.forEach(e=>t.push(e.canonicalString()));return{fieldPaths:t}}function ab(e){const t=e.fieldPaths||[];return new nb(t.map(e=>ed.fromServerFormat(e)))}function aw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class aE{constructor(e,t,n,r,i=eo.min(),s=eo.min(),o=nS.EMPTY_BYTE_STRING,a=null){this.target=e;this.targetId=t;this.purpose=n;this.sequenceNumber=r;this.snapshotVersion=i;this.lastLimboFreeSnapshotVersion=s;this.resumeToken=o;this.expectedCount=a}withSequenceNumber(e){return new aE(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new aE(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class a_{constructor(e){this.remoteSerializer=e}}function aS(e,t){let n;if(t.document){n=oN(e.remoteSerializer,t.document,!!t.hasCommittedMutations)}else if(t.noDocument){const e=ef.fromSegments(t.noDocument.path);const r=aO(t.noDocument.readTime);n=rD.newNoDocument(e,r);if(t.hasCommittedMutations){n.setHasCommittedMutations()}}else if(t.unknownDocument){const e=ef.fromSegments(t.unknownDocument.path);const r=aO(t.unknownDocument.version);n=rD.newUnknownDocument(e,r)}else{return A(56709)}if(t.readTime){n.setReadTime(aI(t.readTime))}return n}function aT(e,t){const n=t.key;const r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:aC(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument()){r.document=oP(e.remoteSerializer,t)}else if(t.isNoDocument()){r.noDocument={path:n.path.toArray(),readTime:aR(t.version)}}else if(t.isUnknownDocument()){r.unknownDocument={path:n.path.toArray(),version:aR(t.version)}}else{return A(57904,{document:t})}return r}function aC(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function aI(e){const t=new es(e[0],e[1]);return eo.fromTimestamp(t)}function aR(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function aO(e){const t=new es(e.seconds,e.nanoseconds);return eo.fromTimestamp(t)}function aA(e,t,n){const r=n.baseMutations.map(t=>oU(e.remoteSerializer,t));const i=n.mutations.map(t=>oU(e.remoteSerializer,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}function ak(e,t){const n=(t.baseMutations||[]).map(t=>oV(e.remoteSerializer,t));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];const r=e+1<t.mutations.length&&t.mutations[e+1].transform!==undefined;if(r){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms;t.mutations.splice(e+1,1);++e}}const r=t.mutations.map(t=>oV(e.remoteSerializer,t));const i=es.fromMillis(t.localWriteTimeMs);return new s$(t.batchId,i,n,r)}function ax(e){const t=aO(e.readTime);const n=e.lastLimboFreeSnapshotVersion!==undefined?aO(e.lastLimboFreeSnapshotVersion):eo.min();let r;if(aN(e.query)){r=oQ(e.query)}else{r=oZ(e.query)}return new aE(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,nS.fromBase64String(e.resumeToken))}function aP(e,t){const n=aR(t.snapshotVersion);const r=aR(t.lastLimboFreeSnapshotVersion);let i;if(iu(t.target)){i=oK(e.remoteSerializer,t.target)}else{i=oY(e.remoteSerializer,t.target).queryTarget}const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ia(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function aN(e){return e.documents!==undefined}function aD(e){return{id:e.bundleId,createTime:aO(e.createTime),version:e.version}}function aM(e){return{bundleId:e.id,createTime:aR(ow(e.createTime)),version:e.version}}function aL(e){return{name:e.name,query:aF(e.bundledQuery),readTime:aO(e.readTime)}}function aj(e){return{name:e.name,readTime:aR(ow(e.readTime)),bundledQuery:e.bundledQuery}}function aF(e){const t=oJ({parent:e.parent,structuredQuery:e.structuredQuery});if(e.limitType==="LAST"){return iL(t,t.limit,"L")}return t}function aB(e){return{name:e.name,query:aF(e.bundledQuery),readTime:ow(e.readTime)}}function aU(e){return{id:e.id,version:e.version,createTime:ow(e.createTime)}}function aV(e,t){return new sW(t.largestBatchId,oV(e.remoteSerializer,t.overlayMutation))}function az(e,t,n){const[r,i,s]=aq(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:oU(e.remoteSerializer,n.mutation)}}function aq(e,t){const n=t.path.lastSegment();const r=e1(t.path.popLast());return[e,r,n]}function a$(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}function aG(e,t){const n=t?new eS(t.sequenceNumber,new eI(aO(t.readTime),new ef(e6(t.documentKey)),t.largestBatchId)):eS.empty();const r=e.fields.map(([e,t])=>new eE(ed.fromServerFormat(e),t));return new em(e.indexId,e.collectionGroup,r,n)}function aW(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:aR(r.readTime),documentKey:e1(r.documentKey.path),largestBatchId:r.largestBatchId}}class aH{getBundleMetadata(e,t){return aK(e).get(t).next(e=>{if(e){return aD(e)}return undefined})}saveBundleMetadata(e,t){return aK(e).put(aM(t))}getNamedQuery(e,t){return aQ(e).get(t).next(e=>{if(e){return aL(e)}return undefined})}saveNamedQuery(e,t){return aQ(e).put(aj(t))}}function aK(e){return no(e,tx)}function aQ(e){return no(e,tN)}class aY{constructor(e,t){this.serializer=e;this.userId=t}static forUser(e,t){const n=t.uid||"";return new aY(e,n)}getOverlay(e,t){return aX(e).get(aq(this.userId,t)).next(e=>{if(e){return aV(this.serializer,e)}return null})}getOverlays(e,t){const n=i3();return ex.forEach(t,t=>{return this.getOverlay(e,t).next(e=>{if(e!==null){n.set(t,e)}})}).next(()=>n)}saveOverlays(e,t,n){const r=[];n.forEach((n,i)=>{const s=new sW(t,i);r.push(this.saveOverlay(e,s))});return ex.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(e1(e.getCollectionPath())));const i=[];r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],false,true);i.push(aX(e).deleteAll(tQ,r))});return ex.waitFor(i)}getOverlaysForCollection(e,t,n){const r=i3();const i=e1(t);const s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],true);return aX(e).loadAll(tQ,s).next(e=>{for(const t of e){const e=aV(this.serializer,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const i=i3();let s=undefined;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],true);return aX(e).iterate({index:tX,range:o},(e,t,n)=>{const o=aV(this.serializer,t);if(i.size()<r||o.largestBatchId===s){i.set(o.getKey(),o);s=o.largestBatchId}else{n.done()}}).next(()=>i)}saveOverlay(e,t){return aX(e).put(az(this.serializer,this.userId,t))}}function aX(e){return no(e,tH)}class aJ{globalsStore(e){return no(e,tZ)}getSessionToken(e){const t=this.globalsStore(e);return t.get("sessionToken").next(e=>{const t=e===null||e===void 0?void 0:e.value;return t?nS.fromUint8Array(t):nS.EMPTY_BYTE_STRING})}setSessionToken(e,t){const n=this.globalsStore(e);return n.put({name:"sessionToken",value:t.toUint8Array()})}}const aZ=5;const a0=10;const a1=13;const a2=15;const a3=20;const a6=25;const a4=30;const a5=37;const a8=45;const a7=50;const a9=53;const ce=55;const ct=60;const cn=2;class cr{constructor(){}writeIndexValue(e,t){this.writeIndexValueAux(e,t);t.writeInfinity()}writeIndexValueAux(e,t){if("nullValue"in e){this.writeValueTypeLabel(t,aZ)}else if("booleanValue"in e){this.writeValueTypeLabel(t,a0);t.writeNumber(e.booleanValue?1:0)}else if("integerValue"in e){this.writeValueTypeLabel(t,a2);t.writeNumber(nO(e.integerValue))}else if("doubleValue"in e){const n=nO(e.doubleValue);if(isNaN(n)){this.writeValueTypeLabel(t,a1)}else{this.writeValueTypeLabel(t,a2);if(n$(n)){t.writeNumber(0)}else{t.writeNumber(n)}}}else if("timestampValue"in e){let n=e.timestampValue;this.writeValueTypeLabel(t,a3);if(typeof n==="string"){n=nR(n)}t.writeString(`${n.seconds||""}`);t.writeNumber(n.nanos||0)}else if("stringValue"in e){this.writeIndexString(e.stringValue,t);this.writeTruncationMarker(t)}else if("bytesValue"in e){this.writeValueTypeLabel(t,a4);t.writeBytes(nA(e.bytesValue));this.writeTruncationMarker(t)}else if("referenceValue"in e){this.writeIndexEntityRef(e.referenceValue,t)}else if("geoPointValue"in e){const n=e.geoPointValue;this.writeValueTypeLabel(t,a8);t.writeNumber(n.latitude||0);t.writeNumber(n.longitude||0)}else if("mapValue"in e){if(rI(e)){this.writeValueTypeLabel(t,Number.MAX_SAFE_INTEGER)}else if(rT(e)){this.writeIndexVector(e.mapValue,t)}else{this.writeIndexMap(e.mapValue,t);this.writeTruncationMarker(t)}}else if("arrayValue"in e){this.writeIndexArray(e.arrayValue,t);this.writeTruncationMarker(t)}else{A(19022,{indexValue:e})}}writeIndexString(e,t){this.writeValueTypeLabel(t,a6);this.writeUnlabeledIndexString(e,t)}writeUnlabeledIndexString(e,t){t.writeString(e)}writeIndexMap(e,t){const n=e.fields||{};this.writeValueTypeLabel(t,ce);for(const e of Object.keys(n)){this.writeIndexString(e,t);this.writeIndexValueAux(n[e],t)}}writeIndexVector(e,t){var n,r;const i=e.fields||{};this.writeValueTypeLabel(t,a9);const s=nY;const o=((r=(n=i[s].arrayValue)===null||n===void 0?void 0:n.values)===null||r===void 0?void 0:r.length)||0;this.writeValueTypeLabel(t,a2);t.writeNumber(nO(o));this.writeIndexString(s,t);this.writeIndexValueAux(i[s],t)}writeIndexArray(e,t){const n=e.values||[];this.writeValueTypeLabel(t,a7);for(const e of n){this.writeIndexValueAux(e,t)}}writeIndexEntityRef(e,t){this.writeValueTypeLabel(t,a5);const n=ef.fromName(e).path;n.forEach(e=>{this.writeValueTypeLabel(t,ct);this.writeUnlabeledIndexString(e,t)})}writeValueTypeLabel(e,t){e.writeNumber(t)}writeTruncationMarker(e){e.writeNumber(cn)}}cr.INSTANCE=new cr;const ci="\uD800";const cs="\uDBFF";const co=0;const ca=255;const cc=1;const cl=255;const cu=255;const cd=0;const cf=64;const ch=8;const cp=1024;function cm(e){const t=new DataView(new ArrayBuffer(8));t.setFloat64(0,e,false);return new Uint8Array(t.buffer)}function cg(e){if(e===0){return 8}let t=0;if(e>>4===0){t+=4;e=e<<4}if(e>>6===0){t+=2;e=e<<2}if(e>>7===0){t+=1}return t}function cy(e){let t=0;for(let n=0;n<8;++n){const r=cg(e[n]&255);t+=r;if(r!==8){break}}return t}function cv(e){const t=cf-cy(e);return Math.ceil(t/ch)}class cb{constructor(){this.buffer=new Uint8Array(cp);this.position=0}writeBytesAscending(e){const t=e[Symbol.iterator]();let n=t.next();while(!n.done){this.writeByteAscending(n.value);n=t.next()}this.writeSeparatorAscending()}writeBytesDescending(e){const t=e[Symbol.iterator]();let n=t.next();while(!n.done){this.writeByteDescending(n.value);n=t.next()}this.writeSeparatorDescending()}writeUtf8Ascending(e){for(const t of e){const e=t.charCodeAt(0);if(e<128){this.writeByteAscending(e)}else if(e<2048){this.writeByteAscending(15<<6|e>>>6);this.writeByteAscending(128|63&e)}else if(t<ci||cs<t){this.writeByteAscending(15<<5|e>>>12);this.writeByteAscending(128|63&e>>>6);this.writeByteAscending(128|63&e)}else{const e=t.codePointAt(0);this.writeByteAscending(15<<4|e>>>18);this.writeByteAscending(128|63&e>>>12);this.writeByteAscending(128|63&e>>>6);this.writeByteAscending(128|63&e)}}this.writeSeparatorAscending()}writeUtf8Descending(e){for(const t of e){const e=t.charCodeAt(0);if(e<128){this.writeByteDescending(e)}else if(e<2048){this.writeByteDescending(15<<6|e>>>6);this.writeByteDescending(128|63&e)}else if(t<ci||cs<t){this.writeByteDescending(15<<5|e>>>12);this.writeByteDescending(128|63&e>>>6);this.writeByteDescending(128|63&e)}else{const e=t.codePointAt(0);this.writeByteDescending(15<<4|e>>>18);this.writeByteDescending(128|63&e>>>12);this.writeByteDescending(128|63&e>>>6);this.writeByteDescending(128|63&e)}}this.writeSeparatorDescending()}writeNumberAscending(e){const t=this.toOrderedBits(e);const n=cv(t);this.ensureAvailable(1+n);this.buffer[this.position++]=n&255;for(let e=t.length-n;e<t.length;++e){this.buffer[this.position++]=t[e]&255}}writeNumberDescending(e){const t=this.toOrderedBits(e);const n=cv(t);this.ensureAvailable(1+n);this.buffer[this.position++]=~(n&255);for(let e=t.length-n;e<t.length;++e){this.buffer[this.position++]=~(t[e]&255)}}writeInfinityAscending(){this.writeEscapedByteAscending(cl);this.writeEscapedByteAscending(cu)}writeInfinityDescending(){this.writeEscapedByteDescending(cl);this.writeEscapedByteDescending(cu)}reset(){this.position=0}seed(e){this.ensureAvailable(e.length);this.buffer.set(e,this.position);this.position+=e.length}encodedBytes(){return this.buffer.slice(0,this.position)}toOrderedBits(e){const t=cm(e);const n=(t[0]&128)!==0;t[0]^=n?255:128;for(let e=1;e<t.length;++e){t[e]^=n?255:0}return t}writeByteAscending(e){const t=e&255;if(t===co){this.writeEscapedByteAscending(co);this.writeEscapedByteAscending(ca)}else if(t===cl){this.writeEscapedByteAscending(cl);this.writeEscapedByteAscending(cd)}else{this.writeEscapedByteAscending(t)}}writeByteDescending(e){const t=e&255;if(t===co){this.writeEscapedByteDescending(co);this.writeEscapedByteDescending(ca)}else if(t===cl){this.writeEscapedByteDescending(cl);this.writeEscapedByteDescending(cd)}else{this.writeEscapedByteDescending(e)}}writeSeparatorAscending(){this.writeEscapedByteAscending(co);this.writeEscapedByteAscending(cc)}writeSeparatorDescending(){this.writeEscapedByteDescending(co);this.writeEscapedByteDescending(cc)}writeEscapedByteAscending(e){this.ensureAvailable(1);this.buffer[this.position++]=e}writeEscapedByteDescending(e){this.ensureAvailable(1);this.buffer[this.position++]=~e}ensureAvailable(e){const t=e+this.position;if(t<=this.buffer.length){return}let n=this.buffer.length*2;if(n<t){n=t}const r=new Uint8Array(n);r.set(this.buffer);this.buffer=r}}class cw{constructor(e){this.orderedCode=e}writeBytes(e){this.orderedCode.writeBytesAscending(e)}writeString(e){this.orderedCode.writeUtf8Ascending(e)}writeNumber(e){this.orderedCode.writeNumberAscending(e)}writeInfinity(){this.orderedCode.writeInfinityAscending()}}class cE{constructor(e){this.orderedCode=e}writeBytes(e){this.orderedCode.writeBytesDescending(e)}writeString(e){this.orderedCode.writeUtf8Descending(e)}writeNumber(e){this.orderedCode.writeNumberDescending(e)}writeInfinity(){this.orderedCode.writeInfinityDescending()}}class c_{constructor(){this.orderedCode=new cb;this.ascending=new cw(this.orderedCode);this.descending=new cE(this.orderedCode)}seed(e){this.orderedCode.seed(e)}forKind(e){return e===0?this.ascending:this.descending}encodedBytes(){return this.orderedCode.encodedBytes()}reset(){this.orderedCode.reset()}}class cS{constructor(e,t,n,r){this._indexId=e;this._documentKey=t;this._arrayValue=n;this._directionalValue=r}successor(){const e=this._directionalValue.length;const t=e===0||this._directionalValue[e-1]===255?e+1:e;const n=new Uint8Array(t);n.set(this._directionalValue,0);if(t!==e){n.set([0],this._directionalValue.length)}else{++n[n.length-1]}return new cS(this._indexId,this._documentKey,this._arrayValue,n)}dbIndexEntry(e,t,n){return{indexId:this._indexId,uid:e,arrayValue:cI(this._arrayValue),directionalValue:cI(this._directionalValue),orderedDocumentKey:cI(t),documentKey:n.path.toArray()}}dbIndexEntryKey(e,t,n){const r=this.dbIndexEntry(e,t,n);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}}function cT(e,t){let n=e._indexId-t._indexId;if(n!==0){return n}n=cC(e._arrayValue,t._arrayValue);if(n!==0){return n}n=cC(e._directionalValue,t._directionalValue);if(n!==0){return n}return ef.comparator(e._documentKey,t._documentKey)}function cC(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(r!==0){return r}}return e.length-t.length}function cI(e){if((0,a.Ov)()){return cO(e)}return e}function cR(e){if(typeof e!=="string"){return e}return cA(e)}function cO(e){let t="";for(let n=0;n<e.length;n++){t+=String.fromCharCode(e[n])}return t}function cA(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++){t[n]=e.charCodeAt(n)}return t}class ck{constructor(e){this.inequalityFilters=new nm((e,t)=>ed.comparator(e.field,t.field));this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();this.orderBys=e.orderBy;this.equalityFilters=[];for(const t of e.filters){const e=t;if(e.isInequality()){this.inequalityFilters=this.inequalityFilters.add(e)}else{this.equalityFilters.push(e)}}}get hasMultipleInequality(){return this.inequalityFilters.size>1}servedByIndex(e){x(e.collectionGroup===this.collectionId,49279);if(this.hasMultipleInequality){return false}const t=eg(e);if(t!==undefined&&!this.hasMatchingEqualityFilter(t)){return false}const n=ey(e);let r=new Set;let i=0;let s=0;for(;i<n.length;++i){if(this.hasMatchingEqualityFilter(n[i])){r=r.add(n[i].fieldPath.canonicalString())}else{break}}if(i===n.length){return true}if(this.inequalityFilters.size>0){const e=this.inequalityFilters.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.matchesFilter(e,t)||!this.matchesOrderBy(this.orderBys[s++],t)){return false}}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.orderBys.length||!this.matchesOrderBy(this.orderBys[s++],e)){return false}}return true}buildTargetIndex(){if(this.hasMultipleInequality){return null}let e=new nm(ed.comparator);const t=[];for(const n of this.equalityFilters){if(n.field.isKeyField()){continue}const r=n.op==="array-contains"||n.op==="array-contains-any";if(r){t.push(new eE(n.field,2))}else{if(e.has(n.field)){continue}e=e.add(n.field);t.push(new eE(n.field,0))}}for(const n of this.orderBys){if(n.field.isKeyField()){continue}if(e.has(n.field)){continue}e=e.add(n.field);t.push(new eE(n.field,n.dir==="asc"?0:1))}return new em(em.UNKNOWN_ID,this.collectionId,t,eS.empty())}hasMatchingEqualityFilter(e){for(const t of this.equalityFilters){if(this.matchesFilter(t,e)){return true}}return false}matchesFilter(e,t){if(e===undefined||!e.field.isEqual(t.fieldPath)){return false}const n=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===n}matchesOrderBy(e,t){if(!e.field.isEqual(t.fieldPath)){return false}return t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc"}}function cx(e){var t,n;x(e instanceof rW||e instanceof rH,20012);if(e instanceof rW){if(e instanceof it){const r=((n=(t=e.value.arrayValue)===null||t===void 0?void 0:t.values)===null||n===void 0?void 0:n.map(t=>rW.create(e.field,"==",t)))||[];return rH.create(r,"or")}else{return e}}const r=e.filters.map(e=>cx(e));return rH.create(r,e.op)}function cP(e){if(e.getFilters().length===0){return[]}const t=cj(cx(e));x(cM(t),7391);if(cN(t)||cD(t)){return[t]}return t.getFilters()}function cN(e){return e instanceof rW}function cD(e){return e instanceof rH&&rY(e)}function cM(e){return cN(e)||cD(e)||cL(e)}function cL(e){if(e instanceof rH){if(rQ(e)){for(const t of e.getFilters()){if(!cN(t)&&!cD(t)){return false}}return true}}return false}function cj(e){x(e instanceof rW||e instanceof rH,34018);if(e instanceof rW){return e}if(e.filters.length===1){return cj(e.filters[0])}const t=e.filters.map(e=>cj(e));let n=rH.create(t,e.op);n=cz(n);if(cM(n)){return n}x(n instanceof rH,64498);x(rK(n),40251);x(n.filters.length>1,57927);return n.filters.reduce((e,t)=>cF(e,t))}function cF(e,t){x(e instanceof rW||e instanceof rH,38388);x(t instanceof rW||t instanceof rH,25473);let n;if(e instanceof rW){if(t instanceof rW){n=cB(e,t)}else{n=cV(e,t)}}else{if(t instanceof rW){n=cV(t,e)}else{n=cU(e,t)}}return cz(n)}function cB(e,t){return rH.create([e,t],"and")}function cU(e,t){x(e.filters.length>0&&t.filters.length>0,48005);if(rK(e)&&rK(t)){return r2(e,t.getFilters())}const n=rQ(e)?e:t;const r=rQ(e)?t:e;const i=n.filters.map(e=>cF(e,r));return rH.create(i,"or")}function cV(e,t){if(rK(t)){return r2(t,e.getFilters())}else{const n=t.filters.map(t=>cF(e,t));return rH.create(n,"or")}}function cz(e){x(e instanceof rW||e instanceof rH,11850);if(e instanceof rW){return e}const t=e.getFilters();if(t.length===1){return cz(t[0])}if(rX(e)){return e}const n=t.map(e=>cz(e));const r=[];n.forEach(t=>{if(t instanceof rW){r.push(t)}else if(t instanceof rH){if(t.op===e.op){r.push(...t.filters)}else{r.push(t)}}});if(r.length===1){return r[0]}return rH.create(r,e.op)}class cq{constructor(){this.collectionParentIndex=new c$}addToCollectionParentIndex(e,t){this.collectionParentIndex.add(t);return ex.resolve()}getCollectionParents(e,t){return ex.resolve(this.collectionParentIndex.getEntries(t))}addFieldIndex(e,t){return ex.resolve()}deleteFieldIndex(e,t){return ex.resolve()}deleteAllFieldIndexes(e){return ex.resolve()}createTargetIndexes(e,t){return ex.resolve()}getDocumentsMatchingTarget(e,t){return ex.resolve(null)}getIndexType(e,t){return ex.resolve(0)}getFieldIndexes(e,t){return ex.resolve([])}getNextCollectionGroupToUpdate(e){return ex.resolve(null)}getMinOffset(e,t){return ex.resolve(eI.min())}getMinOffsetFromCollectionGroup(e,t){return ex.resolve(eI.min())}updateCollectionGroup(e,t,n){return ex.resolve()}updateIndexEntries(e,t){return ex.resolve()}}class c${constructor(){this.index={}}add(e){const t=e.lastSegment();const n=e.popLast();const r=this.index[t]||new nm(el.comparator);const i=!r.has(n);this.index[t]=r.add(n);return i}has(e){const t=e.lastSegment();const n=e.popLast();const r=this.index[t];return r&&r.has(n)}getEntries(e){const t=this.index[e]||new nm(el.comparator);return t.toArray()}}const cG="IndexedDbIndexManager";const cW=new Uint8Array(0);class cH{constructor(e,t){this.databaseId=t;this.collectionParentsCache=new c$;this.targetToDnfSubTargets=new iY(e=>ia(e),(e,t)=>il(e,t));this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.collectionParentsCache.has(t)){const n=t.lastSegment();const r=t.popLast();e.addOnCommittedListener(()=>{this.collectionParentsCache.add(t)});const i={collectionId:n,parent:e1(r)};return cK(e).put(i)}return ex.resolve()}getCollectionParents(e,t){const n=[];const r=IDBKeyRange.bound([t,""],[en(t),""],false,true);return cK(e).loadAll(r).next(e=>{for(const r of e){if(r.collectionId!==t){break}n.push(e6(r.parent))}return n})}addFieldIndex(e,t){const n=cY(e);const r=a$(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=cX(e);return i.next(e=>{n.put(aW(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}else{return i.next()}}deleteFieldIndex(e,t){const n=cY(e);const r=cX(e);const i=cQ(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],false,true))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],false,true)))}deleteAllFieldIndexes(e){const t=cY(e);const n=cQ(e);const r=cX(e);return t.deleteAll().next(()=>n.deleteAll()).next(()=>r.deleteAll())}createTargetIndexes(e,t){return ex.forEach(this.getSubTargets(t),t=>{return this.getIndexType(e,t).next(n=>{if(n===0||n===1){const n=new ck(t);const r=n.buildTargetIndex();if(r!=null){return this.addFieldIndex(e,r)}}})})}getDocumentsMatchingTarget(e,t){const n=cQ(e);let r=true;const i=new Map;return ex.forEach(this.getSubTargets(t),t=>{return this.getFieldIndex(e,t).next(e=>{r&&(r=!!e);i.set(t,e)})}).next(()=>{if(!r){return ex.resolve(null)}else{let e=i9();const r=[];return ex.forEach(i,(i,s)=>{C(cG,`Using index ${ew(i)} to execute ${ia(t)}`);const o=ih(s,i);const a=ip(s,i);const c=im(s,i);const l=ig(s,i);const u=this.encodeBound(i,s,c);const d=this.encodeBound(i,s,l);const f=this.encodeValues(i,s,a);const h=this.generateIndexRanges(i.indexId,o,u,c.inclusive,d,l.inclusive,f);return ex.forEach(h,i=>{return n.loadFirst(i,t.limit).next(t=>{t.forEach(t=>{const n=ef.fromSegments(t.documentKey);if(!e.has(n)){e=e.add(n);r.push(n)}})})})}).next(()=>r)}})}getSubTargets(e){let t=this.targetToDnfSubTargets.get(e);if(t){return t}if(e.filters.length===0){t=[e]}else{const n=cP(rH.create(e.filters,"and"));t=n.map(t=>io(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))}this.targetToDnfSubTargets.set(e,t);return t}generateIndexRanges(e,t,n,r,i,s,o){const a=(t!=null?t.length:1)*Math.max(n.length,i.length);const c=a/(t!=null?t.length:1);const l=[];for(let u=0;u<a;++u){const a=t?this.encodeSingleElement(t[u/c]):cW;const d=this.generateLowerBound(e,a,n[u%c],r);const f=this.generateUpperBound(e,a,i[u%c],s);const h=o.map(t=>this.generateLowerBound(e,a,t,true));l.push(...this.createRange(d,f,h))}return l}generateLowerBound(e,t,n,r){const i=new cS(e,ef.empty(),t,n);return r?i:i.successor()}generateUpperBound(e,t,n,r){const i=new cS(e,ef.empty(),t,n);return r?i.successor():i}getFieldIndex(e,t){const n=new ck(t);const r=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(const r of e){const e=n.servedByIndex(r);if(e&&(!t||r.fields.length>t.fields.length)){t=r}}return t})}getIndexType(e,t){let n=2;const r=this.getSubTargets(t);return ex.forEach(r,t=>{return this.getFieldIndex(e,t).next(e=>{if(!e){n=0}else if(n!==0&&e.fields.length<ib(t)){n=1}})}).next(()=>{if(iw(t)&&r.length>1&&n===2){return 1}return n})}encodeDirectionalElements(e,t){const n=new c_;for(const r of ey(e)){const e=t.data.field(r.fieldPath);if(e==null){return null}const i=n.forKind(r.kind);cr.INSTANCE.writeIndexValue(e,i)}return n.encodedBytes()}encodeSingleElement(e){const t=new c_;cr.INSTANCE.writeIndexValue(e,t.forKind(0));return t.encodedBytes()}encodeDirectionalKey(e,t){const n=new c_;cr.INSTANCE.writeIndexValue(rg(this.databaseId,t),n.forKind(ev(e)));return n.encodedBytes()}encodeValues(e,t,n){if(n===null){return[]}let r=[];r.push(new c_);let i=0;for(const s of ey(e)){const e=n[i++];for(const n of r){if(this.isInFilter(t,s.fieldPath)&&rw(e)){r=this.expandIndexValues(r,s,e)}else{const t=n.forKind(s.kind);cr.INSTANCE.writeIndexValue(e,t)}}}return this.getEncodedBytes(r)}encodeBound(e,t,n){return this.encodeValues(e,t,n.position)}getEncodedBytes(e){const t=[];for(let n=0;n<e.length;++n){t[n]=e[n].encodedBytes()}return t}expandIndexValues(e,t,n){const r=[...e];const i=[];for(const e of n.arrayValue.values||[]){for(const n of r){const r=new c_;r.seed(n.encodedBytes());cr.INSTANCE.writeIndexValue(e,r.forKind(t.kind));i.push(r)}}return i}isInFilter(e,t){return!!e.filters.find(e=>e instanceof rW&&e.field.isEqual(t)&&(e.op==="in"||e.op==="not-in"))}getFieldIndexes(e,t){const n=cY(e);const r=cX(e);return(t?n.loadAll(tj,IDBKeyRange.bound(t,t)):n.loadAll()).next(e=>{const t=[];return ex.forEach(e,e=>{return r.get([e.indexId,this.uid]).next(n=>{t.push(aG(e,n))})}).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>{if(e.length===0){return null}e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return n!==0?n:X(e.collectionGroup,t.collectionGroup)});return e[0].collectionGroup})}updateCollectionGroup(e,t,n){const r=cY(e);const i=cX(e);return this.getNextSequenceNumber(e).next(e=>r.loadAll(tj,IDBKeyRange.bound(t,t)).next(t=>ex.forEach(t,t=>i.put(aW(t.indexId,this.uid,e,n)))))}updateIndexEntries(e,t){const n=new Map;return ex.forEach(t,(t,r)=>{const i=n.get(t.collectionGroup);const s=i?ex.resolve(i):this.getFieldIndexes(e,t.collectionGroup);return s.next(i=>{n.set(t.collectionGroup,i);return ex.forEach(i,n=>{return this.getExistingIndexEntries(e,t,n).next(t=>{const i=this.computeIndexEntries(r,n);if(!t.isEqual(i)){return this.updateEntries(e,r,n,t,i)}return ex.resolve()})})})})}addIndexEntry(e,t,n,r){const i=cQ(e);return i.put(r.dbIndexEntry(this.uid,this.encodeDirectionalKey(n,t.key),t.key))}deleteIndexEntry(e,t,n,r){const i=cQ(e);return i.delete(r.dbIndexEntryKey(this.uid,this.encodeDirectionalKey(n,t.key),t.key))}getExistingIndexEntries(e,t,n){const r=cQ(e);let i=new nm(cT);return r.iterate({index:tG,range:IDBKeyRange.only([n.indexId,this.uid,cI(this.encodeDirectionalKey(n,t))])},(e,r)=>{i=i.add(new cS(n.indexId,t,cR(r.arrayValue),cR(r.directionalValue)))}).next(()=>i)}computeIndexEntries(e,t){let n=new nm(cT);const r=this.encodeDirectionalElements(t,e);if(r==null){return n}const i=eg(t);if(i!=null){const s=e.data.field(i.fieldPath);if(rw(s)){for(const i of s.arrayValue.values||[]){n=n.add(new cS(t.indexId,e.key,this.encodeSingleElement(i),r))}}}else{n=n.add(new cS(t.indexId,e.key,cW,r))}return n}updateEntries(e,t,n,r,i){C(cG,"Updating index entries for document '%s'",t.key);const s=[];ny(r,i,cT,r=>{s.push(this.addIndexEntry(e,t,n,r))},r=>{s.push(this.deleteIndexEntry(e,t,n,r))});return ex.waitFor(s)}getNextSequenceNumber(e){let t=1;const n=cX(e);return n.iterate({index:tV,reverse:true,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done();t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>cT(e,t)).filter((e,t,n)=>!t||cT(e,n[t-1])!==0);const r=[];r.push(e);for(const i of n){const n=cT(i,e);const s=cT(i,t);if(n===0){r[0]=e.successor()}else if(n>0&&s<0){r.push(i);r.push(i.successor())}else if(s>0){break}}r.push(t);const i=[];for(let e=0;e<r.length;e+=2){if(this.isRangeMatchable(r[e],r[e+1])){return[]}const t=r[e].dbIndexEntryKey(this.uid,cW,ef.empty());const n=r[e+1].dbIndexEntryKey(this.uid,cW,ef.empty());i.push(IDBKeyRange.bound(t,n))}return i}isRangeMatchable(e,t){return cT(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(cJ)}getMinOffset(e,t){return ex.mapArray(this.getSubTargets(t),t=>this.getFieldIndex(e,t).next(e=>e?e:A(44426))).next(cJ)}}function cK(e){return no(e,tR)}function cQ(e){return no(e,tq)}function cY(e){return no(e,tM)}function cX(e){return no(e,tB)}function cJ(e){x(e.length!==0,28825);let t=e[0].indexState.offset;let n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;if(eR(i,t)<0){t=i}if(n<i.largestBatchId){n=i.largestBatchId}}return new eI(t.readTime,t.documentKey,n)}function cZ(e,t,n){const r=e.store(te);const i=e.store(tc);const s=[];const o=IDBKeyRange.only(n.batchId);let a=0;const c=r.iterate({range:o},(e,t,n)=>{a++;return n.delete()});s.push(c.next(()=>{x(a===1,47070,{batchId:n.batchId})}));const l=[];for(const e of n.mutations){const r=to(t,e.key.path,n.batchId);s.push(i.delete(r));l.push(e.key)}return ex.waitFor(s).next(()=>l)}function c0(e){if(!e){return 0}let t;if(e.document){t=e.document}else if(e.unknownDocument){t=e.unknownDocument}else if(e.noDocument){t=e.noDocument}else{throw A(14731)}return JSON.stringify(t).length}class c1{constructor(e,t,n,r){this.userId=e;this.serializer=t;this.indexManager=n;this.referenceDelegate=r;this.documentKeysByBatchId={}}static forUser(e,t,n,r){x(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new c1(i,t,n,r)}checkEmpty(e){let t=true;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return c6(e).iterate({index:tn,range:n},(e,n,r)=>{t=false;r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=c4(e);const s=c6(e);return s.add({}).next(o=>{x(typeof o==="number",49019);const a=new s$(o,t,n,r);const c=aA(this.serializer,this.userId,a);const l=[];let u=new nm((e,t)=>X(e.canonicalString(),t.canonicalString()));for(const e of r){const t=to(this.userId,e.key.path,o);u=u.add(e.key.path.popLast());l.push(s.put(c));l.push(i.put(t,ta))}u.forEach(t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))});e.addOnCommittedListener(()=>{this.documentKeysByBatchId[o]=a.keys()});return ex.waitFor(l).next(()=>a)})}lookupMutationBatch(e,t){return c6(e).get(t).next(e=>{if(e){x(e.userId===this.userId,48,`Unexpected user for mutation batch`,{userId:e.userId,batchId:t});return ak(this.serializer,e)}return null})}lookupMutationKeys(e,t){if(this.documentKeysByBatchId[t]){return ex.resolve(this.documentKeysByBatchId[t])}else{return this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();this.documentKeysByBatchId[t]=n;return n}else{return null}})}}getNextMutationBatchAfterBatchId(e,t){const n=t+1;const r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return c6(e).iterate({index:tn,range:r},(e,t,r)=>{if(t.userId===this.userId){x(t.batchId>=n,47524,{nextBatchId:n});i=ak(this.serializer,t)}r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=nz;return c6(e).iterate({index:tn,range:t,reverse:true},(e,t,r)=>{n=t.batchId;r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,nz],[this.userId,Number.POSITIVE_INFINITY]);return c6(e).loadAll(tn,t).next(e=>e.map(e=>ak(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=ts(this.userId,t.path);const r=IDBKeyRange.lowerBound(n);const i=[];return c4(e).iterate({range:r},(n,r,s)=>{const[o,a,c]=n;const l=e6(a);if(o!==this.userId||!t.path.isEqual(l)){s.done();return}return c6(e).get(c).next(e=>{if(!e){throw A(61480,{indexKey:n,batchId:c})}x(e.userId===this.userId,10503,`Unexpected user for mutation batch`,{userId:e.userId,batchId:c});i.push(ak(this.serializer,e))})}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new nm(X);const r=[];t.forEach(t=>{const i=ts(this.userId,t.path);const s=IDBKeyRange.lowerBound(i);const o=c4(e).iterate({range:s},(e,r,i)=>{const[s,o,a]=e;const c=e6(o);if(s!==this.userId||!t.path.isEqual(c)){i.done();return}n=n.add(a)});r.push(o)});return ex.waitFor(r).next(()=>this.lookupMutationBatches(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path;const r=n.length+1;const i=ts(this.userId,n);const s=IDBKeyRange.lowerBound(i);let o=new nm(X);return c4(e).iterate({range:s},(e,t,i)=>{const[s,a,c]=e;const l=e6(a);if(s!==this.userId||!n.isPrefixOf(l)){i.done();return}if(l.length!==r){return}o=o.add(c)}).next(()=>this.lookupMutationBatches(e,o))}lookupMutationBatches(e,t){const n=[];const r=[];t.forEach(t=>{r.push(c6(e).get(t).next(e=>{if(e===null){throw A(35274,{batchId:t})}x(e.userId===this.userId,9748,`Unexpected user for mutation batch`,{userId:e.userId,batchId:t});n.push(ak(this.serializer,e))}))});return ex.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return cZ(e.simpleDbTransaction,this.userId,t).next(n=>{e.addOnCommittedListener(()=>{this.removeCachedMutationKeys(t.batchId)});return ex.forEach(n,t=>{return this.referenceDelegate.markPotentiallyOrphaned(e,t)})})}removeCachedMutationKeys(e){delete this.documentKeysByBatchId[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t){return ex.resolve()}const n=IDBKeyRange.lowerBound(ti(this.userId));const r=[];return c4(e).iterate({range:n},(e,t,n)=>{const i=e[0];if(i!==this.userId){n.done();return}else{const t=e6(e[1]);r.push(t)}}).next(()=>{x(r.length===0,56720,{danglingKeys:r.map(e=>e.canonicalString())})})})}containsKey(e,t){return c2(e,this.userId,t)}getMutationQueueMetadata(e){return c5(e).get(this.userId).next(e=>{return e||{userId:this.userId,lastAcknowledgedBatchId:nz,lastStreamToken:""}})}}function c2(e,t,n){const r=ts(t,n.path);const i=r[1];const s=IDBKeyRange.lowerBound(r);let o=false;return c4(e).iterate({range:s,keysOnly:true},(e,n,r)=>{const[s,a,c]=e;if(s===t&&a===i){o=true}r.done()}).next(()=>o)}function c3(e,t){let n=false;return c5(e).iterateSerial(r=>{return c2(e,r,t).next(e=>{if(e){n=true}return ex.resolve(!e)})}).next(()=>n)}function c6(e){return no(e,te)}function c4(e){return no(e,tc)}function c5(e){return no(e,e7)}const c8=2;class c7{constructor(e){this.lastId=e}next(){this.lastId+=c8;return this.lastId}static forTargetCache(){return new c7(2-c8)}static forSyncEngine(){return new c7(1-c8)}}class c9{constructor(e,t){this.referenceDelegate=e;this.serializer=t}allocateTargetId(e){return this.retrieveMetadata(e).next(t=>{const n=new c7(t.highestTargetId);t.highestTargetId=n.next();return this.saveMetadata(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.retrieveMetadata(e).next(e=>{return eo.fromTimestamp(new es(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})}getHighestSequenceNumber(e){return this.retrieveMetadata(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.retrieveMetadata(e).next(r=>{r.highestListenSequenceNumber=t;if(n){r.lastRemoteSnapshotVersion=n.toTimestamp()}if(t>r.highestListenSequenceNumber){r.highestListenSequenceNumber=t}return this.saveMetadata(e,r)})}addTargetData(e,t){return this.saveTargetData(e,t).next(()=>{return this.retrieveMetadata(e).next(n=>{n.targetCount+=1;this.updateMetadataFromTargetData(t,n);return this.saveMetadata(e,n)})})}updateTargetData(e,t){return this.saveTargetData(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>le(e).delete(t.targetId)).next(()=>this.retrieveMetadata(e)).next(t=>{x(t.targetCount>0,8065);t.targetCount-=1;return this.saveMetadata(e,t)})}removeTargets(e,t,n){let r=0;const i=[];return le(e).iterate((s,o)=>{const a=ax(o);if(a.sequenceNumber<=t&&n.get(a.targetId)===null){r++;i.push(this.removeTargetData(e,a))}}).next(()=>ex.waitFor(i)).next(()=>r)}forEachTarget(e,t){return le(e).iterate((e,n)=>{const r=ax(n);t(r)})}retrieveMetadata(e){return lt(e).get(tC).next(e=>{x(e!==null,2888);return e})}saveMetadata(e,t){return lt(e).put(tC,t)}saveTargetData(e,t){return le(e).put(aP(this.serializer,t))}updateMetadataFromTargetData(e,t){let n=false;if(e.targetId>t.highestTargetId){t.highestTargetId=e.targetId;n=true}if(e.sequenceNumber>t.highestListenSequenceNumber){t.highestListenSequenceNumber=e.sequenceNumber;n=true}return n}getTargetCount(e){return this.retrieveMetadata(e).next(e=>e.targetCount)}getTargetData(e,t){const n=ia(t);const r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return le(e).iterate({range:r,index:tb},(e,n,r)=>{const s=ax(n);if(il(t,s.target)){i=s;r.done()}}).next(()=>i)}addMatchingKeys(e,t,n){const r=[];const i=ln(e);t.forEach(t=>{const s=e1(t.path);r.push(i.put({targetId:n,path:s}));r.push(this.referenceDelegate.addReference(e,n,t))});return ex.waitFor(r)}removeMatchingKeys(e,t,n){const r=ln(e);return ex.forEach(t,t=>{const i=e1(t.path);return ex.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=ln(e);const r=IDBKeyRange.bound([t],[t+1],false,true);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],false,true);const r=ln(e);let i=i9();return r.iterate({range:n,keysOnly:true},(e,t,n)=>{const r=e6(e[1]);const s=new ef(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=e1(t.path);const r=IDBKeyRange.bound([n],[en(n)],false,true);let i=0;return ln(e).iterate({index:tS,keysOnly:true,range:r},([e,t],n,r)=>{if(e!==0){i++;r.done()}}).next(()=>i>0)}getTargetDataForTarget(e,t){return le(e).get(t).next(e=>{if(e){return ax(e)}else{return null}})}}function le(e){return no(e,ty)}function lt(e){return no(e,tI)}function ln(e){return no(e,tE)}const lr={didRun:false,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};const li=-1;const ls=40*1024*1024;class lo{static withCacheSize(e){return new lo(e,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e;this.percentileToCollect=t;this.maximumSequenceNumbersToCollect=n}}lo.DEFAULT_COLLECTION_PERCENTILE=10;lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3;lo.DEFAULT=new lo(ls,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT);lo.DISABLED=new lo(li,0,0);const la="LruGarbageCollector";const lc=1*1024*1024;const ll=1*60*1e3;const lu=5*60*1e3;function ld([e,t],[n,r]){const i=X(e,n);if(i===0){return X(t,r)}else{return i}}class lf{constructor(e){this.maxElements=e;this.buffer=new nm(ld);this.previousIndex=0}nextIndex(){return++this.previousIndex}addElement(e){const t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements){this.buffer=this.buffer.add(t)}else{const e=this.buffer.last();if(ld(t,e)<0){this.buffer=this.buffer.delete(e).add(t)}}}get maxValue(){return this.buffer.last()[0]}}class lh{constructor(e,t,n){this.garbageCollector=e;this.asyncQueue=t;this.localStore=n;this.gcTask=null}start(){if(this.garbageCollector.params.cacheSizeCollectionThreshold!==li){this.scheduleGC(ll)}}stop(){if(this.gcTask){this.gcTask.cancel();this.gcTask=null}}get started(){return this.gcTask!==null}scheduleGC(e){C(la,`Garbage collection scheduled in ${e}ms`);this.gcTask=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.gcTask=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){if(eB(e)){C(la,"Ignoring IndexedDB error during garbage collection: ",e)}else{await ek(e)}}await this.scheduleGC(lu)})}}class lp{constructor(e,t){this.delegate=e;this.params=t}calculateTargetCount(e,t){return this.delegate.getSequenceNumberCount(e).next(e=>{return Math.floor(t/100*e)})}nthSequenceNumber(e,t){if(t===0){return ex.resolve(eY.INVALID)}const n=new lf(t);return this.delegate.forEachTarget(e,e=>n.addElement(e.sequenceNumber)).next(()=>{return this.delegate.forEachOrphanedDocumentSequenceNumber(e,e=>n.addElement(e))}).next(()=>n.maxValue)}removeTargets(e,t,n){return this.delegate.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.delegate.removeOrphanedDocuments(e,t)}collect(e,t){if(this.params.cacheSizeCollectionThreshold===li){C("LruGarbageCollector","Garbage collection skipped; disabled");return ex.resolve(lr)}return this.getCacheSize(e).next(n=>{if(n<this.params.cacheSizeCollectionThreshold){C("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} `+`is lower than threshold ${this.params.cacheSizeCollectionThreshold}`);return lr}else{return this.runGarbageCollection(e,t)}})}getCacheSize(e){return this.delegate.getCacheSize(e)}runGarbageCollection(e,t){let n;let r,i;let o,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>{if(t>this.params.maximumSequenceNumbersToCollect){C("LruGarbageCollector","Capping sequence numbers to collect down "+`to the maximum of ${this.params.maximumSequenceNumbersToCollect} `+`from ${t}`);r=this.params.maximumSequenceNumbersToCollect}else{r=t}o=Date.now();return this.nthSequenceNumber(e,r)}).next(r=>{n=r;a=Date.now();return this.removeTargets(e,n,t)}).next(t=>{i=t;c=Date.now();return this.removeOrphanedDocuments(e,n)}).next(e=>{l=Date.now();if(S()<=s.$b.DEBUG){const t="LRU Garbage Collection\n"+`	Counted targets in ${o-u}ms
`+`	Determined least recently used ${r} in `+`${a-o}ms
`+`	Removed ${i} targets in `+`${c-a}ms
`+`	Removed ${e} documents in `+`${l-c}ms
`+`Total Duration: ${l-u}ms`;C("LruGarbageCollector",t)}return ex.resolve({didRun:true,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})}}function lm(e,t){return new lp(e,t)}class lg{constructor(e,t){this.db=e;this.garbageCollector=lm(this,t)}getSequenceNumberCount(e){const t=this.orphanedDocumentCount(e);const n=this.db.getTargetCache().getTargetCount(e);return n.next(e=>t.next(t=>e+t))}orphanedDocumentCount(e){let t=0;return this.forEachOrphanedDocumentSequenceNumber(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}forEachOrphanedDocumentSequenceNumber(e,t){return this.forEachOrphanedDocument(e,(e,n)=>t(n))}addReference(e,t,n){return lb(e,n)}removeReference(e,t,n){return lb(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return lb(e,t)}isPinned(e,t){return c3(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache();const r=n.newChangeBuffer();const i=[];let s=0;const o=this.forEachOrphanedDocument(e,(n,o)=>{if(o<=t){const t=this.isPinned(e,n).next(t=>{if(!t){s++;return r.getEntry(e,n).next(()=>{r.removeEntry(n,eo.min());return ln(e).delete(ly(n))})}});i.push(t)}});return o.next(()=>ex.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return lb(e,t)}forEachOrphanedDocument(e,t){const n=ln(e);let r=eY.INVALID;let i;return n.iterate({index:tS},([e,n],{path:s,sequenceNumber:o})=>{if(e===0){if(r!==eY.INVALID){t(new ef(e6(i)),r)}r=o;i=s}else{r=eY.INVALID}}).next(()=>{if(r!==eY.INVALID){t(new ef(e6(i)),r)}})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ly(e){return[0,e1(e.path)]}function lv(e,t){return{targetId:0,path:e1(e.path),sequenceNumber:t}}function lb(e,t){return ln(e).put(lv(t,e.currentSequenceNumber))}class lw{constructor(){this.changes=new iY(e=>e.toString(),(e,t)=>e.isEqual(t));this.changesApplied=false}addEntry(e){this.assertNotApplied();this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied();this.changes.set(e,rD.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);if(n!==undefined){return ex.resolve(n)}else{return this.getFromCache(e,t)}}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){this.assertNotApplied();this.changesApplied=true;return this.applyChanges(e)}assertNotApplied(){}}class lE{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){const r=lC(e);return r.put(n)}removeEntry(e,t,n){const r=lC(e);return r.delete(lR(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>{n.byteSize+=t;return this.setMetadata(e,n)})}getEntry(e,t){let n=rD.newInvalidDocument(t);return lC(e).iterate({index:td,range:IDBKeyRange.only(lI(t))},(e,r)=>{n=this.maybeDecodeDocument(t,r)}).next(()=>n)}getSizedEntry(e,t){let n={size:0,document:rD.newInvalidDocument(t)};return lC(e).iterate({index:td,range:IDBKeyRange.only(lI(t))},(e,r)=>{n={document:this.maybeDecodeDocument(t,r),size:c0(r)}}).next(()=>n)}getEntries(e,t){let n=iJ();return this.forEachDbEntry(e,t,(e,t)=>{const r=this.maybeDecodeDocument(e,t);n=n.insert(e,r)}).next(()=>n)}getSizedEntries(e,t){let n=iJ();let r=new nd(ef.comparator);return this.forEachDbEntry(e,t,(e,t)=>{const i=this.maybeDecodeDocument(e,t);n=n.insert(e,i);r=r.insert(e,c0(t))}).next(()=>{return{documents:n,sizeMap:r}})}forEachDbEntry(e,t,n){if(t.isEmpty()){return ex.resolve()}let r=new nm(lA);t.forEach(e=>r=r.add(e));const i=IDBKeyRange.bound(lI(r.first()),lI(r.last()));const s=r.getIterator();let o=s.getNext();return lC(e).iterate({index:td,range:i},(e,t,r)=>{const i=ef.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);while(o&&lA(o,i)<0){n(o,null);o=s.getNext()}if(o&&o.isEqual(i)){n(o,t);o=s.hasNext()?s.getNext():null}if(o){r.skip(lI(o))}else{r.done()}}).next(()=>{while(o){n(o,null);o=s.hasNext()?s.getNext():null}})}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path;const o=[s.popLast().toArray(),s.lastSegment(),aC(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()];const a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lC(e).loadAll(IDBKeyRange.bound(o,a,true)).next(e=>{i===null||i===void 0?void 0:i.incrementDocumentReadCount(e.length);let n=iJ();for(const i of e){const e=this.maybeDecodeDocument(ef.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);if(e.isFoundDocument()&&(iz(t,e)||r.has(e.key))){n=n.insert(e.key,e)}}return n})}getAllFromCollectionGroup(e,t,n,r){let i=iJ();const s=lO(t,n);const o=lO(t,eI.max());return lC(e).iterate({index:th,range:IDBKeyRange.bound(s,o,true)},(e,t,n)=>{const s=this.maybeDecodeDocument(ef.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s);if(i.size===r){n.done()}}).next(()=>i)}newChangeBuffer(e){return new lS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return lT(e).get(tg).next(e=>{x(!!e,20021);return e})}setMetadata(e,t){return lT(e).put(tg,t)}maybeDecodeDocument(e,t){if(t){const e=aS(this.serializer,t);const n=e.isNoDocument()&&e.version.isEqual(eo.min());if(!n){return e}}return rD.newInvalidDocument(e)}}function l_(e){return new lE(e)}class lS extends lw{constructor(e,t){super();this.documentCache=e;this.trackRemovals=t;this.documentStates=new iY(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0;let r=new nm((e,t)=>X(e.canonicalString(),t.canonicalString()));this.changes.forEach((i,s)=>{const o=this.documentStates.get(i);t.push(this.documentCache.removeEntry(e,i,o.readTime));if(s.isValidDocument()){const a=aT(this.documentCache.serializer,s);r=r.add(i.path.popLast());const c=c0(a);n+=c-o.size;t.push(this.documentCache.addEntry(e,i,a))}else{n-=o.size;if(this.trackRemovals){const n=aT(this.documentCache.serializer,s.convertToNoDocument(eo.min()));t.push(this.documentCache.addEntry(e,i,n))}}});r.forEach(n=>{t.push(this.documentCache.indexManager.addToCollectionParentIndex(e,n))});t.push(this.documentCache.updateMetadata(e,n));return ex.waitFor(t)}getFromCache(e,t){return this.documentCache.getSizedEntry(e,t).next(e=>{this.documentStates.set(t,{size:e.size,readTime:e.document.readTime});return e.document})}getAllFromCache(e,t){return this.documentCache.getSizedEntries(e,t).next(({documents:e,sizeMap:t})=>{t.forEach((t,n)=>{this.documentStates.set(t,{size:n,readTime:e.get(t).readTime})});return e})}}function lT(e){return no(e,tm)}function lC(e){return no(e,tl)}function lI(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function lR(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],aC(t),n[n.length-1]]}function lO(e,t){const n=t.documentKey.path.toArray();return[e,aC(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function lA(e,t){const n=e.path.toArray();const r=t.path.toArray();let i=0;for(let e=0;e<n.length-2&&e<r.length-2;++e){i=X(n[e],r[e]);if(i){return i}}i=X(n.length,r.length);if(i){return i}i=X(n[n.length-2],r[r.length-2]);if(i){return i}return X(n[n.length-1],r[r.length-1])}const lk=18;class lx{constructor(e,t){this.overlayedDocument=e;this.mutatedFields=t}}class lP{constructor(e,t,n,r){this.remoteDocumentCache=e;this.mutationQueue=t;this.documentOverlayCache=n;this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>{n=r;return this.remoteDocumentCache.getEntry(e,t)}).next(e=>{if(n!==null){sO(n.mutation,e,nb.empty(),es.now())}return e})}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,i9()).next(()=>t))}getLocalViewOfDocuments(e,t,n=i9()){const r=i3();return this.populateOverlays(e,r,t).next(()=>{return this.computeViews(e,t,r,n).next(e=>{let t=i0();e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)});return t})})}getOverlayedDocuments(e,t){const n=i3();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,i9()))}populateOverlays(e,t,n){const r=[];n.forEach(e=>{if(!t.has(e)){r.push(e)}});return this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=iJ();const s=i4();const o=i1();t.forEach((e,t)=>{const o=n.get(t.key);if(r.has(t.key)&&(o===undefined||o.mutation instanceof sD)){i=i.insert(t.key,t)}else if(o!==undefined){s.set(t.key,o.mutation.getFieldMask());sO(o.mutation,t,o.mutation.getFieldMask(),es.now())}else{s.set(t.key,nb.empty())}});return this.recalculateAndSaveOverlays(e,i).next(e=>{e.forEach((e,t)=>s.set(e,t));t.forEach((e,t)=>{var n;return o.set(e,new lx(t,(n=s.get(e))!==null&&n!==void 0?n:null))});return o})}recalculateAndSaveOverlays(e,t){const n=i4();let r=new nd((e,t)=>e-t);let i=i9();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e){i.keys().forEach(e=>{const s=t.get(e);if(s===null){return}let o=n.get(e)||nb.empty();o=i.applyToLocalView(s,o);n.set(e,o);const a=(r.get(i.batchId)||i9()).add(e);r=r.insert(i.batchId,a)})}}).next(()=>{const s=[];const o=r.getReverseIterator();while(o.hasNext()){const r=o.getNext();const a=r.key;const c=r.value;const l=i6();c.forEach(e=>{if(!i.has(e)){const r=sI(t.get(e),n.get(e));if(r!==null){l.set(e,r)}i=i.add(e)}});s.push(this.documentOverlayCache.saveOverlays(e,a,l))}return ex.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){if(iO(t)){return this.getDocumentsMatchingDocumentQuery(e,t.path)}else if(iA(t)){return this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r)}else{return this.getDocumentsMatchingCollectionQuery(e,t,n,r)}}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ex.resolve(i3());let o=eh;let a=i;return s.next(t=>{return ex.forEach(t,(t,n)=>{if(o<n.largestBatchId){o=n.largestBatchId}if(i.get(t)){return ex.resolve()}return this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)})}).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,i9())).next(e=>({batchId:o,changes:i2(e)}))})})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ef(t)).next(e=>{let t=i0();if(e.isFoundDocument()){t=t.insert(e.key,e)}return t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=i0();return this.indexManager.getCollectionParents(e,i).next(o=>{return ex.forEach(o,o=>{const a=iT(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s)})}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>{i=s;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)}).next(e=>{i.forEach((t,n)=>{const r=n.getKey();if(e.get(r)===null){e=e.insert(r,rD.newInvalidDocument(r))}});let n=i0();e.forEach((e,r)=>{const s=i.get(e);if(s!==undefined){sO(s.mutation,r,nb.empty(),es.now())}if(iz(t,r)){n=n.insert(e,r)}});return n})}}class lN{constructor(e){this.serializer=e;this.bundles=new Map;this.namedQueries=new Map}getBundleMetadata(e,t){return ex.resolve(this.bundles.get(t))}saveBundleMetadata(e,t){this.bundles.set(t.id,aU(t));return ex.resolve()}getNamedQuery(e,t){return ex.resolve(this.namedQueries.get(t))}saveNamedQuery(e,t){this.namedQueries.set(t.name,aB(t));return ex.resolve()}}class lD{constructor(){this.overlays=new nd(ef.comparator);this.overlayByBatchId=new Map}getOverlay(e,t){return ex.resolve(this.overlays.get(t))}getOverlays(e,t){const n=i3();return ex.forEach(t,t=>{return this.getOverlay(e,t).next(e=>{if(e!==null){n.set(t,e)}})}).next(()=>n)}saveOverlays(e,t,n){n.forEach((n,r)=>{this.saveOverlay(e,t,r)});return ex.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.overlayByBatchId.get(n);if(r!==undefined){r.forEach(e=>this.overlays=this.overlays.remove(e));this.overlayByBatchId.delete(n)}return ex.resolve()}getOverlaysForCollection(e,t,n){const r=i3();const i=t.length+1;const s=new ef(t.child(""));const o=this.overlays.getIteratorFrom(s);while(o.hasNext()){const e=o.getNext();const s=e.value;const a=s.getKey();if(!t.isPrefixOf(a.path)){break}if(a.path.length!==i){continue}if(s.largestBatchId>n){r.set(s.getKey(),s)}}return ex.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new nd((e,t)=>e-t);const s=this.overlays.getIterator();while(s.hasNext()){const e=s.getNext();const r=e.value;const o=r.getKey();if(o.getCollectionGroup()!==t){continue}if(r.largestBatchId>n){let e=i.get(r.largestBatchId);if(e===null){e=i3();i=i.insert(r.largestBatchId,e)}e.set(r.getKey(),r)}}const o=i3();const a=i.getIterator();while(a.hasNext()){const e=a.getNext();const t=e.value;t.forEach((e,t)=>o.set(e,t));if(o.size()>=r){break}}return ex.resolve(o)}saveOverlay(e,t,n){const r=this.overlays.get(n.key);if(r!==null){const e=this.overlayByBatchId.get(r.largestBatchId).delete(n.key);this.overlayByBatchId.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new sW(t,n));let i=this.overlayByBatchId.get(t);if(i===undefined){i=i9();this.overlayByBatchId.set(t,i)}this.overlayByBatchId.set(t,i.add(n.key))}}class lM{constructor(){this.sessionToken=nS.EMPTY_BYTE_STRING}getSessionToken(e){return ex.resolve(this.sessionToken)}setSessionToken(e,t){this.sessionToken=t;return ex.resolve()}}class lL{constructor(){this.refsByKey=new nm(lj.compareByKey);this.refsByTarget=new nm(lj.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(e,t){const n=new lj(e,t);this.refsByKey=this.refsByKey.add(n);this.refsByTarget=this.refsByTarget.add(n)}addReferences(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.removeRef(new lj(e,t))}removeReferences(e,t){e.forEach(e=>this.removeReference(e,t))}removeReferencesForId(e){const t=new ef(new el([]));const n=new lj(t,e);const r=new lj(t,e+1);const i=[];this.refsByTarget.forEachInRange([n,r],e=>{this.removeRef(e);i.push(e.key)});return i}removeAllReferences(){this.refsByKey.forEach(e=>this.removeRef(e))}removeRef(e){this.refsByKey=this.refsByKey.delete(e);this.refsByTarget=this.refsByTarget.delete(e)}referencesForId(e){const t=new ef(new el([]));const n=new lj(t,e);const r=new lj(t,e+1);let i=i9();this.refsByTarget.forEachInRange([n,r],e=>{i=i.add(e.key)});return i}containsKey(e){const t=new lj(e,0);const n=this.refsByKey.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class lj{constructor(e,t){this.key=e;this.targetOrBatchId=t}static compareByKey(e,t){return ef.comparator(e.key,t.key)||X(e.targetOrBatchId,t.targetOrBatchId)}static compareByTargetId(e,t){return X(e.targetOrBatchId,t.targetOrBatchId)||ef.comparator(e.key,t.key)}}class lF{constructor(e,t){this.indexManager=e;this.referenceDelegate=t;this.mutationQueue=[];this.nextBatchId=1;this.batchesByDocumentKey=new nm(lj.compareByKey)}checkEmpty(e){return ex.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){const i=this.nextBatchId;this.nextBatchId++;if(this.mutationQueue.length>0){this.mutationQueue[this.mutationQueue.length-1]}const s=new s$(i,t,n,r);this.mutationQueue.push(s);for(const t of r){this.batchesByDocumentKey=this.batchesByDocumentKey.add(new lj(t.key,i));this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast())}return ex.resolve(s)}lookupMutationBatch(e,t){return ex.resolve(this.findMutationBatch(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1;const r=this.indexOfBatchId(n);const i=r<0?0:r;return ex.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ex.resolve(this.mutationQueue.length===0?nz:this.nextBatchId-1)}getAllMutationBatches(e){return ex.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new lj(t,0);const r=new lj(t,Number.POSITIVE_INFINITY);const i=[];this.batchesByDocumentKey.forEachInRange([n,r],e=>{const t=this.findMutationBatch(e.targetOrBatchId);i.push(t)});return ex.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new nm(X);t.forEach(e=>{const t=new lj(e,0);const r=new lj(e,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([t,r],e=>{n=n.add(e.targetOrBatchId)})});return ex.resolve(this.findMutationBatches(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path;const r=n.length+1;let i=n;if(!ef.isDocumentKey(i)){i=i.child("")}const s=new lj(new ef(i),0);let o=new nm(X);this.batchesByDocumentKey.forEachWhile(e=>{const t=e.key.path;if(!n.isPrefixOf(t)){return false}else{if(t.length===r){o=o.add(e.targetOrBatchId)}return true}},s);return ex.resolve(this.findMutationBatches(o))}findMutationBatches(e){const t=[];e.forEach(e=>{const n=this.findMutationBatch(e);if(n!==null){t.push(n)}});return t}removeMutationBatch(e,t){const n=this.indexOfExistingBatchId(t.batchId,"removed");x(n===0,55003);this.mutationQueue.shift();let r=this.batchesByDocumentKey;return ex.forEach(t.mutations,n=>{const i=new lj(n.key,t.batchId);r=r.delete(i);return this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.batchesByDocumentKey=r})}removeCachedMutationKeys(e){}containsKey(e,t){const n=new lj(t,0);const r=this.batchesByDocumentKey.firstAfterOrEqual(n);return ex.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){if(this.mutationQueue.length===0);return ex.resolve()}indexOfExistingBatchId(e,t){const n=this.indexOfBatchId(e);return n}indexOfBatchId(e){if(this.mutationQueue.length===0){return 0}const t=this.mutationQueue[0].batchId;return e-t}findMutationBatch(e){const t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length){return null}const n=this.mutationQueue[t];return n}}const lB="-9223372036854775808";function lU(){return new nd(ef.comparator)}class lV{constructor(e){this.sizer=e;this.docs=lU();this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key;const r=this.docs.get(n);const i=r?r.size:0;const s=this.sizer(t);this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s});this.size+=s-i;return this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);if(t){this.docs=this.docs.remove(e);this.size-=t.size}}getEntry(e,t){const n=this.docs.get(t);return ex.resolve(n?n.document.mutableCopy():rD.newInvalidDocument(t))}getEntries(e,t){let n=iJ();t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():rD.newInvalidDocument(e))});return ex.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=iJ();const s=t.path;const o=new ef(s.child("__id"+lB+"__"));const a=this.docs.getIteratorFrom(o);while(a.hasNext()){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path)){break}if(e.path.length>s.length+1){continue}if(eR(eC(o),n)<=0){continue}if(!r.has(o.key)&&!iz(t,o)){continue}i=i.insert(o.key,o.mutableCopy())}return ex.resolve(i)}getAllFromCollectionGroup(e,t,n,r){A(9500)}forEachDocumentKey(e,t){return ex.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new lq(this)}getSize(e){return ex.resolve(this.size)}}function lz(e){return new lV(e)}class lq extends lw{constructor(e){super();this.documentCache=e}applyChanges(e){const t=[];this.changes.forEach((n,r)=>{if(r.isValidDocument()){t.push(this.documentCache.addEntry(e,r))}else{this.documentCache.removeEntry(n)}});return ex.waitFor(t)}getFromCache(e,t){return this.documentCache.getEntry(e,t)}getAllFromCache(e,t){return this.documentCache.getEntries(e,t)}}class l${constructor(e){this.persistence=e;this.targets=new iY(e=>ia(e),il);this.lastRemoteSnapshotVersion=eo.min();this.highestTargetId=0;this.highestSequenceNumber=0;this.references=new lL;this.targetCount=0;this.targetIdGenerator=c7.forTargetCache()}forEachTarget(e,t){this.targets.forEach((e,n)=>t(n));return ex.resolve()}getLastRemoteSnapshotVersion(e){return ex.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ex.resolve(this.highestSequenceNumber)}allocateTargetId(e){this.highestTargetId=this.targetIdGenerator.next();return ex.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){if(n){this.lastRemoteSnapshotVersion=n}if(t>this.highestSequenceNumber){this.highestSequenceNumber=t}return ex.resolve()}saveTargetData(e){this.targets.set(e.target,e);const t=e.targetId;if(t>this.highestTargetId){this.targetIdGenerator=new c7(t);this.highestTargetId=t}if(e.sequenceNumber>this.highestSequenceNumber){this.highestSequenceNumber=e.sequenceNumber}}addTargetData(e,t){this.saveTargetData(t);this.targetCount+=1;return ex.resolve()}updateTargetData(e,t){this.saveTargetData(t);return ex.resolve()}removeTargetData(e,t){this.targets.delete(t.target);this.references.removeReferencesForId(t.targetId);this.targetCount-=1;return ex.resolve()}removeTargets(e,t,n){let r=0;const i=[];this.targets.forEach((s,o)=>{if(o.sequenceNumber<=t&&n.get(o.targetId)===null){this.targets.delete(s);i.push(this.removeMatchingKeysForTargetId(e,o.targetId));r++}});return ex.waitFor(i).next(()=>r)}getTargetCount(e){return ex.resolve(this.targetCount)}getTargetData(e,t){const n=this.targets.get(t)||null;return ex.resolve(n)}addMatchingKeys(e,t,n){this.references.addReferences(t,n);return ex.resolve()}removeMatchingKeys(e,t,n){this.references.removeReferences(t,n);const r=this.persistence.referenceDelegate;const i=[];if(r){t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))})}return ex.waitFor(i)}removeMatchingKeysForTargetId(e,t){this.references.removeReferencesForId(t);return ex.resolve()}getMatchingKeysForTargetId(e,t){const n=this.references.referencesForId(t);return ex.resolve(n)}containsKey(e,t){return ex.resolve(this.references.containsKey(t))}}const lG="MemoryPersistence";class lW{constructor(e,t){this.mutationQueues={};this.overlays={};this.listenSequence=new eY(0);this._started=false;this._started=true;this.globalsCache=new lM;this.referenceDelegate=e(this);this.targetCache=new l$(this);const n=e=>this.referenceDelegate.documentSize(e);this.indexManager=new cq;this.remoteDocumentCache=lz(n);this.serializer=new a_(t);this.bundleCache=new lN(this.serializer)}start(){return Promise.resolve()}shutdown(){this._started=false;return Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];if(!t){t=new lD;this.overlays[e.toKey()]=t}return t}getMutationQueue(e,t){let n=this.mutationQueues[e.toKey()];if(!n){n=new lF(t,this.referenceDelegate);this.mutationQueues[e.toKey()]=n}return n}getGlobalsCache(){return this.globalsCache}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(e,t,n){C(lG,"Starting transaction:",e);const r=new lH(this.listenSequence.next());this.referenceDelegate.onTransactionStarted();return n(r).next(e=>{return this.referenceDelegate.onTransactionCommitted(r).next(()=>e)}).toPromise().then(e=>{r.raiseOnCommittedEvent();return e})}mutationQueuesContainKey(e,t){return ex.or(Object.values(this.mutationQueues).map(n=>()=>n.containsKey(e,t)))}}class lH extends eA{constructor(e){super();this.currentSequenceNumber=e}}class lK{constructor(e){this.persistence=e;this.localViewReferences=new lL;this._orphanedDocuments=null}static factory(e){return new lK(e)}get orphanedDocuments(){if(!this._orphanedDocuments){throw A(60996)}else{return this._orphanedDocuments}}addReference(e,t,n){this.localViewReferences.addReference(n,t);this.orphanedDocuments.delete(n.toString());return ex.resolve()}removeReference(e,t,n){this.localViewReferences.removeReference(n,t);this.orphanedDocuments.add(n.toString());return ex.resolve()}markPotentiallyOrphaned(e,t){this.orphanedDocuments.add(t.toString());return ex.resolve()}removeTarget(e,t){const n=this.localViewReferences.removeReferencesForId(t.targetId);n.forEach(e=>this.orphanedDocuments.add(e.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.orphanedDocuments.add(e.toString()))}).next(()=>r.removeTargetData(e,t))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(e){const t=this.persistence.getRemoteDocumentCache();const n=t.newChangeBuffer();return ex.forEach(this.orphanedDocuments,t=>{const r=ef.fromPath(t);return this.isReferenced(e,r).next(e=>{if(!e){n.removeEntry(r,eo.min())}})}).next(()=>{this._orphanedDocuments=null;return n.apply(e)})}updateLimboDocument(e,t){return this.isReferenced(e,t).next(e=>{if(e){this.orphanedDocuments.delete(t.toString())}else{this.orphanedDocuments.add(t.toString())}})}documentSize(e){return 0}isReferenced(e,t){return ex.or([()=>ex.resolve(this.localViewReferences.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.mutationQueuesContainKey(e,t)])}}class lQ{constructor(e,t){this.persistence=e;this.orphanedSequenceNumbers=new iY(e=>e1(e.path),(e,t)=>e.isEqual(t));this.garbageCollector=lm(this,t)}static factory(e,t){return new lQ(e,t)}onTransactionStarted(){}onTransactionCommitted(e){return ex.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}getSequenceNumberCount(e){const t=this.orphanedDocumentCount(e);const n=this.persistence.getTargetCache().getTargetCount(e);return n.next(e=>t.next(t=>e+t))}orphanedDocumentCount(e){let t=0;return this.forEachOrphanedDocumentSequenceNumber(e,e=>{t++}).next(()=>t)}forEachOrphanedDocumentSequenceNumber(e,t){return ex.forEach(this.orphanedSequenceNumbers,(n,r)=>{return this.isPinned(e,n,r).next(e=>{if(!e){return t(r)}else{return ex.resolve()}})})}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache();const i=r.newChangeBuffer();const s=r.forEachDocumentKey(e,r=>{return this.isPinned(e,r,t).next(e=>{if(!e){n++;i.removeEntry(r,eo.min())}})});return s.next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber);return ex.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){this.orphanedSequenceNumbers.set(n,e.currentSequenceNumber);return ex.resolve()}removeReference(e,t,n){this.orphanedSequenceNumbers.set(n,e.currentSequenceNumber);return ex.resolve()}updateLimboDocument(e,t){this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber);return ex.resolve()}documentSize(e){let t=e.key.toString().length;if(e.isFoundDocument()){t+=rh(e.data.value)}return t}isPinned(e,t,n){return ex.or([()=>this.persistence.mutationQueuesContainKey(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.orphanedSequenceNumbers.get(t);return ex.resolve(e!==undefined&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class lY{constructor(e){this.serializer=e}createOrUpgrade(e,t,n,r){const i=new eD("createOrUpgrade",t);if(n<1&&r>=1){lJ(e);lZ(e);l6(e);l1(e)}let s=ex.resolve();if(n<3&&r>=3){if(n!==0){l4(e);l6(e)}s=s.next(()=>l8(i))}if(n<4&&r>=4){if(n!==0){s=s.next(()=>l0(e,i))}s=s.next(()=>{l7(e)})}if(n<5&&r>=5){s=s.next(()=>this.removeAcknowledgedMutations(i))}if(n<6&&r>=6){s=s.next(()=>{l3(e);return this.addDocumentGlobal(i)})}if(n<7&&r>=7){s=s.next(()=>this.ensureSequenceNumbers(i))}if(n<8&&r>=8){s=s.next(()=>this.createCollectionParentIndex(e,i))}if(n<9&&r>=9){s=s.next(()=>{l5(e)})}if(n<10&&r>=10){s=s.next(()=>this.rewriteCanonicalIds(i))}if(n<11&&r>=11){s=s.next(()=>{l9(e);ue(e)})}if(n<12&&r>=12){s=s.next(()=>{un(e)})}if(n<13&&r>=13){s=s.next(()=>l2(e)).next(()=>this.rewriteRemoteDocumentCache(e,i)).next(()=>e.deleteObjectStore(e4))}if(n<14&&r>=14){s=s.next(()=>this.runOverlayMigration(e,i))}if(n<15&&r>=15){s=s.next(()=>ut(e))}if(n<16&&r>=16){s=s.next(()=>{const e=t.objectStore(tB);e.clear()}).next(()=>{const e=t.objectStore(tq);e.clear()})}if(n<17&&r>=17){s=s.next(()=>{ur(e)})}if(n<18&&r>=18){if((0,a.Ov)()){s=s.next(()=>{const e=t.objectStore(tB);e.clear()}).next(()=>{const e=t.objectStore(tq);e.clear()})}}return s}addDocumentGlobal(e){let t=0;return e.store(e4).iterate((e,n)=>{t+=c0(n)}).next(()=>{const n={byteSize:t};return e.store(tm).put(tg,n)})}removeAcknowledgedMutations(e){const t=e.store(e7);const n=e.store(te);return t.loadAll().next(t=>{return ex.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,nz],[t.userId,t.lastAcknowledgedBatchId]);return n.loadAll(tn,r).next(n=>{return ex.forEach(n,n=>{x(n.userId===t.userId,18650,`Cannot process batch from unexpected user`,{batchId:n.batchId});const r=ak(this.serializer,n);return cZ(e,t.userId,r).next(()=>{})})})})})}ensureSequenceNumbers(e){const t=e.store(tE);const n=e.store(e4);const r=e.store(tI);return r.get(tC).next(e=>{const r=n=>{return t.put({targetId:0,path:e1(n),sequenceNumber:e.highestListenSequenceNumber})};const i=[];return n.iterate((e,n)=>{const s=new el(e);const o=lX(s);i.push(t.get(o).next(e=>{if(!e){return r(s)}else{return ex.resolve()}}))}).next(()=>ex.waitFor(i))})}createCollectionParentIndex(e,t){e.createObjectStore(tR,{keyPath:tO});const n=t.store(tR);const r=new c$;const i=e=>{if(r.add(e)){const t=e.lastSegment();const r=e.popLast();return n.put({collectionId:t,parent:e1(r)})}};return t.store(e4).iterate({keysOnly:true},(e,t)=>{const n=new el(e);return i(n.popLast())}).next(()=>{return t.store(tc).iterate({keysOnly:true},([e,t,n],r)=>{const s=e6(t);return i(s.popLast())})})}rewriteCanonicalIds(e){const t=e.store(ty);return t.iterate((e,n)=>{const r=ax(n);const i=aP(this.serializer,r);return t.put(i)})}rewriteRemoteDocumentCache(e,t){const n=t.store(e4);const r=[];return n.iterate((e,n)=>{const i=t.store(tl);const s=ui(n).path.toArray();const o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))}).next(()=>ex.waitFor(r))}runOverlayMigration(e,t){const n=t.store(te);const r=l_(this.serializer);const i=new lW(lK.factory,this.serializer.remoteSerializer);return n.loadAll().next(e=>{const n=new Map;e.forEach(e=>{var t;let r=(t=n.get(e.userId))!==null&&t!==void 0?t:i9();const i=ak(this.serializer,e);i.keys().forEach(e=>r=r.add(e));n.set(e.userId,r)});return ex.forEach(n,(e,n)=>{const s=new y(n);const o=aY.forUser(this.serializer,s);const a=i.getIndexManager(s);const c=c1.forUser(s,this.serializer,a,i.referenceDelegate);const l=new lP(r,c,o,a);return l.recalculateAndSaveOverlaysForDocumentKeys(new ns(t,eY.INVALID),e).next()})})}}function lX(e){return[0,e1(e)]}function lJ(e){e.createObjectStore(e5)}function lZ(e){e.createObjectStore(e7,{keyPath:e9});const t=e.createObjectStore(te,{keyPath:tt,autoIncrement:true});t.createIndex(tn,tr,{unique:true});e.createObjectStore(tc)}function l0(e,t){const n=t.store(te);return n.loadAll().next(n=>{e.deleteObjectStore(te);const r=e.createObjectStore(te,{keyPath:tt,autoIncrement:true});r.createIndex(tn,tr,{unique:true});const i=t.store(te);const s=n.map(e=>i.put(e));return ex.waitFor(s)})}function l1(e){e.createObjectStore(e4)}function l2(e){const t=e.createObjectStore(tl,{keyPath:tu});t.createIndex(td,tf);t.createIndex(th,tp)}function l3(e){e.createObjectStore(tm)}function l6(e){const t=e.createObjectStore(tE,{keyPath:t_});t.createIndex(tS,tT,{unique:true});const n=e.createObjectStore(ty,{keyPath:tv});n.createIndex(tb,tw,{unique:true});e.createObjectStore(tI)}function l4(e){e.deleteObjectStore(tE);e.deleteObjectStore(ty);e.deleteObjectStore(tI)}function l5(e){if(e.objectStoreNames.contains("remoteDocumentChanges")){e.deleteObjectStore("remoteDocumentChanges")}}function l8(e){const t=e.store(tI);const n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:eo.min().toTimestamp(),targetCount:0};return t.put(tC,n)}function l7(e){e.createObjectStore(tA,{keyPath:tk})}function l9(e){e.createObjectStore(tx,{keyPath:tP})}function ue(e){e.createObjectStore(tN,{keyPath:tD})}function ut(e){const t=e.createObjectStore(tM,{keyPath:tL,autoIncrement:true});t.createIndex(tj,tF,{unique:false});const n=e.createObjectStore(tB,{keyPath:tU});n.createIndex(tV,tz,{unique:false});const r=e.createObjectStore(tq,{keyPath:t$});r.createIndex(tG,tW,{unique:false})}function un(e){const t=e.createObjectStore(tH,{keyPath:tK});t.createIndex(tQ,tY,{unique:false});t.createIndex(tX,tJ,{unique:false})}function ur(e){e.createObjectStore(tZ,{keyPath:t0})}function ui(e){if(e.document){return new ef(el.fromString(e.document.name).popFirst(5))}else if(e.noDocument){return ef.fromSegments(e.noDocument.path)}else if(e.unknownDocument){return ef.fromSegments(e.unknownDocument.path)}else{return A(36783)}}const us="IndexedDbPersistence";const uo=30*60*1e3;const ua=5e3;const uc=4e3;const ul="Failed to obtain exclusive access to the persistence layer. To allow "+"shared access, multi-tab synchronization has to be enabled in all tabs. "+"If you are using `experimentalForceOwningTab:true`, make sure that only "+"one tab has persistence enabled at any given time.";const uu="This platform is either missing IndexedDB or is known to have "+"an incomplete implementation. Offline persistence has been disabled.";const ud="firestore_zombie";const uf="main";class uh{constructor(e,t,n,r,i,s,o,a,c,l,u=lk){this.allowTabSynchronization=e;this.persistenceKey=t;this.clientId=n;this.queue=i;this.window=s;this.document=o;this.sequenceNumberSyncer=c;this.forceOwningTab=l;this.schemaVersion=u;this.listenSequence=null;this._started=false;this.isPrimary=false;this.networkEnabled=true;this.windowUnloadHandler=null;this.inForeground=false;this.documentVisibilityHandler=null;this.clientMetadataRefresher=null;this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY;this.primaryStateListener=e=>Promise.resolve();if(!uh.isAvailable()){throw new M(D.UNIMPLEMENTED,uu)}this.referenceDelegate=new lg(this,r);this.dbName=t+uf;this.serializer=new a_(a);this.simpleDb=new eM(this.dbName,this.schemaVersion,new lY(this.serializer));this.globalsCache=new aJ;this.targetCache=new c9(this.referenceDelegate,this.serializer);this.remoteDocumentCache=l_(this.serializer);this.bundleCache=new aH;if(this.window&&this.window.localStorage){this.webStorage=this.window.localStorage}else{this.webStorage=null;if(l===false){I(us,"LocalStorage is unavailable. As a result, persistence may not work "+"reliably. In particular enablePersistence() could fail immediately "+"after refreshing the page.")}}}start(){return this.updateClientMetadataAndTryBecomePrimary().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization){throw new M(D.FAILED_PRECONDITION,ul)}this.attachVisibilityHandler();this.attachWindowUnloadHook();this.scheduleClientMetadataAndPrimaryLeaseRefreshes();return this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.targetCache.getHighestSequenceNumber(e))}).then(e=>{this.listenSequence=new eY(e,this.sequenceNumberSyncer)}).then(()=>{this._started=true}).catch(e=>{this.simpleDb&&this.simpleDb.close();return Promise.reject(e)})}setPrimaryStateListener(e){this.primaryStateListener=async t=>{if(this.started){return e(t)}};return e(this.isPrimary)}setDatabaseDeletedListener(e){this.simpleDb.setVersionChangeListener(async t=>{if(t.newVersion===null){await e()}})}setNetworkEnabled(e){if(this.networkEnabled!==e){this.networkEnabled=e;this.queue.enqueueAndForget(async()=>{if(this.started){await this.updateClientMetadataAndTryBecomePrimary()}})}}updateClientMetadataAndTryBecomePrimary(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>{const t=um(e);return t.put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary){return this.verifyPrimaryLease(e).next(e=>{if(!e){this.isPrimary=false;this.queue.enqueueRetryable(()=>this.primaryStateListener(false))}})}}).next(()=>this.canActAsPrimary(e)).next(t=>{if(this.isPrimary&&!t){return this.releasePrimaryLeaseIfHeld(e).next(()=>false)}else if(t){return this.acquireOrExtendPrimaryLease(e).next(()=>true)}else{return false}})}).catch(e=>{if(eB(e)){C(us,"Failed to extend owner lease: ",e);return this.isPrimary}if(!this.allowTabSynchronization){throw e}C(us,"Releasing owner lease after error during lease refresh",e);return false}).then(e=>{if(this.isPrimary!==e){this.queue.enqueueRetryable(()=>this.primaryStateListener(e))}this.isPrimary=e})}verifyPrimaryLease(e){const t=up(e);return t.get(e8).next(e=>{return ex.resolve(this.isLocalClient(e))})}removeClientMetadata(e){const t=um(e);return t.delete(this.clientId)}async maybeGarbageCollectMultiClientState(){if(this.isPrimary&&!this.isWithinAge(this.lastGarbageCollectionTime,uo)){this.lastGarbageCollectionTime=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=no(e,tA);return t.loadAll().next(e=>{const n=this.filterActiveClients(e,uo);const r=e.filter(e=>n.indexOf(e)===-1);return ex.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>{return[]});if(this.webStorage){for(const t of e){this.webStorage.removeItem(this.zombiedClientLocalStorageKey(t.clientId))}}}}scheduleClientMetadataAndPrimaryLeaseRefreshes(){this.clientMetadataRefresher=this.queue.enqueueAfterDelay("client_metadata_refresh",uc,()=>{return this.updateClientMetadataAndTryBecomePrimary().then(()=>this.maybeGarbageCollectMultiClientState()).then(()=>this.scheduleClientMetadataAndPrimaryLeaseRefreshes())})}isLocalClient(e){return e?e.ownerId===this.clientId:false}canActAsPrimary(e){if(this.forceOwningTab){return ex.resolve(true)}const t=up(e);return t.get(e8).next(t=>{const n=t!==null&&this.isWithinAge(t.leaseTimestampMs,ua)&&!this.isClientZombied(t.ownerId);if(n){if(this.isLocalClient(t)&&this.networkEnabled){return true}if(!this.isLocalClient(t)){if(!t.allowTabSynchronization){throw new M(D.FAILED_PRECONDITION,ul)}return false}}if(this.networkEnabled&&this.inForeground){return true}return um(e).loadAll().next(e=>{const t=this.filterActiveClients(e,ua).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled;const n=!this.inForeground&&e.inForeground;const r=this.networkEnabled===e.networkEnabled;if(t||n&&r){return true}}return false});return t===undefined})}).next(e=>{if(this.isPrimary!==e){C(us,`Client ${e?"is":"is not"} eligible for a primary lease.`)}return e})}async shutdown(){this._started=false;this.markClientZombied();if(this.clientMetadataRefresher){this.clientMetadataRefresher.cancel();this.clientMetadataRefresher=null}this.detachVisibilityHandler();this.detachWindowUnloadHook();await this.simpleDb.runTransaction("shutdown","readwrite",[e5,tA],e=>{const t=new ns(e,eY.INVALID);return this.releasePrimaryLeaseIfHeld(t).next(()=>this.removeClientMetadata(t))});this.simpleDb.close();this.removeClientZombiedEntry()}filterActiveClients(e,t){return e.filter(e=>this.isWithinAge(e.updateTimeMs,t)&&!this.isClientZombied(e.clientId))}getActiveClients(){return this.runTransaction("getActiveClients","readonly",e=>{return um(e).loadAll().next(e=>this.filterActiveClients(e,uo).map(e=>e.clientId))})}get started(){return this._started}getGlobalsCache(){return this.globalsCache}getMutationQueue(e,t){return c1.forUser(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new cH(e,this.serializer.remoteSerializer.databaseId)}getDocumentOverlayCache(e){return aY.forUser(this.serializer,e)}getBundleCache(){return this.bundleCache}runTransaction(e,t,n){C(us,"Starting transaction:",e);const r=t==="readonly"?"readonly":"readwrite";const i=ni(this.schemaVersion);let s;return this.simpleDb.runTransaction(e,r,i,r=>{s=new ns(r,this.listenSequence?this.listenSequence.next():eY.INVALID);if(t==="readwrite-primary"){return this.verifyPrimaryLease(s).next(e=>{if(e){return true}return this.canActAsPrimary(s)}).next(t=>{if(!t){I(`Failed to obtain primary lease for action '${e}'.`);this.isPrimary=false;this.queue.enqueueRetryable(()=>this.primaryStateListener(false));throw new M(D.FAILED_PRECONDITION,eO)}return n(s)}).next(e=>{return this.acquireOrExtendPrimaryLease(s).next(()=>e)})}else{return this.verifyAllowTabSynchronization(s).next(()=>n(s))}}).then(e=>{s.raiseOnCommittedEvent();return e})}verifyAllowTabSynchronization(e){const t=up(e);return t.get(e8).next(e=>{const t=e!==null&&this.isWithinAge(e.leaseTimestampMs,ua)&&!this.isClientZombied(e.ownerId);if(t&&!this.isLocalClient(e)){if(!this.forceOwningTab&&(!this.allowTabSynchronization||!e.allowTabSynchronization)){throw new M(D.FAILED_PRECONDITION,ul)}}})}acquireOrExtendPrimaryLease(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return up(e).put(e8,t)}static isAvailable(){return eM.isAvailable()}releasePrimaryLeaseIfHeld(e){const t=up(e);return t.get(e8).next(e=>{if(this.isLocalClient(e)){C(us,"Releasing primary lease.");return t.delete(e8)}else{return ex.resolve()}})}isWithinAge(e,t){const n=Date.now();const r=n-t;const i=n;if(e<r){return false}else if(e>i){I(`Detected an update time that is in the future: ${e} > ${i}`);return false}return true}attachVisibilityHandler(){if(this.document!==null&&typeof this.document.addEventListener==="function"){this.documentVisibilityHandler=()=>{this.queue.enqueueAndForget(()=>{this.inForeground=this.document.visibilityState==="visible";return this.updateClientMetadataAndTryBecomePrimary()})};this.document.addEventListener("visibilitychange",this.documentVisibilityHandler);this.inForeground=this.document.visibilityState==="visible"}}detachVisibilityHandler(){if(this.documentVisibilityHandler){this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler);this.documentVisibilityHandler=null}}attachWindowUnloadHook(){var e;if(typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)==="function"){this.windowUnloadHandler=()=>{this.markClientZombied();const e=/(?:Version|Mobile)\/1[456]/;if((0,a.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))){this.queue.enterRestrictedMode(true)}this.queue.enqueueAndForget(()=>{return this.shutdown()})};this.window.addEventListener("pagehide",this.windowUnloadHandler)}}detachWindowUnloadHook(){if(this.windowUnloadHandler){this.window.removeEventListener("pagehide",this.windowUnloadHandler);this.windowUnloadHandler=null}}isClientZombied(e){var t;try{const n=((t=this.webStorage)===null||t===void 0?void 0:t.getItem(this.zombiedClientLocalStorageKey(e)))!==null;C(us,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`);return n}catch(e){I(us,"Failed to get zombied client id.",e);return false}}markClientZombied(){if(!this.webStorage){return}try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){I("Failed to set zombie client id.",e)}}removeClientZombiedEntry(){if(!this.webStorage){return}try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}}zombiedClientLocalStorageKey(e){return`${ud}_${this.persistenceKey}_${e}`}}function up(e){return no(e,e5)}function um(e){return no(e,tA)}function ug(e,t){let n=e.projectId;if(!e.isDefaultDatabase){n+="."+e.database}return"firestore/"+t+"/"+n+"/"}async function uy(e){if(!eM.isAvailable()){return Promise.resolve()}const t=e+uf;await eM.delete(t)}function uv(e,t,n,r,i){e=[...e];t=[...t];e.sort(n);t.sort(n);const s=e.length;const o=t.length;let a=0;let c=0;while(a<o&&c<s){const s=n(e[c],t[a]);if(s<0){i(e[c++])}else if(s>0){r(t[a++])}else{a++;c++}}while(a<o){r(t[a++])}while(c<s){i(e[c++])}}function ub(e,t){if(e.length!==t.length){return false}for(let n=0;n<e.length;++n){if(e[n]!==t[n]){return false}}return true}const uw="LocalStore";const uE=5*60*1e6;class u_{constructor(e,t,n,r){this.persistence=e;this.queryEngine=t;this.serializer=r;this.targetDataByTarget=new nd(X);this.targetIdByTarget=new iY(e=>ia(e),il);this.collectionGroupReadTime=new Map;this.remoteDocuments=e.getRemoteDocumentCache();this.targetCache=e.getTargetCache();this.bundleCache=e.getBundleCache();this.initializeUserComponents(n)}initializeUserComponents(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e);this.indexManager=this.persistence.getIndexManager(e);this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager);this.localDocuments=new lP(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager);this.remoteDocuments.setIndexManager(this.indexManager);this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.targetDataByTarget))}}function uS(e,t,n,r){return new u_(e,t,n,r)}async function uT(e,t){const n=N(e);const r=await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>{r=i;n.initializeUserComponents(t);return n.mutationQueue.getAllMutationBatches(e)}).next(t=>{const i=[];const s=[];let o=i9();for(const e of r){i.push(e.batchId);for(const t of e.mutations){o=o.add(t.key)}}for(const e of t){s.push(e.batchId);for(const t of e.mutations){o=o.add(t.key)}}return n.localDocuments.getDocuments(e,o).next(e=>{return{affectedDocuments:e,removedBatchIds:i,addedBatchIds:s}})})});return r}function uC(e,t){const n=N(e);const r=es.now();const i=t.reduce((e,t)=>e.add(t.key),i9());let s;let o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=iJ();let c=i9();return n.remoteDocuments.getEntries(e,i).next(e=>{a=e;a.forEach((e,t)=>{if(!t.isValidDocument()){c=c.add(e)}})}).next(()=>{return n.localDocuments.getOverlayedDocuments(e,a)}).next(i=>{s=i;const o=[];for(const e of t){const t=sA(e,s.get(e.key).overlayedDocument);if(t!=null){o.push(new sD(e.key,t,rN(t.value.mapValue),sS.exists(true)))}}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:i2(s)}))}function uI(e,t){const n=N(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys();const i=n.remoteDocuments.newChangeBuffer({trackRemovals:true});return uV(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,uR(t))).next(()=>n.localDocuments.getDocuments(e,r))})}function uR(e){let t=i9();for(let n=0;n<e.mutationResults.length;++n){const r=e.mutationResults[n];if(r.transformResults.length>0){t=t.add(e.batch.mutations[n].key)}}return t}function uO(e,t){const n=N(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>{x(t!==null,37113);r=t.keys();return n.mutationQueue.removeMutationBatch(e,t)}).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}function uA(e){const t=N(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e))}function uk(e){const t=N(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.targetCache.getLastRemoteSnapshotVersion(e))}function ux(e,t){const n=N(e);const r=t.snapshotVersion;let i=n.targetDataByTarget;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.remoteDocuments.newChangeBuffer({trackRemovals:true});i=n.targetDataByTarget;const o=[];t.targetChanges.forEach((s,a)=>{const c=i.get(a);if(!c){return}o.push(n.targetCache.removeMatchingKeys(e,s.removedDocuments,a).next(()=>{return n.targetCache.addMatchingKeys(e,s.addedDocuments,a)}));let l=c.withSequenceNumber(e.currentSequenceNumber);if(t.targetMismatches.get(a)!==null){l=l.withResumeToken(nS.EMPTY_BYTE_STRING,eo.min()).withLastLimboFreeSnapshotVersion(eo.min())}else if(s.resumeToken.approximateByteSize()>0){l=l.withResumeToken(s.resumeToken,r)}i=i.insert(a,l);if(uN(c,l,s)){o.push(n.targetCache.updateTargetData(e,l))}});let a=iJ();let c=i9();t.documentUpdates.forEach(r=>{if(t.resolvedLimboDocuments.has(r)){o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}});o.push(uP(e,s,t.documentUpdates).next(e=>{a=e.changedDocuments;c=e.existenceChangedKeys}));if(!r.isEqual(eo.min())){const t=n.targetCache.getLastRemoteSnapshotVersion(e).next(t=>{return n.targetCache.setTargetsMetadata(e,e.currentSequenceNumber,r)});o.push(t)}return ex.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,c)).next(()=>a)}).then(e=>{n.targetDataByTarget=i;return e})}function uP(e,t,n){let r=i9();let i=i9();n.forEach(e=>r=r.add(e));return t.getEntries(e,r).next(e=>{let r=iJ();n.forEach((n,s)=>{const o=e.get(n);if(s.isFoundDocument()!==o.isFoundDocument()){i=i.add(n)}if(s.isNoDocument()&&s.version.isEqual(eo.min())){t.removeEntry(n,s.readTime);r=r.insert(n,s)}else if(!o.isValidDocument()||s.version.compareTo(o.version)>0||s.version.compareTo(o.version)===0&&o.hasPendingWrites){t.addEntry(s);r=r.insert(n,s)}else{C(uw,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}});return{changedDocuments:r,existenceChangedKeys:i}})}function uN(e,t,n){if(e.resumeToken.approximateByteSize()===0){return true}const r=t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds();if(r>=uE){return true}const i=n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size;return i>0}async function uD(e,t){const n=N(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>{return ex.forEach(t,t=>{return ex.forEach(t.addedKeys,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ex.forEach(t.removedKeys,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))})})}catch(e){if(eB(e)){C(uw,"Failed to update sequence numbers: "+e)}else{throw e}}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.targetDataByTarget.get(t);const r=e.snapshotVersion;const i=e.withLastLimboFreeSnapshotVersion(r);n.targetDataByTarget=n.targetDataByTarget.insert(t,i)}}}function uM(e,t){const n=N(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>{if(t===undefined){t=nz}return n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)})}function uL(e,t){const n=N(e);return n.persistence.runTransaction("read document","readonly",e=>n.localDocuments.getDocument(e,t))}function uj(e,t){const n=N(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.targetCache.getTargetData(e,t).next(i=>{if(i){r=i;return ex.resolve(r)}else{return n.targetCache.allocateTargetId(e).next(i=>{r=new aE(t,i,"TargetPurposeListen",e.currentSequenceNumber);return n.targetCache.addTargetData(e,r).next(()=>r)})}})}).then(e=>{const r=n.targetDataByTarget.get(e.targetId);if(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0){n.targetDataByTarget=n.targetDataByTarget.insert(e.targetId,e);n.targetIdByTarget.set(t,e.targetId)}return e})}function uF(e,t,n){const r=N(e);const i=r.targetIdByTarget.get(n);if(i!==undefined){return ex.resolve(r.targetDataByTarget.get(i))}else{return r.targetCache.getTargetData(t,n)}}async function uB(e,t,n){const r=N(e);const i=r.targetDataByTarget.get(t);const s=n?"readwrite":"readwrite-primary";try{if(!n){await r.persistence.runTransaction("Release target",s,e=>{return r.persistence.referenceDelegate.removeTarget(e,i)})}}catch(e){if(eB(e)){C(uw,`Failed to update sequence numbers for target ${t}: ${e}`)}else{throw e}}r.targetDataByTarget=r.targetDataByTarget.remove(t);r.targetIdByTarget.delete(i.target)}function uU(e,t,n){const r=N(e);let i=eo.min();let s=i9();return r.persistence.runTransaction("Execute query","readwrite",e=>{return uF(r,e,ix(t)).next(t=>{if(t){i=t.lastLimboFreeSnapshotVersion;return r.targetCache.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}}).next(()=>r.queryEngine.getDocumentsMatchingQuery(e,t,n?i:eo.min(),n?s:i9())).next(e=>{uH(r,iH(t),e);return{documents:e,remoteKeys:s}})})}function uV(e,t,n,r){const i=n.batch;const s=i.keys();let o=ex.resolve();s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);x(s!==null,48541);if(t.version.compareTo(s)<0){i.applyToRemoteDocument(t,n);if(t.isValidDocument()){t.setReadTime(n.commitVersion);r.addEntry(t)}}})});return o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}function uz(e,t){const n=N(e);const r=N(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>{return r.lookupMutationKeys(e,t).next(t=>{if(t){return n.localDocuments.getDocuments(e,t)}else{return ex.resolve(null)}})})}function uq(e,t){const n=N(N(e,u_).mutationQueue);n.removeCachedMutationKeys(t)}function u$(e){const t=N(N(e,u_).persistence);return t.getActiveClients()}function uG(e,t){const n=N(e);const r=N(n.targetCache);const i=n.targetDataByTarget.get(t);if(i){return Promise.resolve(i.target)}else{return n.persistence.runTransaction("Get target data","readonly",e=>{return r.getTargetDataForTarget(e,t).next(e=>e?e.target:null)})}}function uW(e,t){const n=N(e);const r=n.collectionGroupReadTime.get(t)||eo.min();return n.persistence.runTransaction("Get new document changes","readonly",e=>n.remoteDocuments.getAllFromCollectionGroup(e,t,eT(r,eh),Number.MAX_SAFE_INTEGER)).then(e=>{uH(n,t,e);return e})}function uH(e,t,n){let r=e.collectionGroupReadTime.get(t)||eo.min();n.forEach((e,t)=>{if(t.readTime.compareTo(r)>0){r=t.readTime}});e.collectionGroupReadTime.set(t,r)}function uK(e){return ix(iS(el.fromString(`__bundle__/docs/${e}`)))}async function uQ(e,t,n,r){const i=N(e);let s=i9();let o=iJ();for(const e of n){const n=t.toDocumentKey(e.metadata.name);if(e.document){s=s.add(n)}const r=t.toMutableDocument(e);r.setReadTime(t.toSnapshotVersion(e.metadata.readTime));o=o.insert(n,r)}const a=i.remoteDocuments.newChangeBuffer({trackRemovals:true});const c=await uj(i,uK(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>{return uP(e,a,o).next(t=>{a.apply(e);return t}).next(t=>{return i.targetCache.removeMatchingKeysForTargetId(e,c.targetId).next(()=>i.targetCache.addMatchingKeys(e,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(e,t.changedDocuments,t.existenceChangedKeys)).next(()=>t.changedDocuments)})})}function uY(e,t){const n=N(e);const r=ow(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>{return n.bundleCache.getBundleMetadata(e,t.id)}).then(e=>{return!!e&&e.createTime.compareTo(r)>=0})}function uX(e,t){const n=N(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>{return n.bundleCache.saveBundleMetadata(e,t)})}function uJ(e,t){const n=N(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.bundleCache.getNamedQuery(e,t))}async function uZ(e,t,n=i9()){const r=await uj(e,ix(aF(t.bundledQuery)));const i=N(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=ow(t.readTime);if(r.snapshotVersion.compareTo(s)>=0){return i.bundleCache.saveNamedQuery(e,t)}const o=r.withResumeToken(nS.EMPTY_BYTE_STRING,s);i.targetDataByTarget=i.targetDataByTarget.insert(o.targetId,o);return i.targetCache.updateTargetData(e,o).next(()=>i.targetCache.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.targetCache.addMatchingKeys(e,n,r.targetId)).next(()=>i.bundleCache.saveNamedQuery(e,t))})}async function u0(e,t){const n=N(e);const r=n.indexManager;const i=[];return n.persistence.runTransaction("Configure indexes","readwrite",e=>r.getFieldIndexes(e).next(n=>uv(n,t,eb,t=>{i.push(r.addFieldIndex(e,t))},t=>{i.push(r.deleteFieldIndex(e,t))})).next(()=>ex.waitFor(i)))}function u1(e,t){const n=N(e);n.queryEngine.indexAutoCreationEnabled=t}function u2(e){const t=N(e);const n=t.indexManager;return t.persistence.runTransaction("Delete All Indexes","readwrite",e=>n.deleteAllFieldIndexes(e))}class u3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}const u6=100;function u4(){if((0,a.nr)()){return 8}else if(eL((0,a.ZQ)())>0){return 6}else{return 4}}class u5{constructor(){this.initialized=false;this.indexAutoCreationEnabled=false;this.indexAutoCreationMinCollectionSize=u6;this.relativeIndexReadCostPerDocument=u4()}initialize(e,t){this.localDocumentsView=e;this.indexManager=t;this.initialized=true}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.performQueryUsingIndex(e,t).next(e=>{i.result=e}).next(()=>{if(i.result){return}return this.performQueryUsingRemoteKeys(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result){return}const n=new u3;return this.executeFullCollectionScan(e,t,n).next(r=>{i.result=r;if(this.indexAutoCreationEnabled){return this.createCacheIndexes(e,t,n,r.size)}})}).next(()=>i.result)}createCacheIndexes(e,t,n,r){if(n.documentReadCount<this.indexAutoCreationMinCollectionSize){if(S()<=s.$b.DEBUG){C("QueryEngine","SDK will not create cache indexes for query:",iV(t),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents")}return ex.resolve()}if(S()<=s.$b.DEBUG){C("QueryEngine","Query:",iV(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results.")}if(n.documentReadCount>this.relativeIndexReadCostPerDocument*r){if(S()<=s.$b.DEBUG){C("QueryEngine","The SDK decides to create cache indexes for query:",iV(t),"as using cache indexes may help improve performance.")}return this.indexManager.createTargetIndexes(e,ix(t))}return ex.resolve()}performQueryUsingIndex(e,t){if(iC(t)){return ex.resolve(null)}let n=ix(t);return this.indexManager.getIndexType(e,n).next(r=>{if(r===0){return null}if(t.limit!==null&&r===1){t=iL(t,null,"F");n=ix(t)}return this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=i9(...r);return this.localDocumentsView.getDocuments(e,i).next(r=>{return this.indexManager.getMinOffset(e,n).next(n=>{const s=this.applyQuery(t,r);if(this.needsRefill(t,s,i,n.readTime)){return this.performQueryUsingIndex(e,iL(t,null,"F"))}return this.appendRemainingResults(e,s,t,n)})})})})}performQueryUsingRemoteKeys(e,t,n,r){if(iC(t)){return ex.resolve(null)}if(r.isEqual(eo.min())){return ex.resolve(null)}return this.localDocumentsView.getDocuments(e,n).next(i=>{const o=this.applyQuery(t,i);if(this.needsRefill(t,o,n,r)){return ex.resolve(null)}if(S()<=s.$b.DEBUG){C("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),iV(t))}return this.appendRemainingResults(e,o,t,eT(r,eh)).next(e=>e)})}applyQuery(e,t){let n=new nm(iK(e));t.forEach((t,r)=>{if(iz(e,r)){n=n.add(r)}});return n}needsRefill(e,t,n,r){if(e.limit===null){return false}if(n.size!==t.size){return true}const i=e.limitType==="F"?t.last():t.first();if(!i){return false}return i.hasPendingWrites||i.version.compareTo(r)>0}executeFullCollectionScan(e,t,n){if(S()<=s.$b.DEBUG){C("QueryEngine","Using full collection scan to execute query:",iV(t))}return this.localDocumentsView.getDocumentsMatchingQuery(e,t,eI.min(),n)}appendRemainingResults(e,t,n,r){return this.localDocumentsView.getDocumentsMatchingQuery(e,n,r).next(e=>{t.forEach(t=>{e=e.insert(t.key,t)});return e})}}const u8="firestore_clients";function u7(e,t){return`${u8}_${e}_${t}`}const u9="firestore_mutations";function de(e,t,n){let r=`${u9}_${e}_${n}`;if(t.isAuthenticated()){r+=`_${t.uid}`}return r}const dt="firestore_targets";function dn(e,t){return`${dt}_${e}_${t}`}const dr="firestore_online_state";function di(e){return`${dr}_${e}`}const ds="firestore_bundle_loaded_v2";function da(e){return`${ds}_${e}`}const dc="firestore_sequence_number";function dl(e){return`${dc}_${e}`}const du="SharedClientState";class dd{constructor(e,t,n,r){this.user=e;this.batchId=t;this.state=n;this.error=r}static fromWebStorageEntry(e,t,n){const r=JSON.parse(n);let i=typeof r==="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===undefined||typeof r.error==="object");let s=undefined;if(i&&r.error){i=typeof r.error.message==="string"&&typeof r.error.code==="string";if(i){s=new M(r.error.code,r.error.message)}}if(i){return new dd(e,t,r.state,s)}else{I(du,`Failed to parse mutation state for ID '${t}': ${n}`);return null}}toWebStorageJSON(){const e={state:this.state,updateTimeMs:Date.now()};if(this.error){e.error={code:this.error.code,message:this.error.message}}return JSON.stringify(e)}}class df{constructor(e,t,n){this.targetId=e;this.state=t;this.error=n}static fromWebStorageEntry(e,t){const n=JSON.parse(t);let r=typeof n==="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===undefined||typeof n.error==="object");let i=undefined;if(r&&n.error){r=typeof n.error.message==="string"&&typeof n.error.code==="string";if(r){i=new M(n.error.code,n.error.message)}}if(r){return new df(e,n.state,i)}else{I(du,`Failed to parse target state for ID '${e}': ${t}`);return null}}toWebStorageJSON(){const e={state:this.state,updateTimeMs:Date.now()};if(this.error){e.error={code:this.error.code,message:this.error.message}}return JSON.stringify(e)}}class dh{constructor(e,t){this.clientId=e;this.activeTargetIds=t}static fromWebStorageEntry(e,t){const n=JSON.parse(t);let r=typeof n==="object"&&n.activeTargetIds instanceof Array;let i=st();for(let e=0;r&&e<n.activeTargetIds.length;++e){r=nG(n.activeTargetIds[e]);i=i.add(n.activeTargetIds[e])}if(r){return new dh(e,i)}else{I(du,`Failed to parse client data for instance '${e}': ${t}`);return null}}}class dp{constructor(e,t){this.clientId=e;this.onlineState=t}static fromWebStorageEntry(e){const t=JSON.parse(e);const n=typeof t==="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId==="string";if(n){return new dp(t.clientId,t.onlineState)}else{I(du,`Failed to parse online state: ${e}`);return null}}}class dm{constructor(){this.activeTargetIds=st()}addQueryTarget(e){this.activeTargetIds=this.activeTargetIds.add(e)}removeQueryTarget(e){this.activeTargetIds=this.activeTargetIds.delete(e)}toWebStorageJSON(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dg{constructor(e,t,n,r,i){this.window=e;this.queue=t;this.persistenceKey=n;this.localClientId=r;this.syncEngine=null;this.onlineStateHandler=null;this.sequenceNumberHandler=null;this.storageListener=this.handleWebStorageEvent.bind(this);this.activeClients=new nd(X);this.started=false;this.earlyEvents=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage;this.currentUser=i;this.localClientStorageKey=u7(this.persistenceKey,this.localClientId);this.sequenceNumberKey=dl(this.persistenceKey);this.activeClients=this.activeClients.insert(this.localClientId,new dm);this.clientStateKeyRe=new RegExp(`^${u8}_${s}_([^_]*)$`);this.mutationBatchKeyRe=new RegExp(`^${u9}_${s}_(\\d+)(?:_(.*))?$`);this.queryTargetKeyRe=new RegExp(`^${dt}_${s}_(\\d+)$`);this.onlineStateKey=di(this.persistenceKey);this.bundleLoadedKey=da(this.persistenceKey);this.window.addEventListener("storage",this.storageListener)}static isAvailable(e){return!!(e&&e.localStorage)}async start(){const e=await this.syncEngine.getActiveClients();for(const t of e){if(t===this.localClientId){continue}const e=this.getItem(u7(this.persistenceKey,t));if(e){const n=dh.fromWebStorageEntry(t,e);if(n){this.activeClients=this.activeClients.insert(n.clientId,n)}}}this.persistClientState();const t=this.storage.getItem(this.onlineStateKey);if(t){const e=this.fromWebStorageOnlineState(t);if(e){this.handleOnlineStateEvent(e)}}for(const e of this.earlyEvents){this.handleWebStorageEvent(e)}this.earlyEvents=[];this.window.addEventListener("pagehide",()=>this.shutdown());this.started=true}writeSequenceNumber(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))}getAllActiveQueryTargets(){return this.extractActiveQueryTargets(this.activeClients)}isActiveQueryTarget(e){let t=false;this.activeClients.forEach((n,r)=>{if(r.activeTargetIds.has(e)){t=true}});return t}addPendingMutation(e){this.persistMutationState(e,"pending")}updateMutationState(e,t,n){this.persistMutationState(e,t,n);this.removeMutationState(e)}addLocalQueryTarget(e,t=true){let n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(dn(this.persistenceKey,e));if(t){const r=df.fromWebStorageEntry(e,t);if(r){n=r.state}}}if(t){this.localClientState.addQueryTarget(e)}this.persistClientState();return n}removeLocalQueryTarget(e){this.localClientState.removeQueryTarget(e);this.persistClientState()}isLocalQueryTarget(e){return this.localClientState.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dn(this.persistenceKey,e))}updateQueryState(e,t,n){this.persistQueryTargetState(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.removeMutationState(e)});this.currentUser=e;n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.persistOnlineState(e)}notifyBundleLoaded(e){this.persistBundleLoadedState(e)}shutdown(){if(this.started){this.window.removeEventListener("storage",this.storageListener);this.removeItem(this.localClientStorageKey);this.started=false}}getItem(e){const t=this.storage.getItem(e);C(du,"READ",e,t);return t}setItem(e,t){C(du,"SET",e,t);this.storage.setItem(e,t)}removeItem(e){C(du,"REMOVE",e);this.storage.removeItem(e)}handleWebStorageEvent(e){const t=e;if(t.storageArea===this.storage){C(du,"EVENT",t.key,t.newValue);if(t.key===this.localClientStorageKey){I("Received WebStorage notification for local change. Another client might have "+"garbage-collected our state");return}this.queue.enqueueRetryable(async()=>{if(!this.started){this.earlyEvents.push(t);return}if(t.key===null){return}if(this.clientStateKeyRe.test(t.key)){if(t.newValue!=null){const e=this.fromWebStorageClientState(t.key,t.newValue);if(e){return this.handleClientStateEvent(e.clientId,e)}}else{const e=this.fromWebStorageClientStateKey(t.key);return this.handleClientStateEvent(e,null)}}else if(this.mutationBatchKeyRe.test(t.key)){if(t.newValue!==null){const e=this.fromWebStorageMutationMetadata(t.key,t.newValue);if(e){return this.handleMutationBatchEvent(e)}}}else if(this.queryTargetKeyRe.test(t.key)){if(t.newValue!==null){const e=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue);if(e){return this.handleQueryTargetEvent(e)}}}else if(t.key===this.onlineStateKey){if(t.newValue!==null){const e=this.fromWebStorageOnlineState(t.newValue);if(e){return this.handleOnlineStateEvent(e)}}}else if(t.key===this.sequenceNumberKey){const e=dy(t.newValue);if(e!==eY.INVALID){this.sequenceNumberHandler(e)}}else if(t.key===this.bundleLoadedKey){const e=this.fromWebStoreBundleLoadedState(t.newValue);await Promise.all(e.map(e=>this.syncEngine.synchronizeWithChangedDocuments(e)))}})}}get localClientState(){return this.activeClients.get(this.localClientId)}persistClientState(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())}persistMutationState(e,t,n){const r=new dd(this.currentUser,e,t,n);const i=de(this.persistenceKey,this.currentUser,e);this.setItem(i,r.toWebStorageJSON())}removeMutationState(e){const t=de(this.persistenceKey,this.currentUser,e);this.removeItem(t)}persistOnlineState(e){const t={clientId:this.localClientId,onlineState:e};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))}persistQueryTargetState(e,t,n){const r=dn(this.persistenceKey,e);const i=new df(e,t,n);this.setItem(r,i.toWebStorageJSON())}persistBundleLoadedState(e){const t=JSON.stringify(Array.from(e));this.setItem(this.bundleLoadedKey,t)}fromWebStorageClientStateKey(e){const t=this.clientStateKeyRe.exec(e);return t?t[1]:null}fromWebStorageClientState(e,t){const n=this.fromWebStorageClientStateKey(e);return dh.fromWebStorageEntry(n,t)}fromWebStorageMutationMetadata(e,t){const n=this.mutationBatchKeyRe.exec(e);const r=Number(n[1]);const i=n[2]!==undefined?n[2]:null;return dd.fromWebStorageEntry(new y(i),r,t)}fromWebStorageQueryTargetMetadata(e,t){const n=this.queryTargetKeyRe.exec(e);const r=Number(n[1]);return df.fromWebStorageEntry(r,t)}fromWebStorageOnlineState(e){return dp.fromWebStorageEntry(e)}fromWebStoreBundleLoadedState(e){return JSON.parse(e)}async handleMutationBatchEvent(e){if(e.user.uid!==this.currentUser.uid){C(du,`Ignoring mutation for non-active user ${e.user.uid}`);return}return this.syncEngine.applyBatchState(e.batchId,e.state,e.error)}handleQueryTargetEvent(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)}handleClientStateEvent(e,t){const n=t?this.activeClients.insert(e,t):this.activeClients.remove(e);const r=this.extractActiveQueryTargets(this.activeClients);const i=this.extractActiveQueryTargets(n);const s=[];const o=[];i.forEach(e=>{if(!r.has(e)){s.push(e)}});r.forEach(e=>{if(!i.has(e)){o.push(e)}});return this.syncEngine.applyActiveTargetsChange(s,o).then(()=>{this.activeClients=n})}handleOnlineStateEvent(e){if(this.activeClients.get(e.clientId)){this.onlineStateHandler(e.onlineState)}}extractActiveQueryTargets(e){let t=st();e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)});return t}}function dy(e){let t=eY.INVALID;if(e!=null){try{const n=JSON.parse(e);x(typeof n==="number",30636,{seqString:e});t=n}catch(e){I(du,"Failed to read sequence number from WebStorage",e)}}return t}class dv{constructor(){this.localState=new dm;this.queryState={};this.onlineStateHandler=null;this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=true){if(t){this.localState.addQueryTarget(e)}return this.queryState[e]||"not-current"}updateQueryState(e,t,n){this.queryState[e]=t}removeLocalQueryTarget(e){this.localState.removeQueryTarget(e)}isLocalQueryTarget(e){return this.localState.activeTargetIds.has(e)}clearQueryState(e){delete this.queryState[e]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(e){return this.localState.activeTargetIds.has(e)}start(){this.localState=new dm;return Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class db{addCallback(e){}shutdown(){}}class dw{constructor(e){this.sendFn=e.sendFn;this.closeFn=e.closeFn}onConnected(e){this.wrappedOnConnected=e}onOpen(e){this.wrappedOnOpen=e}onClose(e){this.wrappedOnClose=e}onMessage(e){this.wrappedOnMessage=e}close(){this.closeFn()}send(e){this.sendFn(e)}callOnConnected(){this.wrappedOnConnected()}callOnOpen(){this.wrappedOnOpen()}callOnClose(e){this.wrappedOnClose(e)}callOnMessage(e){this.wrappedOnMessage(e)}}let dE=null;function d_(){const e=0x10000000;const t=0x90000000;const n=t-e;const r=Math.round(n*Math.random());return e+r}function dS(){if(dE===null){dE=d_()}else{dE++}return"0x"+dE.toString(16)}function dT(e){return new Promise((t,n)=>{e((e,r)=>{if(e){n(e)}else{t(r)}})})}const dC="1.9.15";const dI="GrpcConnection";const dR=`gl-node/${process.versions.node} fire/${b} grpc/${dC}`;function dO(e,t,n,r){x(t===null||t.type==="OAuth",36936);const i=new h.OS;if(t){t.headers.forEach((e,t)=>i.set(t,e))}if(n){n.headers.forEach((e,t)=>i.set(t,e))}if(r){i.set("X-Firebase-GMPID",r)}i.set("X-Goog-Api-Client",dR);i.set("Google-Cloud-Resource-Prefix",e);i.set("x-goog-request-params",e);return i}class dA{get shouldResourcePathBeIncludedInRequest(){return true}constructor(e,t){this.databaseInfo=t;this.cachedStub=null;this.firestore=e["google"]["firestore"]["v1"];this.databasePath=`projects/${t.databaseId.projectId}/databases/${t.databaseId.database}`}ensureActiveStub(){if(!this.cachedStub){C(dI,"Creating Firestore stub.");const e=this.databaseInfo.ssl?h.z3.createSsl():h.z3.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,e)}return this.cachedStub}invokeRPC(e,t,n,r,i){const s=dS();const o=this.ensureActiveStub();const a=dO(this.databasePath,r,i,this.databaseInfo.appId);const c=Object.assign({database:this.databasePath},n);return dT(t=>{C(dI,`RPC '${e}' ${s} invoked with request:`,n);return o[e](c,a,(n,r)=>{if(n){C(dI,`RPC '${e}' ${s} failed with error:`,n);t(new M(sX(n.code),n.message))}else{C(dI,`RPC '${e}' ${s} completed with response:`,r);t(undefined,r)}})})}invokeStreamingRPC(e,t,n,r,i,s){const o=dS();const a=[];const c=new L;C(dI,`RPC '${e}' ${o} invoked (streaming) with request:`,n);const l=this.ensureActiveStub();const u=dO(this.databasePath,r,i,this.databaseInfo.appId);const d=Object.assign(Object.assign({},n),{database:this.databasePath});const f=l[e](d,u);let h=false;f.on("data",t=>{C(dI,`RPC ${e} ${o} received result:`,t);a.push(t);if(s!==undefined&&a.length===s){h=true;c.resolve(a)}});f.on("end",()=>{C(dI,`RPC '${e}' ${o} completed.`);if(!h){h=true;c.resolve(a)}});f.on("error",t=>{C(dI,`RPC '${e}' ${o} failed with error:`,t);const n=sX(t.code);c.reject(new M(n,t.message))});return c.promise}openStream(e,t,n){const r=dS();const i=this.ensureActiveStub();const s=dO(this.databasePath,t,n,this.databaseInfo.appId);const o=i[e](s);let a=false;const c=e=>{if(!a){a=true;l.callOnClose(e);o.end()}};const l=new dw({sendFn:t=>{if(!a){C(dI,`RPC '${e}' stream ${r} sending:`,t);try{o.write(t)}catch(e){I("Failure sending:",t);I("Error:",e);throw e}}else{C(dI,`RPC '${e}' stream ${r} `+"not sending because gRPC stream is closed:",t)}},closeFn:()=>{C(dI,`RPC '${e}' stream ${r} closed locally via close().`);c()}});let u=false;o.on("data",t=>{if(!a){C(dI,`RPC '${e}' stream ${r} received:`,t);if(!u){l.callOnConnected();u=true}l.callOnMessage(t)}});o.on("end",()=>{C(dI,`RPC '${e}' stream ${r} ended.`);c()});o.on("error",t=>{if(!a){R(dI,`RPC '${e}' stream ${r} error. Code:`,t.code,"Message:",t.message);const n=sX(t.code);c(new M(n,t.message))}});C(dI,`Opening RPC '${e}' stream ${r} `+`to ${this.databaseInfo.host}`);setTimeout(()=>{l.callOnOpen()},0);return l}terminate(){if(this.cachedStub){this.cachedStub.close();this.cachedStub=undefined}}}const dk={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:true,objc_class_prefix:"GPB",cc_enable_arenas:true,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},"package":{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:false}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:false}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:true}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{"default":"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{"default":"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{"default":"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:true,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{"delete":"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:true,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:true,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:true,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:true,responseType:"WriteResponse",responseStream:true,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:true,responseType:"ListenResponse",responseStream:true,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},"delete":{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:true,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:true},nested:{http:{type:"HttpRule",id:0x44f2530,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},"delete":{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:true,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:true,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:true,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:true,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}};var dx={nested:dk};var dP=Object.freeze({__proto__:null,nested:dk,"default":dx});const dN={longs:String,enums:String,defaults:true,oneofs:false};function dD(){const e=p.rS(dP,dN);return h.ex(e)}function dM(e){const t=dD();return new dA(t,e)}function dL(){return new db}function dj(){if(process.env.USE_MOCK_PERSISTENCE==="YES"){return window}return null}function dF(){return null}function dB(e){return new od(e,false)}const dU="ExponentialBackoff";const dV=1e3;const dz=1.5;const dq=60*1e3;class d${constructor(e,t,n=dV,r=dz,i=dq){this.queue=e;this.timerId=t;this.initialDelayMs=n;this.backoffFactor=r;this.maxDelayMs=i;this.currentBaseMs=0;this.timerPromise=null;this.lastAttemptTime=Date.now();this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(e){this.cancel();const t=Math.floor(this.currentBaseMs+this.jitterDelayMs());const n=Math.max(0,Date.now()-this.lastAttemptTime);const r=Math.max(0,t-n);if(r>0){C(dU,`Backing off for ${r} ms `+`(base delay: ${this.currentBaseMs} ms, `+`delay with jitter: ${t} ms, `+`last attempt: ${n} ms ago)`)}this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,r,()=>{this.lastAttemptTime=Date.now();return e()});this.currentBaseMs*=this.backoffFactor;if(this.currentBaseMs<this.initialDelayMs){this.currentBaseMs=this.initialDelayMs}if(this.currentBaseMs>this.maxDelayMs){this.currentBaseMs=this.maxDelayMs}}skipBackoff(){if(this.timerPromise!==null){this.timerPromise.skipDelay();this.timerPromise=null}}cancel(){if(this.timerPromise!==null){this.timerPromise.cancel();this.timerPromise=null}}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}}const dG="PersistentStream";const dW=60*1e3;const dH=10*1e3;class dK{constructor(e,t,n,r,i,s,o,a){this.queue=e;this.idleTimerId=n;this.healthTimerId=r;this.connection=i;this.authCredentialsProvider=s;this.appCheckCredentialsProvider=o;this.listener=a;this.state=0;this.closeCount=0;this.idleTimer=null;this.healthCheck=null;this.stream=null;this.responseCount=0;this.backoff=new d$(e,t)}isStarted(){return this.state===1||this.state===5||this.isOpen()}isOpen(){return this.state===2||this.state===3}start(){this.responseCount=0;if(this.state===4){this.performBackoff();return}this.auth()}async stop(){if(this.isStarted()){await this.close(0)}}inhibitBackoff(){this.state=0;this.backoff.reset()}markIdle(){if(this.isOpen()&&this.idleTimer===null){this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,dW,()=>this.handleIdleCloseTimer())}}sendRequest(e){this.cancelIdleCheck();this.stream.send(e)}async handleIdleCloseTimer(){if(this.isOpen()){return this.close(0)}}cancelIdleCheck(){if(this.idleTimer){this.idleTimer.cancel();this.idleTimer=null}}cancelHealthCheck(){if(this.healthCheck){this.healthCheck.cancel();this.healthCheck=null}}async close(e,t){this.cancelIdleCheck();this.cancelHealthCheck();this.backoff.cancel();this.closeCount++;if(e!==4){this.backoff.reset()}else if(t&&t.code===D.RESOURCE_EXHAUSTED){I(t.toString());I("Using maximum backoff delay to prevent overloading the backend.");this.backoff.resetToMax()}else if(t&&t.code===D.UNAUTHENTICATED&&this.state!==3){this.authCredentialsProvider.invalidateToken();this.appCheckCredentialsProvider.invalidateToken()}if(this.stream!==null){this.tearDown();this.stream.close();this.stream=null}this.state=e;await this.listener.onClose(t)}tearDown(){}auth(){this.state=1;const e=this.getCloseGuardedDispatcher(this.closeCount);const t=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{if(this.closeCount===t){this.startStream(e,n)}},t=>{e(()=>{const e=new M(D.UNKNOWN,"Fetching auth token failed: "+t.message);return this.handleStreamClose(e)})})}startStream(e,t){const n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e,t);this.stream.onConnected(()=>{n(()=>this.listener.onConnected())});this.stream.onOpen(()=>{n(()=>{this.state=2;this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,dH,()=>{if(this.isOpen()){this.state=3}return Promise.resolve()});return this.listener.onOpen()})});this.stream.onClose(e=>{n(()=>{return this.handleStreamClose(e)})});this.stream.onMessage(e=>{n(()=>{if(++this.responseCount===1){return this.onFirst(e)}else{return this.onNext(e)}})})}performBackoff(){this.state=5;this.backoff.backoffAndRun(async()=>{this.state=0;this.start()})}handleStreamClose(e){C(dG,`close with error: ${e}`);this.stream=null;return this.close(4,e)}getCloseGuardedDispatcher(e){return t=>{this.queue.enqueueAndForget(()=>{if(this.closeCount===e){return t()}else{C(dG,"stream callback skipped by getCloseGuardedDispatcher.");return Promise.resolve()}})}}}class dQ extends dK{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s);this.serializer=i}startRpc(e,t){return this.connection.openStream("Listen",e,t)}onFirst(e){return this.onNext(e)}onNext(e){this.backoff.reset();const t=oj(this.serializer,e);const n=oB(e);return this.listener.onWatchChange(t,n)}watch(e){const t={};t.database=oO(this.serializer);t.addTarget=o2(this.serializer,e);const n=o0(this.serializer,e);if(n){t.labels=n}this.sendRequest(t)}unwatch(e){const t={};t.database=oO(this.serializer);t.removeTarget=e;this.sendRequest(t)}}class dY extends dK{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s);this.serializer=i}get handshakeComplete(){return this.responseCount>0}start(){this.lastStreamToken=undefined;super.start()}tearDown(){if(this.handshakeComplete){this.writeMutations([])}}startRpc(e,t){return this.connection.openStream("Write",e,t)}onFirst(e){x(!!e.streamToken,31322);this.lastStreamToken=e.streamToken;x(!e.writeResults||e.writeResults.length===0,55816);return this.listener.onHandshakeComplete()}onNext(e){x(!!e.streamToken,12678);this.lastStreamToken=e.streamToken;this.backoff.reset();const t=oG(e.writeResults,e.commitTime);const n=ow(e.commitTime);return this.listener.onMutationResult(n,t)}writeHandshake(){const e={};e.database=oO(this.serializer);this.sendRequest(e)}writeMutations(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>oU(this.serializer,e))};this.sendRequest(t)}}class dX{}class dJ extends dX{constructor(e,t,n,r){super();this.authCredentials=e;this.appCheckCredentials=t;this.connection=n;this.serializer=r;this.terminated=false}verifyInitialized(){if(this.terminated){throw new M(D.FAILED_PRECONDITION,"The client has already been terminated.")}}invokeRPC(e,t,n,r){this.verifyInitialized();return Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>{return this.connection.invokeRPC(e,o_(t,n),r,i,s)}).catch(e=>{if(e.name==="FirebaseError"){if(e.code===D.UNAUTHENTICATED){this.authCredentials.invalidateToken();this.appCheckCredentials.invalidateToken()}throw e}else{throw new M(D.UNKNOWN,e.toString())}})}invokeStreamingRPC(e,t,n,r,i){this.verifyInitialized();return Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>{return this.connection.invokeStreamingRPC(e,o_(t,n),r,s,o,i)}).catch(e=>{if(e.name==="FirebaseError"){if(e.code===D.UNAUTHENTICATED){this.authCredentials.invalidateToken();this.appCheckCredentials.invalidateToken()}throw e}else{throw new M(D.UNKNOWN,e.toString())}})}terminate(){this.terminated=true;this.connection.terminate()}}function dZ(e,t,n,r){return new dJ(e,t,n,r)}async function d0(e,t){const n=N(e);const r={writes:t.map(e=>oU(n.serializer,e))};await n.invokeRPC("Commit",n.serializer.databaseId,el.emptyPath(),r)}async function d1(e,t){const n=N(e);const r={documents:t.map(e=>oT(n.serializer,e))};const i=await n.invokeStreamingRPC("BatchGetDocuments",n.serializer.databaseId,el.emptyPath(),r,t.length);const s=new Map;i.forEach(e=>{const t=oL(n.serializer,e);s.set(t.key.toString(),t)});const o=[];t.forEach(e=>{const t=s.get(e.toString());x(!!t,55234,{key:e});o.push(t)});return o}async function d2(e,t,n){var r;const i=N(e);const{request:s,aliasMap:o,parent:a}=oX(i.serializer,iP(t),n);if(!i.connection.shouldResourcePathBeIncludedInRequest){delete s.parent}const c=await i.invokeStreamingRPC("RunAggregationQuery",i.serializer.databaseId,a,s,1);const l=c.filter(e=>!!e.result);x(l.length===1,64727);const u=(r=l[0].result)===null||r===void 0?void 0:r.aggregateFields;const d=Object.keys(u).reduce((e,t)=>{e[o[t]]=u[t];return e},{});return d}function d3(e,t,n){const r=N(e);r.verifyInitialized();return new dY(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}function d6(e,t,n){const r=N(e);r.verifyInitialized();return new dQ(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}const d4="OnlineStateTracker";const d5=1;const d8=10*1e3;class d7{constructor(e,t){this.asyncQueue=e;this.onlineStateHandler=t;this.state="Unknown";this.watchStreamFailures=0;this.onlineStateTimer=null;this.shouldWarnClientIsOffline=true}handleWatchStreamStart(){if(this.watchStreamFailures===0){this.setAndBroadcast("Unknown");this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",d8,()=>{this.onlineStateTimer=null;this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${d8/1e3} `+`seconds.`);this.setAndBroadcast("Offline");return Promise.resolve()})}}handleWatchStreamFailure(e){if(this.state==="Online"){this.setAndBroadcast("Unknown")}else{this.watchStreamFailures++;if(this.watchStreamFailures>=d5){this.clearOnlineStateTimer();this.logClientOfflineWarningIfNecessary(`Connection failed ${d5} `+`times. Most recent error: ${e.toString()}`);this.setAndBroadcast("Offline")}}}set(e){this.clearOnlineStateTimer();this.watchStreamFailures=0;if(e==="Online"){this.shouldWarnClientIsOffline=false}this.setAndBroadcast(e)}setAndBroadcast(e){if(e!==this.state){this.state=e;this.onlineStateHandler(e)}}logClientOfflineWarningIfNecessary(e){const t=`Could not reach Cloud Firestore backend. ${e}
`+`This typically indicates that your device does not have a healthy `+`Internet connection at the moment. The client will operate in offline `+`mode until it is able to successfully connect to the backend.`;if(this.shouldWarnClientIsOffline){I(t);this.shouldWarnClientIsOffline=false}else{C(d4,t)}}clearOnlineStateTimer(){if(this.onlineStateTimer!==null){this.onlineStateTimer.cancel();this.onlineStateTimer=null}}}const d9="RemoteStore";const fe=10;class ft{constructor(e,t,n,r,i){this.localStore=e;this.datastore=t;this.asyncQueue=n;this.remoteSyncer={};this.writePipeline=[];this.listenTargets=new Map;this.offlineCauses=new Set;this.onNetworkStatusChange=[];this.connectivityMonitor=i;this.connectivityMonitor.addCallback(e=>{n.enqueueAndForget(async()=>{if(fp(this)){C(d9,"Restarting streams for network reachability change.");await fD(this)}})});this.onlineStateTracker=new d7(n,r)}}function fn(e,t,n,r,i){return new ft(e,t,n,r,i)}function fr(e){const t=N(e);t.offlineCauses.delete(0);return fi(t)}async function fi(e){if(fp(e)){for(const t of e.onNetworkStatusChange){await t(true)}}}async function fs(e){const t=N(e);t.offlineCauses.add(0);await fo(t);t.onlineStateTracker.set("Offline")}async function fo(e){for(const t of e.onNetworkStatusChange){await t(false)}}async function fa(e){const t=N(e);C(d9,"RemoteStore shutting down.");t.offlineCauses.add(5);await fo(t);t.connectivityMonitor.shutdown();t.onlineStateTracker.set("Unknown")}function fc(e,t){const n=N(e);if(n.listenTargets.has(t.targetId)){return}n.listenTargets.set(t.targetId,t);if(fh(n)){ff(n)}else if(fj(n).isOpen()){fu(n,t)}}function fl(e,t){const n=N(e);const r=fj(n);n.listenTargets.delete(t);if(r.isOpen()){fd(n,t)}if(n.listenTargets.size===0){if(r.isOpen()){r.markIdle()}else if(fp(n)){n.onlineStateTracker.set("Unknown")}}}function fu(e,t){e.watchChangeAggregator.recordPendingTargetRequest(t.targetId);if(t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(eo.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fj(e).watch(t)}function fd(e,t){e.watchChangeAggregator.recordPendingTargetRequest(t);fj(e).unwatch(t)}function ff(e){e.watchChangeAggregator=new or({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),getTargetDataForTarget:t=>e.listenTargets.get(t)||null,getDatabaseId:()=>e.datastore.serializer.databaseId});fj(e).start();e.onlineStateTracker.handleWatchStreamStart()}function fh(e){return fp(e)&&!fj(e).isStarted()&&e.listenTargets.size>0}function fp(e){const t=N(e);return t.offlineCauses.size===0}function fm(e){e.watchChangeAggregator=undefined}async function fg(e){e.onlineStateTracker.set("Online")}async function fy(e){e.listenTargets.forEach((t,n)=>{fu(e,t)})}async function fv(e,t){fm(e);if(fh(e)){e.onlineStateTracker.handleWatchStreamFailure(t);ff(e)}else{e.onlineStateTracker.set("Unknown")}}async function fb(e,t,n){e.onlineStateTracker.set("Online");if(t instanceof oe&&t.state===2&&t.cause){try{await fS(e,t)}catch(n){C(d9,"Failed to remove targets %s: %s ",t.targetIds.join(","),n);await fw(e,n)}return}if(t instanceof s7){e.watchChangeAggregator.handleDocumentChange(t)}else if(t instanceof s9){e.watchChangeAggregator.handleExistenceFilter(t)}else{e.watchChangeAggregator.handleTargetChange(t)}if(!n.isEqual(eo.min())){try{const t=await uk(e.localStore);if(n.compareTo(t)>=0){await f_(e,n)}}catch(t){C(d9,"Failed to raise snapshot:",t);await fw(e,t)}}}async function fw(e,t,n){if(eB(t)){e.offlineCauses.add(1);await fo(e);e.onlineStateTracker.set("Offline");if(!n){n=()=>uk(e.localStore)}e.asyncQueue.enqueueRetryable(async()=>{C(d9,"Retrying IndexedDB access");await n();e.offlineCauses.delete(1);await fi(e)})}else{throw t}}function fE(e,t){return t().catch(n=>fw(e,n,t))}function f_(e,t){const n=e.watchChangeAggregator.createRemoteEvent(t);n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.listenTargets.get(r);if(i){e.listenTargets.set(r,i.withResumeToken(n.resumeToken,t))}}});n.targetMismatches.forEach((t,n)=>{const r=e.listenTargets.get(t);if(!r){return}e.listenTargets.set(t,r.withResumeToken(nS.EMPTY_BYTE_STRING,r.snapshotVersion));fd(e,t);const i=new aE(r.target,t,n,r.sequenceNumber);fu(e,i)});return e.remoteSyncer.applyRemoteEvent(n)}async function fS(e,t){const n=t.cause;for(const r of t.targetIds){if(e.listenTargets.has(r)){await e.remoteSyncer.rejectListen(r,n);e.listenTargets.delete(r);e.watchChangeAggregator.removeTarget(r)}}}async function fT(e){const t=N(e);const n=fF(t);let r=t.writePipeline.length>0?t.writePipeline[t.writePipeline.length-1].batchId:nz;while(fC(t)){try{const e=await uM(t.localStore,r);if(e===null){if(t.writePipeline.length===0){n.markIdle()}break}else{r=e.batchId;fI(t,e)}}catch(e){await fw(t,e)}}if(fR(t)){fO(t)}}function fC(e){return fp(e)&&e.writePipeline.length<fe}function fI(e,t){e.writePipeline.push(t);const n=fF(e);if(n.isOpen()&&n.handshakeComplete){n.writeMutations(t.mutations)}}function fR(e){return fp(e)&&!fF(e).isStarted()&&e.writePipeline.length>0}function fO(e){fF(e).start()}async function fA(e){fF(e).writeHandshake()}async function fk(e){const t=fF(e);for(const n of e.writePipeline){t.writeMutations(n.mutations)}}async function fx(e,t,n){const r=e.writePipeline.shift();const i=sG.from(r,t,n);await fE(e,()=>e.remoteSyncer.applySuccessfulWrite(i));await fT(e)}async function fP(e,t){if(t&&fF(e).handshakeComplete){await fN(e,t)}if(fR(e)){fO(e)}}async function fN(e,t){if(sY(t.code)){const n=e.writePipeline.shift();fF(e).inhibitBackoff();await fE(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t));await fT(e)}}async function fD(e){const t=N(e);t.offlineCauses.add(4);await fo(t);t.onlineStateTracker.set("Unknown");t.offlineCauses.delete(4);await fi(t)}async function fM(e,t){const n=N(e);n.asyncQueue.verifyOperationInProgress();C(d9,"RemoteStore received new credentials");const r=fp(n);n.offlineCauses.add(3);await fo(n);if(r){n.onlineStateTracker.set("Unknown")}await n.remoteSyncer.handleCredentialChange(t);n.offlineCauses.delete(3);await fi(n)}async function fL(e,t){const n=N(e);if(t){n.offlineCauses.delete(2);await fi(n)}else if(!t){n.offlineCauses.add(2);await fo(n);n.onlineStateTracker.set("Unknown")}}function fj(e){if(!e.watchStream){e.watchStream=d6(e.datastore,e.asyncQueue,{onConnected:fg.bind(null,e),onOpen:fy.bind(null,e),onClose:fv.bind(null,e),onWatchChange:fb.bind(null,e)});e.onNetworkStatusChange.push(async t=>{if(t){e.watchStream.inhibitBackoff();if(fh(e)){ff(e)}else{e.onlineStateTracker.set("Unknown")}}else{await e.watchStream.stop();fm(e)}})}return e.watchStream}function fF(e){if(!e.writeStream){e.writeStream=d3(e.datastore,e.asyncQueue,{onConnected:()=>Promise.resolve(),onOpen:fA.bind(null,e),onClose:fP.bind(null,e),onHandshakeComplete:fk.bind(null,e),onMutationResult:fx.bind(null,e)});e.onNetworkStatusChange.push(async t=>{if(t){e.writeStream.inhibitBackoff();await fT(e)}else{await e.writeStream.stop();if(e.writePipeline.length>0){C(d9,`Stopping write stream with ${e.writePipeline.length} pending writes`);e.writePipeline=[]}}})}return e.writeStream}const fB="AsyncQueue";class fU{constructor(e,t,n,r,i){this.asyncQueue=e;this.timerId=t;this.targetTimeMs=n;this.op=r;this.removalCallback=i;this.deferred=new L;this.then=this.deferred.promise.then.bind(this.deferred.promise);this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n;const o=new fU(e,t,s,r,i);o.start(n);return o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){if(this.timerHandle!==null){this.clearTimeout();this.deferred.reject(new M(D.CANCELLED,"Operation cancelled"+(e?": "+e:"")))}}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>{if(this.timerHandle!==null){this.clearTimeout();return this.op().then(e=>{return this.deferred.resolve(e)})}else{return Promise.resolve()}})}clearTimeout(){if(this.timerHandle!==null){this.removalCallback(this);clearTimeout(this.timerHandle);this.timerHandle=null}}}function fV(e,t){I(fB,`${t}: ${e}`);if(eB(e)){return new M(D.UNAVAILABLE,`${t}: ${e}`)}else{throw e}}class fz{static emptySet(e){return new fz(e.comparator)}constructor(e){if(e){this.comparator=(t,n)=>e(t,n)||ef.comparator(t.key,n.key)}else{this.comparator=(e,t)=>ef.comparator(e.key,t.key)}this.keyedMap=i0();this.sortedSet=new nd(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>{e(t);return false})}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);if(!t){return this}return this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t))}isEqual(e){if(!(e instanceof fz)){return false}if(this.size!==e.size){return false}const t=this.sortedSet.getIterator();const n=e.sortedSet.getIterator();while(t.hasNext()){const e=t.getNext().key;const r=n.getNext().key;if(!e.isEqual(r)){return false}}return true}toString(){const e=[];this.forEach(t=>{e.push(t.toString())});if(e.length===0){return"DocumentSet ()"}else{return"DocumentSet (\n  "+e.join("  \n")+"\n)"}}copy(e,t){const n=new fz;n.comparator=this.comparator;n.keyedMap=e;n.sortedSet=t;return n}}class fq{constructor(){this.changeMap=new nd(ef.comparator)}track(e){const t=e.doc.key;const n=this.changeMap.get(t);if(!n){this.changeMap=this.changeMap.insert(t,e);return}if(e.type!==0&&n.type===3){this.changeMap=this.changeMap.insert(t,e)}else if(e.type===3&&n.type!==1){this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc})}else if(e.type===2&&n.type===2){this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc})}else if(e.type===2&&n.type===0){this.changeMap=this.changeMap.insert(t,{type:0,doc:e.doc})}else if(e.type===1&&n.type===0){this.changeMap=this.changeMap.remove(t)}else if(e.type===1&&n.type===2){this.changeMap=this.changeMap.insert(t,{type:1,doc:n.doc})}else if(e.type===0&&n.type===1){this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc})}else{A(63341,{change:e,oldChange:n})}}getChanges(){const e=[];this.changeMap.inorderTraversal((t,n)=>{e.push(n)});return e}}class f${constructor(e,t,n,r,i,s,o,a,c){this.query=e;this.docs=t;this.oldDocs=n;this.docChanges=r;this.mutatedKeys=i;this.fromCache=s;this.syncStateChanged=o;this.excludesMetadataChanges=a;this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];t.forEach(e=>{s.push({type:0,doc:e})});return new f$(e,t,fz.emptySet(t),s,n,r,true,false,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(this.fromCache!==e.fromCache||this.hasCachedResults!==e.hasCachedResults||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!iB(this.query,e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs)){return false}const t=this.docChanges;const n=e.docChanges;if(t.length!==n.length){return false}for(let e=0;e<t.length;e++){if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc)){return false}}return true}}class fG{constructor(){this.viewSnap=undefined;this.listeners=[]}hasRemoteListeners(){return this.listeners.some(e=>e.listensToRemoteStore())}}function fW(){return new fH}class fH{constructor(){this.queries=fK();this.onlineState="Unknown";this.snapshotsInSyncListeners=new Set}terminate(){f2(this,new M(D.ABORTED,"Firestore shutting down"))}}function fK(){return new iY(e=>iU(e),iB)}async function fQ(e,t){const n=N(e);let r=3;const i=t.query;let s=n.queries.get(i);if(!s){s=new fG;r=t.listensToRemoteStore()?0:1}else if(!s.hasRemoteListeners()&&t.listensToRemoteStore()){r=2}try{switch(r){case 0:s.viewSnap=await n.onListen(i,true);break;case 1:s.viewSnap=await n.onListen(i,false);break;case 2:await n.onFirstRemoteStoreListen(i);break;default:break}}catch(n){const e=fV(n,`Initialization of query '${iV(t.query)}' failed`);t.onError(e);return}n.queries.set(i,s);s.listeners.push(t);t.applyOnlineStateChange(n.onlineState);if(s.viewSnap){const e=t.onViewSnapshot(s.viewSnap);if(e){f3(n)}}}async function fY(e,t){const n=N(e);const r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);if(e>=0){s.listeners.splice(e,1);if(s.listeners.length===0){i=t.listensToRemoteStore()?0:1}else if(!s.hasRemoteListeners()&&t.listensToRemoteStore()){i=2}}}switch(i){case 0:n.queries.delete(r);return n.onUnlisten(r,true);case 1:n.queries.delete(r);return n.onUnlisten(r,false);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fX(e,t){const n=N(e);let r=false;for(const e of t){const t=e.query;const i=n.queries.get(t);if(i){for(const t of i.listeners){if(t.onViewSnapshot(e)){r=true}}i.viewSnap=e}}if(r){f3(n)}}function fJ(e,t,n){const r=N(e);const i=r.queries.get(t);if(i){for(const e of i.listeners){e.onError(n)}}r.queries.delete(t)}function fZ(e,t){const n=N(e);n.onlineState=t;let r=false;n.queries.forEach((e,n)=>{for(const e of n.listeners){if(e.applyOnlineStateChange(t)){r=true}}});if(r){f3(n)}}function f0(e,t){const n=N(e);n.snapshotsInSyncListeners.add(t);t.next()}function f1(e,t){const n=N(e);n.snapshotsInSyncListeners.delete(t)}function f2(e,t){const n=N(e);const r=n.queries;n.queries=fK();r.forEach((e,n)=>{for(const e of n.listeners){e.onError(t)}})}function f3(e){e.snapshotsInSyncListeners.forEach(e=>{e.next()})}var f6;(function(e){e["Default"]="default";e["Cache"]="cache"})(f6||(f6={}));class f4{constructor(e,t,n){this.query=e;this.queryObserver=t;this.raisedInitialEvent=false;this.snap=null;this.onlineState="Unknown";this.options=n||{}}onViewSnapshot(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges){if(n.type!==3){t.push(n)}}e=new f$(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,true,e.hasCachedResults)}let t=false;if(!this.raisedInitialEvent){if(this.shouldRaiseInitialEvent(e,this.onlineState)){this.raiseInitialEvent(e);t=true}}else if(this.shouldRaiseEvent(e)){this.queryObserver.next(e);t=true}this.snap=e;return t}onError(e){this.queryObserver.error(e)}applyOnlineStateChange(e){this.onlineState=e;let t=false;if(this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)){this.raiseInitialEvent(this.snap);t=true}return t}shouldRaiseInitialEvent(e,t){if(!e.fromCache){return true}if(!this.listensToRemoteStore()){return true}const n=t!=="Offline";if(this.options.waitForSyncWhenOnline&&n){return false}return!e.docs.isEmpty()||e.hasCachedResults||t==="Offline"}shouldRaiseEvent(e){if(e.docChanges.length>0){return true}const t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;if(e.syncStateChanged||t){return this.options.includeMetadataChanges===true}return false}raiseInitialEvent(e){e=f$.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults);this.raisedInitialEvent=true;this.queryObserver.next(e)}listensToRemoteStore(){return this.options.source!==f6.Cache}}class f5{constructor(e,t,n,r){this.targetId=e;this.fromCache=t;this.addedKeys=n;this.removedKeys=r}static fromSnapshot(e,t){let n=i9();let r=i9();for(const e of t.docChanges){switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key);break}}return new f5(e,t.fromCache,n,r)}}class f8{constructor(e){this.serializer=e}toDocumentKey(e){return oC(this.serializer,e)}toMutableDocument(e){if(e.metadata.exists){return oN(this.serializer,e.document,false)}else{return rD.newNoDocument(this.toDocumentKey(e.metadata.name),this.toSnapshotVersion(e.metadata.readTime))}}toSnapshotVersion(e){return ow(e)}}class f7{constructor(e,t,n){this.bundleMetadata=e;this.localStore=t;this.serializer=n;this.queries=[];this.documents=[];this.collectionGroups=new Set;this.progress=f9(e)}addSizedElement(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery){this.queries.push(e.payload.namedQuery)}else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata});if(!e.payload.documentMetadata.exists){++t}const n=el.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else if(e.payload.document){this.documents[this.documents.length-1].document=e.payload.document;++t}if(t!==this.progress.documentsLoaded){this.progress.documentsLoaded=t;return Object.assign({},this.progress)}return null}getQueryDocumentMapping(e){const t=new Map;const n=new f8(this.serializer);for(const r of e){if(r.metadata.queries){const e=n.toDocumentKey(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||i9()).add(e);t.set(n,r)}}}return t}async complete(){const e=await uQ(this.localStore,new f8(this.serializer),this.documents,this.bundleMetadata.id);const t=this.getQueryDocumentMapping(this.documents);for(const e of this.queries){await uZ(this.localStore,e,t.get(e.name))}this.progress.taskState="Success";return{progress:this.progress,changedCollectionGroups:this.collectionGroups,changedDocs:e}}}function f9(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}function he(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class ht{constructor(e){this.key=e}}class hn{constructor(e){this.key=e}}class hr{constructor(e,t){this.query=e;this._syncedDocuments=t;this.syncState=null;this.hasCachedResults=false;this.current=false;this.limboDocuments=i9();this.mutatedKeys=i9();this.docComparator=iK(e);this.documentSet=new fz(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(e,t){const n=t?t.changeSet:new fq;const r=t?t.documentSet:this.documentSet;let i=t?t.mutatedKeys:this.mutatedKeys;let s=r;let o=false;const a=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null;const c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;e.inorderTraversal((e,t)=>{const l=r.get(e);const u=iz(this.query,t)?t:null;const d=l?this.mutatedKeys.has(l.key):false;const f=u?u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations:false;let h=false;if(l&&u){const e=l.data.isEqual(u.data);if(!e){if(!this.shouldWaitForSyncedDocument(l,u)){n.track({type:2,doc:u});h=true;if(a&&this.docComparator(u,a)>0||c&&this.docComparator(u,c)<0){o=true}}}else if(d!==f){n.track({type:3,doc:u});h=true}}else if(!l&&u){n.track({type:0,doc:u});h=true}else if(l&&!u){n.track({type:1,doc:l});h=true;if(a||c){o=true}}if(h){if(u){s=s.add(u);if(f){i=i.add(e)}else{i=i.delete(e)}}else{s=s.delete(e);i=i.delete(e)}}});if(this.query.limit!==null){while(s.size>this.query.limit){const e=this.query.limitType==="F"?s.last():s.first();s=s.delete(e.key);i=i.delete(e.key);n.track({type:1,doc:e})}}return{documentSet:s,changeSet:n,needsRefill:o,mutatedKeys:i}}shouldWaitForSyncedDocument(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.documentSet;this.documentSet=e.documentSet;this.mutatedKeys=e.mutatedKeys;const s=e.changeSet.getChanges();s.sort((e,t)=>{return hi(e.type,t.type)||this.docComparator(e.doc,t.doc)});this.applyTargetChange(n);r=r!==null&&r!==void 0?r:false;const o=t&&!r?this.updateLimboDocuments():[];const a=this.limboDocuments.size===0&&this.current&&!r;const c=a?1:0;const l=c!==this.syncState;this.syncState=c;if(s.length===0&&!l){return{limboChanges:o}}else{const t=new f$(this.query,e.documentSet,i,s,e.mutatedKeys,c===0,l,false,n?n.resumeToken.approximateByteSize()>0:false);return{snapshot:t,limboChanges:o}}}applyOnlineStateChange(e){if(this.current&&e==="Offline"){this.current=false;return this.applyChanges({documentSet:this.documentSet,changeSet:new fq,mutatedKeys:this.mutatedKeys,needsRefill:false},false)}else{return{limboChanges:[]}}}shouldBeInLimbo(e){if(this._syncedDocuments.has(e)){return false}if(!this.documentSet.has(e)){return false}if(this.documentSet.get(e).hasLocalMutations){return false}return true}applyTargetChange(e){if(e){e.addedDocuments.forEach(e=>this._syncedDocuments=this._syncedDocuments.add(e));e.modifiedDocuments.forEach(e=>{});e.removedDocuments.forEach(e=>this._syncedDocuments=this._syncedDocuments.delete(e));this.current=e.current}}updateLimboDocuments(){if(!this.current){return[]}const e=this.limboDocuments;this.limboDocuments=i9();this.documentSet.forEach(e=>{if(this.shouldBeInLimbo(e.key)){this.limboDocuments=this.limboDocuments.add(e.key)}});const t=[];e.forEach(e=>{if(!this.limboDocuments.has(e)){t.push(new hn(e))}});this.limboDocuments.forEach(n=>{if(!e.has(n)){t.push(new ht(n))}});return t}synchronizeWithPersistedState(e){this._syncedDocuments=e.remoteKeys;this.limboDocuments=i9();const t=this.computeDocChanges(e.documents);return this.applyChanges(t,true)}computeInitialSnapshot(){return f$.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===0,this.hasCachedResults)}}function hi(e,t){const n=e=>{switch(e){case 0:return 1;case 2:return 2;case 3:return 2;case 1:return 0;default:return A(20277,{change:e})}};return n(e)-n(t)}const hs="SyncEngine";class ho{constructor(e,t,n){this.query=e;this.targetId=t;this.view=n}}class ha{constructor(e){this.key=e;this.receivedDocument=false}}class hc{constructor(e,t,n,r,i,s){this.localStore=e;this.remoteStore=t;this.eventManager=n;this.sharedClientState=r;this.currentUser=i;this.maxConcurrentLimboResolutions=s;this.syncEngineListener={};this.queryViewsByQuery=new iY(e=>iU(e),iB);this.queriesByTarget=new Map;this.enqueuedLimboResolutions=new Set;this.activeLimboTargetsByKey=new nd(ef.comparator);this.activeLimboResolutionsByTarget=new Map;this.limboDocumentRefs=new lL;this.mutationUserCallbacks={};this.pendingWritesCallbacks=new Map;this.limboTargetIdGenerator=c7.forSyncEngine();this.onlineState="Unknown";this._isPrimaryClient=undefined}get isPrimaryClient(){return this._isPrimaryClient===true}}function hl(e,t,n,r,i,s,o){const a=new hc(e,t,n,r,i,s);if(o){a._isPrimaryClient=true}return a}async function hu(e,t,n=true){const r=hW(e);let i;const s=r.queryViewsByQuery.get(t);if(s){r.sharedClientState.addLocalQueryTarget(s.targetId);i=s.view.computeInitialSnapshot()}else{i=await hf(r,t,n,true)}return i}async function hd(e,t){const n=hW(e);await hf(n,t,true,false)}async function hf(e,t,n,r){const i=await uj(e.localStore,ix(t));const s=i.targetId;const o=e.sharedClientState.addLocalQueryTarget(s,n);let a;if(r){a=await hh(e,t,s,o==="current",i.resumeToken)}if(e.isPrimaryClient&&n){fc(e.remoteStore,i)}return a}async function hh(e,t,n,r,i){e.applyDocChanges=(t,n,r)=>hN(e,t,n,r);const s=await uU(e.localStore,t,true);const o=new hr(t,s.remoteKeys);const a=o.computeDocChanges(s.documents);const c=s8.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i);const l=o.applyChanges(a,e.isPrimaryClient,c);hA(e,n,l.limboChanges);const u=new ho(t,n,o);e.queryViewsByQuery.set(t,u);if(e.queriesByTarget.has(n)){e.queriesByTarget.get(n).push(t)}else{e.queriesByTarget.set(n,[t])}return l.snapshot}async function hp(e,t,n){const r=N(e);const i=r.queryViewsByQuery.get(t);const s=r.queriesByTarget.get(i.targetId);if(s.length>1){r.queriesByTarget.set(i.targetId,s.filter(e=>!iB(e,t)));r.queryViewsByQuery.delete(t);return}if(r.isPrimaryClient){r.sharedClientState.removeLocalQueryTarget(i.targetId);const e=r.sharedClientState.isActiveQueryTarget(i.targetId);if(!e){await uB(r.localStore,i.targetId,false).then(()=>{r.sharedClientState.clearQueryState(i.targetId);if(n){fl(r.remoteStore,i.targetId)}hR(r,i.targetId)}).catch(ek)}}else{hR(r,i.targetId);await uB(r.localStore,i.targetId,true)}}async function hm(e,t){const n=N(e);const r=n.queryViewsByQuery.get(t);const i=n.queriesByTarget.get(r.targetId);if(n.isPrimaryClient&&i.length===1){n.sharedClientState.removeLocalQueryTarget(r.targetId);fl(n.remoteStore,r.targetId)}}async function hg(e,t,n){const r=hH(e);try{const e=await uC(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId);hC(r,e.batchId,n);await hP(r,e.changes);await fT(r.remoteStore)}catch(t){const e=fV(t,`Failed to persist write`);n.reject(e)}}async function hy(e,t){const n=N(e);try{const e=await ux(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.activeLimboResolutionsByTarget.get(t);if(r){x(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616);if(e.addedDocuments.size>0){r.receivedDocument=true}else if(e.modifiedDocuments.size>0){x(r.receivedDocument,14607)}else if(e.removedDocuments.size>0){x(r.receivedDocument,42227);r.receivedDocument=false}else{}}});await hP(n,e,t)}catch(e){await ek(e)}}function hv(e,t,n){const r=N(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const e=[];r.queryViewsByQuery.forEach((n,r)=>{const i=r.view.applyOnlineStateChange(t);if(i.snapshot){e.push(i.snapshot)}});fZ(r.eventManager,t);if(e.length){r.syncEngineListener.onWatchChange(e)}r.onlineState=t;if(r.isPrimaryClient){r.sharedClientState.setOnlineState(t)}}}async function hb(e,t,n){const r=N(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.activeLimboResolutionsByTarget.get(t);const s=i&&i.key;if(s){let e=new nd(ef.comparator);e=e.insert(s,rD.newNoDocument(s,eo.min()));const n=i9().add(s);const i=new s5(eo.min(),new Map,new nd(X),e,n);await hy(r,i);r.activeLimboTargetsByKey=r.activeLimboTargetsByKey.remove(s);r.activeLimboResolutionsByTarget.delete(t);hx(r)}else{await uB(r.localStore,t,false).then(()=>hR(r,t,n)).catch(ek)}}async function hw(e,t){const n=N(e);const r=t.batch.batchId;try{const e=await uI(n.localStore,t);hI(n,r,null);hS(n,r);n.sharedClientState.updateMutationState(r,"acknowledged");await hP(n,e)}catch(e){await ek(e)}}async function hE(e,t,n){const r=N(e);try{const e=await uO(r.localStore,t);hI(r,t,n);hS(r,t);r.sharedClientState.updateMutationState(t,"rejected",n);await hP(r,e)}catch(e){await ek(e)}}async function h_(e,t){const n=N(e);if(!fp(n.remoteStore)){C(hs,"The network is disabled. The task returned by "+"'awaitPendingWrites()' will not complete until the network is enabled.")}try{const e=await uA(n.localStore);if(e===nz){t.resolve();return}const r=n.pendingWritesCallbacks.get(e)||[];r.push(t);n.pendingWritesCallbacks.set(e,r)}catch(n){const e=fV(n,"Initialization of waitForPendingWrites() operation failed");t.reject(e)}}function hS(e,t){(e.pendingWritesCallbacks.get(t)||[]).forEach(e=>{e.resolve()});e.pendingWritesCallbacks.delete(t)}function hT(e,t){e.pendingWritesCallbacks.forEach(e=>{e.forEach(e=>{e.reject(new M(D.CANCELLED,t))})});e.pendingWritesCallbacks.clear()}function hC(e,t,n){let r=e.mutationUserCallbacks[e.currentUser.toKey()];if(!r){r=new nd(X)}r=r.insert(t,n);e.mutationUserCallbacks[e.currentUser.toKey()]=r}function hI(e,t,n){const r=N(e);let i=r.mutationUserCallbacks[r.currentUser.toKey()];if(i){const e=i.get(t);if(e){if(n){e.reject(n)}else{e.resolve()}i=i.remove(t)}r.mutationUserCallbacks[r.currentUser.toKey()]=i}}function hR(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.queriesByTarget.get(t)){e.queryViewsByQuery.delete(r);if(n){e.syncEngineListener.onWatchError(r,n)}}e.queriesByTarget.delete(t);if(e.isPrimaryClient){const n=e.limboDocumentRefs.removeReferencesForId(t);n.forEach(t=>{const n=e.limboDocumentRefs.containsKey(t);if(!n){hO(e,t)}})}}function hO(e,t){e.enqueuedLimboResolutions.delete(t.path.canonicalString());const n=e.activeLimboTargetsByKey.get(t);if(n===null){return}fl(e.remoteStore,n);e.activeLimboTargetsByKey=e.activeLimboTargetsByKey.remove(t);e.activeLimboResolutionsByTarget.delete(n);hx(e)}function hA(e,t,n){for(const r of n){if(r instanceof ht){e.limboDocumentRefs.addReference(r.key,t);hk(e,r)}else if(r instanceof hn){C(hs,"Document no longer in limbo: "+r.key);e.limboDocumentRefs.removeReference(r.key,t);const n=e.limboDocumentRefs.containsKey(r.key);if(!n){hO(e,r.key)}}else{A(19791,{limboChange:r})}}}function hk(e,t){const n=t.key;const r=n.path.canonicalString();if(!e.activeLimboTargetsByKey.get(n)&&!e.enqueuedLimboResolutions.has(r)){C(hs,"New document in limbo: "+n);e.enqueuedLimboResolutions.add(r);hx(e)}}function hx(e){while(e.enqueuedLimboResolutions.size>0&&e.activeLimboTargetsByKey.size<e.maxConcurrentLimboResolutions){const t=e.enqueuedLimboResolutions.values().next().value;e.enqueuedLimboResolutions.delete(t);const n=new ef(el.fromString(t));const r=e.limboTargetIdGenerator.next();e.activeLimboResolutionsByTarget.set(r,new ha(n));e.activeLimboTargetsByKey=e.activeLimboTargetsByKey.insert(n,r);fc(e.remoteStore,new aE(ix(iS(n.path)),r,"TargetPurposeLimboResolution",eY.INVALID))}}async function hP(e,t,n){const r=N(e);const i=[];const s=[];const o=[];if(r.queryViewsByQuery.isEmpty()){return}r.queryViewsByQuery.forEach((e,a)=>{o.push(r.applyDocChanges(a,t,n).then(e=>{var t;if(e||n){if(r.isPrimaryClient){const i=e?!e.fromCache:(t=n===null||n===void 0?void 0:n.targetChanges.get(a.targetId))===null||t===void 0?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}}if(!!e){i.push(e);const t=f5.fromSnapshot(a.targetId,e);s.push(t)}}))});await Promise.all(o);r.syncEngineListener.onWatchChange(i);await uD(r.localStore,s)}async function hN(e,t,n,r){let i=t.view.computeDocChanges(n);if(i.needsRefill){i=await uU(e.localStore,t.query,false).then(({documents:e})=>{return t.view.computeDocChanges(e,i)})}const s=r&&r.targetChanges.get(t.targetId);const o=r&&r.targetMismatches.get(t.targetId)!=null;const a=t.view.applyChanges(i,e.isPrimaryClient,s,o);hA(e,t.targetId,a.limboChanges);return a.snapshot}async function hD(e,t){const n=N(e);const r=!n.currentUser.isEqual(t);if(r){C(hs,"User change. New user:",t.toKey());const e=await uT(n.localStore,t);n.currentUser=t;hT(n,"'waitForPendingWrites' promise is rejected due to a user change.");n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds);await hP(n,e.affectedDocuments)}}function hM(e,t){const n=N(e);const r=n.activeLimboResolutionsByTarget.get(t);if(r&&r.receivedDocument){return i9().add(r.key)}else{let e=i9();const r=n.queriesByTarget.get(t);if(!r){return e}for(const t of r){const r=n.queryViewsByQuery.get(t);e=e.unionWith(r.view.syncedDocuments)}return e}}async function hL(e,t){const n=N(e);const r=await uU(n.localStore,t.query,true);const i=t.view.synchronizeWithPersistedState(r);if(n.isPrimaryClient){hA(n,t.targetId,i.limboChanges)}return i}async function hj(e,t){const n=N(e);return uW(n.localStore,t).then(e=>hP(n,e))}async function hF(e,t,n,r){const i=N(e);const s=await uz(i.localStore,t);if(s===null){C(hs,"Cannot apply mutation batch with id: "+t);return}if(n==="pending"){await fT(i.remoteStore)}else if(n==="acknowledged"||n==="rejected"){hI(i,t,r?r:null);hS(i,t);uq(i.localStore,t)}else{A(6720,`Unknown batchState`,{batchState:n})}await hP(i,s)}async function hB(e,t){const n=N(e);hW(n);hH(n);if(t===true&&n._isPrimaryClient!==true){const e=n.sharedClientState.getAllActiveQueryTargets();const t=await hV(n,e.toArray());n._isPrimaryClient=true;await fL(n.remoteStore,true);for(const e of t){fc(n.remoteStore,e)}}else if(t===false&&n._isPrimaryClient!==false){const e=[];let t=Promise.resolve();n.queriesByTarget.forEach((r,i)=>{if(n.sharedClientState.isLocalQueryTarget(i)){e.push(i)}else{t=t.then(()=>{hR(n,i);return uB(n.localStore,i,true)})}fl(n.remoteStore,i)});await t;await hV(n,e);hU(n);n._isPrimaryClient=false;await fL(n.remoteStore,false)}}function hU(e){const t=N(e);t.activeLimboResolutionsByTarget.forEach((e,n)=>{fl(t.remoteStore,n)});t.limboDocumentRefs.removeAllReferences();t.activeLimboResolutionsByTarget=new Map;t.activeLimboTargetsByKey=new nd(ef.comparator)}async function hV(e,t,n){const r=N(e);const i=[];const s=[];for(const e of t){let t;const n=r.queriesByTarget.get(e);if(n&&n.length!==0){t=await uj(r.localStore,ix(n[0]));for(const e of n){const t=r.queryViewsByQuery.get(e);const n=await hL(r,t);if(n.snapshot){s.push(n.snapshot)}}}else{const n=await uG(r.localStore,e);t=await uj(r.localStore,n);await hh(r,hz(n),e,false,t.resumeToken)}i.push(t)}r.syncEngineListener.onWatchChange(s);return i}function hz(e){return i_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function hq(e){const t=N(e);return u$(t.localStore)}async function h$(e,t,n,r){const i=N(e);if(i._isPrimaryClient){C(hs,"Ignoring unexpected query state notification.");return}const s=i.queriesByTarget.get(t);if(s&&s.length>0){switch(n){case"current":case"not-current":{const e=await uW(i.localStore,iH(s[0]));const r=s5.createSynthesizedRemoteEventForCurrentChange(t,n==="current",nS.EMPTY_BYTE_STRING);await hP(i,e,r);break}case"rejected":{await uB(i.localStore,t,true);hR(i,t,r);break}default:A(64155,n)}}}async function hG(e,t,n){const r=hW(e);if(!r._isPrimaryClient){return}for(const e of t){const t=r.queriesByTarget.has(e)&&r.sharedClientState.isActiveQueryTarget(e);if(t){C(hs,"Adding an already active target "+e);continue}const n=await uG(r.localStore,e);const i=await uj(r.localStore,n);await hh(r,hz(n),i.targetId,false,i.resumeToken);fc(r.remoteStore,i)}for(const e of n){if(!r.queriesByTarget.has(e)){continue}await uB(r.localStore,e,false).then(()=>{fl(r.remoteStore,e);hR(r,e)}).catch(ek)}}function hW(e){const t=N(e);t.remoteStore.remoteSyncer.applyRemoteEvent=hy.bind(null,t);t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hM.bind(null,t);t.remoteStore.remoteSyncer.rejectListen=hb.bind(null,t);t.syncEngineListener.onWatchChange=fX.bind(null,t.eventManager);t.syncEngineListener.onWatchError=fJ.bind(null,t.eventManager);return t}function hH(e){const t=N(e);t.remoteStore.remoteSyncer.applySuccessfulWrite=hw.bind(null,t);t.remoteStore.remoteSyncer.rejectFailedWrite=hE.bind(null,t);return t}function hK(e,t,n){const r=N(e);hQ(r,t,n).then(e=>{r.sharedClientState.notifyBundleLoaded(e)})}async function hQ(e,t,n){try{const r=await t.getMetadata();const i=await uY(e.localStore,r);if(i){await t.close();n._completeWith(he(r));return Promise.resolve(new Set)}n._updateProgress(f9(r));const s=new f7(r,e.localStore,t.serializer);let o=await t.nextElement();while(o){;const e=await s.addSizedElement(o);if(e){n._updateProgress(e)}o=await t.nextElement()}const a=await s.complete();await hP(e,a.changedDocs,undefined);await uX(e.localStore,r);n._completeWith(a.progress);return Promise.resolve(a.changedCollectionGroups)}catch(e){R(hs,`Loading bundle failed with ${e}`);n._failWith(e);return Promise.resolve(new Set)}}class hY{constructor(){this.kind="memory";this.synchronizeTabs=false}async initialize(e){this.serializer=dB(e.databaseInfo.databaseId);this.sharedClientState=this.createSharedClientState(e);this.persistence=this.createPersistence(e);await this.persistence.start();this.localStore=this.createLocalStore(e);this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore);this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return uS(this.persistence,new u5,e.initialUser,this.serializer)}createPersistence(e){return new lW(lK.factory,this.serializer)}createSharedClientState(e){return new dv}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0?void 0:e.stop();(t=this.indexBackfillerScheduler)===null||t===void 0?void 0:t.stop();this.sharedClientState.shutdown();await this.persistence.shutdown()}}hY.provider={build:()=>new hY};class hX extends hY{constructor(e){super();this.cacheSizeBytes=e}createGarbageCollectionScheduler(e,t){x(this.persistence.referenceDelegate instanceof lQ,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new lh(n,e.asyncQueue,t)}createPersistence(e){const t=this.cacheSizeBytes!==undefined?lo.withCacheSize(this.cacheSizeBytes):lo.DEFAULT;return new lW(e=>lQ.factory(e,t),this.serializer)}}class hJ extends hY{constructor(e,t,n){super();this.onlineComponentProvider=e;this.cacheSizeBytes=t;this.forceOwnership=n;this.kind="persistent";this.synchronizeTabs=false}async initialize(e){await super.initialize(e);await this.onlineComponentProvider.initialize(this,e);await hH(this.onlineComponentProvider.syncEngine);await fT(this.onlineComponentProvider.remoteStore);await this.persistence.setPrimaryStateListener(()=>{if(this.gcScheduler&&!this.gcScheduler.started){this.gcScheduler.start()}if(this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started){this.indexBackfillerScheduler.start()}return Promise.resolve()})}createLocalStore(e){return uS(this.persistence,new u5,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new lh(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new eQ(t,this.persistence);return new eK(e.asyncQueue,n)}createPersistence(e){const t=ug(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);const n=this.cacheSizeBytes!==undefined?lo.withCacheSize(this.cacheSizeBytes):lo.DEFAULT;return new uh(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,dj(),dF(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new dv}}class hZ extends hJ{constructor(e,t){super(e,t,false);this.onlineComponentProvider=e;this.cacheSizeBytes=t;this.synchronizeTabs=true}async initialize(e){await super.initialize(e);const t=this.onlineComponentProvider.syncEngine;if(this.sharedClientState instanceof dg){this.sharedClientState.syncEngine={applyBatchState:hF.bind(null,t),applyTargetState:h$.bind(null,t),applyActiveTargetsChange:hG.bind(null,t),getActiveClients:hq.bind(null,t),synchronizeWithChangedDocuments:hj.bind(null,t)};await this.sharedClientState.start()}await this.persistence.setPrimaryStateListener(async e=>{await hB(this.onlineComponentProvider.syncEngine,e);if(this.gcScheduler){if(e&&!this.gcScheduler.started){this.gcScheduler.start()}else if(!e){this.gcScheduler.stop()}}if(this.indexBackfillerScheduler){if(e&&!this.indexBackfillerScheduler.started){this.indexBackfillerScheduler.start()}else if(!e){this.indexBackfillerScheduler.stop()}}})}createSharedClientState(e){const t=dj();if(!dg.isAvailable(t)){throw new M(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.")}const n=ug(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dg(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class h0{async initialize(e,t){if(this.localStore){return}this.localStore=e.localStore;this.sharedClientState=e.sharedClientState;this.datastore=this.createDatastore(t);this.remoteStore=this.createRemoteStore(t);this.eventManager=this.createEventManager(t);this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs);this.sharedClientState.onlineStateHandler=e=>hv(this.syncEngine,e,1);this.remoteStore.remoteSyncer.handleCredentialChange=hD.bind(null,this.syncEngine);await fL(this.remoteStore,this.syncEngine.isPrimaryClient)}createEventManager(e){return fW()}createDatastore(e){const t=dB(e.databaseInfo.databaseId);const n=dM(e.databaseInfo);return dZ(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return fn(this.localStore,this.datastore,e.asyncQueue,e=>hv(this.syncEngine,e,0),dL())}createSyncEngine(e,t){return hl(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await fa(this.remoteStore);(e=this.datastore)===null||e===void 0?void 0:e.terminate();(t=this.eventManager)===null||t===void 0?void 0:t.terminate()}}h0.provider={build:()=>new h0};const h1=10240;function h2(e,t=h1){let n=0;const r={async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:false};n+=t;return r}return{done:true}},async cancel(){},releaseLock(){},closed:Promise.resolve()};return r}function h3(e,t,n){if(!n){throw new M(D.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}}function h6(e,t,n,r){if(t===true&&r===true){throw new M(D.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}}function h4(e){if(!ef.isDocumentKey(e)){throw new M(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}}function h5(e){if(ef.isDocumentKey(e)){throw new M(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}}function h8(e){return typeof e==="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function h7(e){if(e===undefined){return"undefined"}else if(e===null){return"null"}else if(typeof e==="string"){if(e.length>20){e=`${e.substring(0,20)}...`}return JSON.stringify(e)}else if(typeof e==="number"||typeof e==="boolean"){return""+e}else if(typeof e==="object"){if(e instanceof Array){return"an array"}else{const t=h9(e);if(t){return`a custom ${t} object`}else{return"an object"}}}else if(typeof e==="function"){return"a function"}else{return A(12329,{type:typeof e})}}function h9(e){if(e.constructor){return e.constructor.name}return null}function pe(e,t){if("_delegate"in e){e=e._delegate}if(!(e instanceof t)){if(t.name===e.constructor.name){throw new M(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a "+`reference from a different Firestore SDK?`)}else{const n=h7(e);throw new M(D.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function pt(e,t){if(t<=0){throw new M(D.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}}function pn(e,t){if(!(e instanceof Uint8Array)){throw new M(D.INVALID_ARGUMENT,`NodePlatform.toByteStreamReader expects source to be Uint8Array, got ${h7(e)}`)}return h2(e,t)}class pr{constructor(e){this.observer=e;this.muted=false}next(e){if(this.muted){return}if(this.observer.next){this.scheduleEvent(this.observer.next,e)}}error(e){if(this.muted){return}if(this.observer.error){this.scheduleEvent(this.observer.error,e)}else{I("Uncaught Error in snapshot listener:",e.toString())}}mute(){this.muted=true}scheduleEvent(e,t){setTimeout(()=>{if(!this.muted){e(t)}},0)}}class pi{constructor(e,t){this.payload=e;this.byteLength=t}isBundleMetadata(){return"metadata"in this.payload}}class ps{constructor(e,t){this.reader=e;this.serializer=t;this.metadata=new L;this.buffer=new Uint8Array;this.textDecoder=Q();this.nextElementImpl().then(e=>{if(e&&e.isBundleMetadata()){this.metadata.resolve(e.payload.metadata)}else{this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(e===null||e===void 0?void 0:e.payload)}`))}},e=>this.metadata.reject(e))}close(){return this.reader.cancel()}async getMetadata(){return this.metadata.promise}async nextElement(){await this.getMetadata();return this.nextElementImpl()}async nextElementImpl(){const e=await this.readLength();if(e===null){return null}const t=this.textDecoder.decode(e);const n=Number(t);if(isNaN(n)){this.raiseError(`length string (${t}) is not valid number`)}const r=await this.readJsonString(n);return new pi(JSON.parse(r),e.length+n)}indexOfOpenBracket(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async readLength(){while(this.indexOfOpenBracket()<0){const e=await this.pullMoreDataToBuffer();if(e){break}}if(this.buffer.length===0){return null}const e=this.indexOfOpenBracket();if(e<0){this.raiseError("Reached the end of bundle when a length string is expected.")}const t=this.buffer.slice(0,e);this.buffer=this.buffer.slice(e);return t}async readJsonString(e){while(this.buffer.length<e){const e=await this.pullMoreDataToBuffer();if(e){this.raiseError("Reached the end of bundle when more is expected.")}}const t=this.textDecoder.decode(this.buffer.slice(0,e));this.buffer=this.buffer.slice(e);return t}raiseError(e){this.reader.cancel();throw new Error(`Invalid bundle format: ${e}`)}async pullMoreDataToBuffer(){const e=await this.reader.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer);t.set(e.value,this.buffer.length);this.buffer=t}return e.done}}function po(e,t){return new ps(e,t)}class pa{constructor(e){this.datastore=e;this.readVersions=new Map;this.mutations=[];this.committed=false;this.lastTransactionError=null;this.writtenDocs=new Set}async lookup(e){this.ensureCommitNotCalled();if(this.mutations.length>0){this.lastTransactionError=new M(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");throw this.lastTransactionError}const t=await d1(this.datastore,e);t.forEach(e=>this.recordVersion(e));return t}set(e,t){this.write(t.toMutation(e,this.precondition(e)));this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new sU(e,this.precondition(e)));this.writtenDocs.add(e.toString())}async commit(){this.ensureCommitNotCalled();if(this.lastTransactionError){throw this.lastTransactionError}const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())});e.forEach((e,t)=>{const n=ef.fromPath(t);this.mutations.push(new sq(n,this.precondition(n)))});await d0(this.datastore,this.mutations);this.committed=true}recordVersion(e){let t;if(e.isFoundDocument()){t=e.version}else if(e.isNoDocument()){t=eo.min()}else{throw A(50498,{documentName:e.constructor.name})}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n)){throw new M(D.ABORTED,"Document version changed between two reads.")}}else{this.readVersions.set(e.key.toString(),t)}}precondition(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(eo.min())){return sS.exists(false)}else{return sS.updateTime(t)}}else{return sS.none()}}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(eo.min())){throw new M(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.")}return sS.updateTime(t)}else{return sS.exists(true)}}write(e){this.ensureCommitNotCalled();this.mutations.push(e)}ensureCommitNotCalled(){}}class pc{constructor(e,t,n,r,i){this.asyncQueue=e;this.datastore=t;this.options=n;this.updateFunction=r;this.deferred=i;this.attemptsRemaining=n.maxAttempts;this.backoff=new d$(this.asyncQueue,"transaction_retry")}run(){this.attemptsRemaining-=1;this.runWithBackOff()}runWithBackOff(){this.backoff.backoffAndRun(async()=>{const e=new pa(this.datastore);const t=this.tryRunUpdateFunction(e);if(t){t.then(t=>{this.asyncQueue.enqueueAndForget(()=>{return e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.handleTransactionError(e)})})}).catch(e=>{this.handleTransactionError(e)})}})}tryRunUpdateFunction(e){try{const t=this.updateFunction(e);if(nq(t)||!t.catch||!t.then){this.deferred.reject(Error("Transaction callback must return a Promise"));return null}return t}catch(e){this.deferred.reject(e);return null}}handleTransactionError(e){if(this.attemptsRemaining>0&&this.isRetryableTransactionError(e)){this.attemptsRemaining-=1;this.asyncQueue.enqueueAndForget(()=>{this.runWithBackOff();return Promise.resolve()})}else{this.deferred.reject(e)}}isRetryableTransactionError(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!sQ(t)}return false}}const pl="FirestoreClient";const pu=100;const pd=11;const pf=20;const ph=22;class pp{constructor(e,t,n,r,i){this.authCredentials=e;this.appCheckCredentials=t;this.asyncQueue=n;this.databaseInfo=r;this.user=y.UNAUTHENTICATED;this.clientId=Y.newId();this.authCredentialListener=()=>Promise.resolve();this.appCheckCredentialListener=()=>Promise.resolve();this._uninitializedComponentsProvider=i;this.authCredentials.start(n,async e=>{C(pl,"Received user=",e.uid);await this.authCredentialListener(e);this.user=e});this.appCheckCredentials.start(n,e=>{C(pl,"Received new app check token=",e);return this.appCheckCredentialListener(e,this.user)})}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:pu}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new L;this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{if(this._onlineComponents){await this._onlineComponents.terminate()}if(this._offlineComponents){await this._offlineComponents.terminate()}this.authCredentials.shutdown();this.appCheckCredentials.shutdown();e.resolve()}catch(n){const t=fV(n,`Failed to shutdown persistence`);e.reject(t)}});return e.promise}}async function pm(e,t){e.asyncQueue.verifyOperationInProgress();C(pl,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{if(!r.isEqual(e)){await uT(t.localStore,e);r=e}});t.persistence.setDatabaseDeletedListener(()=>e.terminate());e._offlineComponents=t}async function pg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await pv(e);C(pl,"Initializing OnlineComponentProvider");await t.initialize(n,e.configuration);e.setCredentialChangeListener(e=>fM(t.remoteStore,e));e.setAppCheckTokenChangeListener((e,n)=>fM(t.remoteStore,n));e._onlineComponents=t}function py(e){if(e.name==="FirebaseError"){return e.code===D.FAILED_PRECONDITION||e.code===D.UNIMPLEMENTED}else if(typeof DOMException!=="undefined"&&e instanceof DOMException){return e.code===ph||e.code===pf||e.code===pd}return true}async function pv(e){if(!e._offlineComponents){if(e._uninitializedComponentsProvider){C(pl,"Using user provided OfflineComponentProvider");try{await pm(e,e._uninitializedComponentsProvider._offline)}catch(n){const t=n;if(!py(t)){throw t}R("Error using user provided cache. Falling back to "+"memory cache: "+t);await pm(e,new hY)}}else{C(pl,"Using default OfflineComponentProvider");await pm(e,new hX(undefined))}}return e._offlineComponents}async function pb(e){if(!e._onlineComponents){if(e._uninitializedComponentsProvider){C(pl,"Using user provided OnlineComponentProvider");await pg(e,e._uninitializedComponentsProvider._online)}else{C(pl,"Using default OnlineComponentProvider");await pg(e,new h0)}}return e._onlineComponents}function pw(e){return pv(e).then(e=>e.persistence)}function pE(e){return pv(e).then(e=>e.localStore)}function p_(e){return pb(e).then(e=>e.remoteStore)}function pS(e){return pb(e).then(e=>e.syncEngine)}function pT(e){return pb(e).then(e=>e.datastore)}async function pC(e){const t=await pb(e);const n=t.eventManager;n.onListen=hu.bind(null,t.syncEngine);n.onUnlisten=hp.bind(null,t.syncEngine);n.onFirstRemoteStoreListen=hd.bind(null,t.syncEngine);n.onLastRemoteStoreUnlisten=hm.bind(null,t.syncEngine);return n}function pI(e){return e.asyncQueue.enqueue(async()=>{const t=await pw(e);const n=await p_(e);t.setNetworkEnabled(true);return fr(n)})}function pR(e){return e.asyncQueue.enqueue(async()=>{const t=await pw(e);const n=await p_(e);t.setNetworkEnabled(false);return fs(n)})}function pO(e){const t=new L;e.asyncQueue.enqueueAndForget(async()=>{const n=await pS(e);return h_(n,t)});return t.promise}function pA(e,t,n,r){const i=new pr(r);const s=new f4(t,i,n);e.asyncQueue.enqueueAndForget(async()=>{const t=await pC(e);return fQ(t,s)});return()=>{i.mute();e.asyncQueue.enqueueAndForget(async()=>{const t=await pC(e);return fY(t,s)})}}function pk(e,t){const n=new L;e.asyncQueue.enqueueAndForget(async()=>{const r=await pE(e);return pF(r,t,n)});return n.promise}function px(e,t,n={}){const r=new L;e.asyncQueue.enqueueAndForget(async()=>{const i=await pC(e);return pB(i,e.asyncQueue,t,n,r)});return r.promise}function pP(e,t){const n=new L;e.asyncQueue.enqueueAndForget(async()=>{const r=await pE(e);return pU(r,t,n)});return n.promise}function pN(e,t,n={}){const r=new L;e.asyncQueue.enqueueAndForget(async()=>{const i=await pC(e);return pV(i,e.asyncQueue,t,n,r)});return r.promise}function pD(e,t,n){const r=new L;e.asyncQueue.enqueueAndForget(async()=>{try{const i=await pT(e);r.resolve(d2(i,t,n))}catch(e){r.reject(e)}});return r.promise}function pM(e,t){const n=new L;e.asyncQueue.enqueueAndForget(async()=>{const r=await pS(e);return hg(r,t,n)});return n.promise}function pL(e,t){const n=new pr(t);e.asyncQueue.enqueueAndForget(async()=>{const t=await pC(e);return f0(t,n)});return()=>{n.mute();e.asyncQueue.enqueueAndForget(async()=>{const t=await pC(e);return f1(t,n)})}}function pj(e,t,n){const r=new L;e.asyncQueue.enqueueAndForget(async()=>{const i=await pT(e);new pc(e.asyncQueue,i,n,t,r).run()});return r.promise}async function pF(e,t,n){try{const r=await uL(e,t);if(r.isFoundDocument()){n.resolve(r)}else if(r.isNoDocument()){n.resolve(null)}else{n.reject(new M(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may "+"exist on the server. Run again without setting 'source' in "+"the GetOptions to attempt to retrieve the document from the "+"server.)"))}}catch(r){const e=fV(r,`Failed to get document '${t} from cache`);n.reject(e)}}function pB(e,t,n,r,i){const s=new pr({next:a=>{s.mute();t.enqueueAndForget(()=>fY(e,o));const c=a.docs.has(n);if(!c&&a.fromCache){i.reject(new M(D.UNAVAILABLE,"Failed to get document because the client is offline."))}else if(c&&a.fromCache&&r&&r.source==="server"){i.reject(new M(D.UNAVAILABLE,"Failed to get document from server. (However, this "+"document does exist in the local cache. Run again "+'without setting source to "server" to '+"retrieve the cached document.)"))}else{i.resolve(a)}},error:e=>i.reject(e)});const o=new f4(iS(n.path),s,{includeMetadataChanges:true,waitForSyncWhenOnline:true});return fQ(e,o)}async function pU(e,t,n){try{const r=await uU(e,t,true);const i=new hr(t,r.remoteKeys);const s=i.computeDocChanges(r.documents);const o=i.applyChanges(s,false);n.resolve(o.snapshot)}catch(r){const e=fV(r,`Failed to execute query '${t} against cache`);n.reject(e)}}function pV(e,t,n,r,i){const s=new pr({next:n=>{s.mute();t.enqueueAndForget(()=>fY(e,o));if(n.fromCache&&r.source==="server"){i.reject(new M(D.UNAVAILABLE,"Failed to get documents from server. (However, these "+"documents may exist in the local cache. Run again "+'without setting source to "server" to '+"retrieve the cached documents.)"))}else{i.resolve(n)}},error:e=>i.reject(e)});const o=new f4(n,s,{includeMetadataChanges:true,waitForSyncWhenOnline:true});return fQ(e,o)}function pz(e,t,n,r){const i=p$(n,dB(t));e.asyncQueue.enqueueAndForget(async()=>{hK(await pS(e),i,r)})}function pq(e,t){return e.asyncQueue.enqueue(async()=>uJ(await pE(e),t))}function p$(e,t){let n;if(typeof e==="string"){n=K().encode(e)}else{n=e}return po(pn(n),t)}function pG(e,t){return e.asyncQueue.enqueue(async()=>{return u0(await pE(e),t)})}function pW(e,t){return e.asyncQueue.enqueue(async()=>{return u1(await pE(e),t)})}function pH(e){return e.asyncQueue.enqueue(async()=>{return u2(await pE(e))})}function pK(e,t){return e.timeoutSeconds===t.timeoutSeconds}function pQ(e){const t={};if(e.timeoutSeconds!==undefined){t.timeoutSeconds=e.timeoutSeconds}return t}const pY="ComponentProvider";const pX=new Map;function pJ(e){const t=pX.get(e);if(t){C(pY,"Removing Datastore");pX.delete(e);t.terminate()}}function pZ(e,t,n,r){return new nF(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,pQ(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}const p0="firestore.googleapis.com";const p1=true;const p2=5;const p3=30;const p6=true;class p4{constructor(e){var t,n;if(e.host===undefined){if(e.ssl!==undefined){throw new M(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set")}this.host=p0;this.ssl=p1}else{this.host=e.host;this.ssl=(t=e.ssl)!==null&&t!==void 0?t:p1}this.isUsingEmulator=e.emulatorOptions!==undefined;this.credentials=e.credentials;this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties;this.localCache=e.localCache;if(e.cacheSizeBytes===undefined){this.cacheSizeBytes=ls}else{if(e.cacheSizeBytes!==li&&e.cacheSizeBytes<lc){throw new M(D.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${lc}`)}else{this.cacheSizeBytes=e.cacheSizeBytes}}h6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling);this.experimentalForceLongPolling=!!e.experimentalForceLongPolling;if(this.experimentalForceLongPolling){this.experimentalAutoDetectLongPolling=false}else if(e.experimentalAutoDetectLongPolling===undefined){this.experimentalAutoDetectLongPolling=p6}else{this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling}this.experimentalLongPollingOptions=pQ((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{});p5(this.experimentalLongPollingOptions);this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&pK(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}function p5(e){if(e.timeoutSeconds!==undefined){if(isNaN(e.timeoutSeconds)){throw new M(D.INVALID_ARGUMENT,`invalid long polling timeout: `+`${e.timeoutSeconds} (must not be NaN)`)}if(e.timeoutSeconds<p2){throw new M(D.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} `+`(minimum allowed value is ${p2})`)}if(e.timeoutSeconds>p3){throw new M(D.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} `+`(maximum allowed value is ${p3})`)}}}class p8{constructor(e,t,n,r){this._authCredentials=e;this._appCheckCredentials=t;this._databaseId=n;this._app=r;this.type="firestore-lite";this._persistenceKey="(lite)";this._settings=new p4({});this._settingsFrozen=false;this._emulatorOptions={};this._terminateTask="notTerminated"}get app(){if(!this._app){throw new M(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is "+"not available")}return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen){throw new M(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer "+"be changed. You can only modify settings before calling any other "+"methods on a Firestore object.")}this._settings=new p4(e);this._emulatorOptions=e.emulatorOptions||{};if(e.credentials!==undefined){this._authCredentials=W(e.credentials)}}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){this._settingsFrozen=true;return this._settings}_delete(){if(this._terminateTask==="notTerminated"){this._terminateTask=this._terminate()}return this._terminateTask}async _restart(){if(this._terminateTask==="notTerminated"){await this._terminate()}else{this._terminateTask="notTerminated"}}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){pJ(this);return Promise.resolve()}}function p7(e,t,n,r={}){var i;e=pe(e,p8);const s=(0,a.zJ)(t);const o=e._getSettings();const c=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()});const l=`${t}:${n}`;if(s){void(0,a.gE)(`https://${l}`);(0,a.P1)("Firestore",true)}if(o.host!==p0&&o.host!==l){R("Host has been set in both settings() and connectFirestoreEmulator(), emulator host "+"will be used.")}const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if((0,a.bD)(u,c)){return}e._setSettings(u);if(r.mockUserToken){let t;let n;if(typeof r.mockUserToken==="string"){t=r.mockUserToken;n=y.MOCK_USER}else{t=(0,a.Fy)(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s){throw new M(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!")}n=new y(s)}e._authCredentials=new B(new j(t,n))}}class p9{constructor(e,t,n){this.converter=t;this._query=n;this.type="query";this.firestore=e}withConverter(e){return new p9(this.firestore,e,this._query)}}class me{constructor(e,t,n){this.converter=t;this._key=n;this.type="document";this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mt(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new me(this.firestore,e,this._key)}}class mt extends p9{constructor(e,t,n){super(e,t,iS(n));this._path=n;this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();if(e.isEmpty()){return null}else{return new me(this.firestore,null,new ef(e))}}withConverter(e){return new mt(this.firestore,e,this._path)}}function mn(e,t,...n){e=getModularInstance(e);h3("collection","path",t);if(e instanceof p8){const r=el.fromString(t,...n);h5(r);return new mt(e,null,r)}else{if(!(e instanceof me)&&!(e instanceof mt)){throw new M(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, "+"a DocumentReference or FirebaseFirestore")}const r=e._path.child(el.fromString(t,...n));h5(r);return new mt(e.firestore,null,r)}}function mr(e,t){e=pe(e,p8);h3("collectionGroup","collection id",t);if(t.indexOf("/")>=0){throw new M(D.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function `+`collectionGroup(). Collection IDs must not contain '/'.`)}return new p9(e,null,iR(t))}function mi(e,t,...n){e=getModularInstance(e);if(arguments.length===1){t=Y.newId()}h3("doc","path",t);if(e instanceof p8){const r=el.fromString(t,...n);h4(r);return new me(e,null,new ef(r))}else{if(!(e instanceof me)&&!(e instanceof mt)){throw new M(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, "+"a DocumentReference or FirebaseFirestore")}const r=e._path.child(el.fromString(t,...n));h4(r);return new me(e.firestore,e instanceof mt?e.converter:null,new ef(r))}}function ms(e,t){e=getModularInstance(e);t=getModularInstance(t);if((e instanceof me||e instanceof mt)&&(t instanceof me||t instanceof mt)){return e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}return false}function mo(e,t){e=getModularInstance(e);t=getModularInstance(t);if(e instanceof p9&&t instanceof p9){return e.firestore===t.firestore&&iB(e._query,t._query)&&e.converter===t.converter}return false}const ma="AsyncQueue";class mc{constructor(e=Promise.resolve()){this.retryableOps=[];this._isShuttingDown=false;this.delayedOperations=[];this.failure=null;this.operationInProgress=false;this.skipNonRestrictedTasks=false;this.timerIdsToSkip=[];this.backoff=new d$(this,"async_queue_retry");this.visibilityHandler=()=>{this.backoff.skipBackoff()};this.tail=e}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.verifyNotFailed();this.enqueueInternal(e)}enterRestrictedMode(e){if(!this._isShuttingDown){this._isShuttingDown=true;this.skipNonRestrictedTasks=e||false}}enqueue(e){this.verifyNotFailed();if(this._isShuttingDown){return new Promise(()=>{})}const t=new L;return this.enqueueInternal(()=>{if(this._isShuttingDown&&this.skipNonRestrictedTasks){return Promise.resolve()}e().then(t.resolve,t.reject);return t.promise}).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>{this.retryableOps.push(e);return this.retryNextOp()})}async retryNextOp(){if(this.retryableOps.length===0){return}try{await this.retryableOps[0]();this.retryableOps.shift();this.backoff.reset()}catch(e){if(eB(e)){C(ma,"Operation failed with retryable error: "+e)}else{throw e}}if(this.retryableOps.length>0){this.backoff.backoffAndRun(()=>this.retryNextOp())}}enqueueInternal(e){const t=this.tail.then(()=>{this.operationInProgress=true;return e().catch(e=>{this.failure=e;this.operationInProgress=false;const t=ml(e);I("INTERNAL UNHANDLED ERROR: ",t);throw e}).then(e=>{this.operationInProgress=false;return e})});this.tail=t;return t}enqueueAfterDelay(e,t,n){this.verifyNotFailed();if(this.timerIdsToSkip.indexOf(e)>-1){t=0}const r=fU.createAndSchedule(this,e,t,n,e=>this.removeDelayedOperation(e));this.delayedOperations.push(r);return r}verifyNotFailed(){if(this.failure){A(47125,{messageOrStack:ml(this.failure)})}}verifyOperationInProgress(){}async drain(){let e;do{e=this.tail;await e}while(e!==this.tail)}containsDelayedOperation(e){for(const t of this.delayedOperations){if(t.timerId===e){return true}}return false}runAllDelayedOperationsUntil(e){return this.drain().then(()=>{this.delayedOperations.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.delayedOperations){t.skipDelay();if(e!=="all"&&t.timerId===e){break}}return this.drain()})}skipDelaysForTimerId(e){this.timerIdsToSkip.push(e)}removeDelayedOperation(e){const t=this.delayedOperations.indexOf(e);this.delayedOperations.splice(t,1)}}function ml(e){let t=e.message||"";if(e.stack){if(e.stack.includes(e.message)){t=e.stack}else{t=e.message+"\n"+e.stack}}return t}class mu{constructor(){this._progressObserver={};this._taskCompletionResolver=new L;this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e);if(this._progressObserver.complete){this._progressObserver.complete()}this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error";if(this._progressObserver.next){this._progressObserver.next(this._lastProgress)}if(this._progressObserver.error){this._progressObserver.error(e)}this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e;if(this._progressObserver.next){this._progressObserver.next(e)}}}const md=null&&li;class mf extends p8{constructor(e,t,n,r){super(e,t,n,r);this.type="firestore";this._queue=new mc;this._persistenceKey=(r===null||r===void 0?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mc(e);this._firestoreClient=undefined;await e}}}function mh(e,t,n){if(!n){n=nB}const r=_getProvider(e,"firestore");if(r.isInitialized(n)){const e=r.getImmediate({identifier:n});const i=r.getOptions(n);if(deepEqual(i,t)){return e}else{throw new M(D.FAILED_PRECONDITION,"initializeFirestore() has already been called with "+"different options. To avoid this error, call initializeFirestore() with the "+"same options as when it was originally called, or call getFirestore() to return the"+" already initialized instance.")}}if(t.cacheSizeBytes!==undefined&&t.localCache!==undefined){throw new M(D.INVALID_ARGUMENT,`cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes will`+`be deprecated. Instead, specify the cache size in the cache object`)}if(t.cacheSizeBytes!==undefined&&t.cacheSizeBytes!==md&&t.cacheSizeBytes<lc){throw new M(D.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${lc}`)}if(t.host&&isCloudWorkstation(t.host)){void pingServer(t.host)}return r.initialize({options:t,instanceIdentifier:n})}function mp(e,t){const n=typeof e==="object"?e:(0,r.Sx)();const i=typeof e==="string"?e:t||nB;const s=(0,r.j6)(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const e=(0,a.yU)("firestore");if(e){p7(s,...e)}}return s}function mm(e){if(e._terminated){throw new M(D.FAILED_PRECONDITION,"The client has already been terminated.")}if(!e._firestoreClient){mg(e)}return e._firestoreClient}function mg(e){var t,n,r;const i=e._freezeSettings();const s=pZ(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);if(!e._componentsProvider){if(((n=i.localCache)===null||n===void 0?void 0:n._offlineComponentProvider)&&((r=i.localCache)===null||r===void 0?void 0:r._onlineComponentProvider)){e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}}}e._firestoreClient=new pp(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&my(e._componentsProvider))}function my(e){const t=e===null||e===void 0?void 0:e._online.build();return{_offline:e===null||e===void 0?void 0:e._offline.build(t),_online:t}}function mv(e,t){R("enableIndexedDbPersistence() will be deprecated in the future, "+"you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();mw(e,h0.provider,{build:e=>new hJ(e,n.cacheSizeBytes,t===null||t===void 0?void 0:t.forceOwnership)});return Promise.resolve()}async function mb(e){R("enableMultiTabIndexedDbPersistence() will be deprecated in the future, "+"you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();mw(e,h0.provider,{build:e=>new hZ(e,t.cacheSizeBytes)})}function mw(e,t,n){e=pe(e,mf);if(e._firestoreClient||e._terminated){throw new M(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be "+"enabled. You can only enable persistence before calling any other "+"methods on a Firestore object.")}if(e._componentsProvider||e._getSettings().localCache){throw new M(D.FAILED_PRECONDITION,"SDK cache is already specified.")}e._componentsProvider={_online:t,_offline:n};mg(e)}function mE(e){if(e._initialized&&!e._terminated){throw new M(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is "+"initialized or after it is terminated.")}const t=new L;e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await uy(ug(e._databaseId,e._persistenceKey));t.resolve()}catch(e){t.reject(e)}});return t.promise}function m_(e){e=pe(e,mf);const t=mm(e);return pO(t)}function mS(e){e=pe(e,mf);const t=mm(e);return pI(t)}function mT(e){e=pe(e,mf);const t=mm(e);return pR(t)}function mC(e){_removeServiceInstance(e.app,"firestore",e._databaseId.database);return e._delete()}function mI(e,t){e=pe(e,mf);const n=mm(e);const r=new mu;pz(n,e._databaseId,t,r);return r}function mR(e,t){e=pe(e,mf);const n=mm(e);return pq(n,t).then(t=>{if(!t){return null}return new p9(e,null,t.query)})}function mO(e,t=true){w(r.MF);(0,r.om)(new i.uA("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate();const s=new mf(new U(e.getProvider("auth-internal")),new $(i,e.getProvider("app-check-internal")),nV(i,n),i);r=Object.assign({useFetchStreams:t},r);s._setSettings(r);return s},"PUBLIC").setMultipleInstances(true));(0,r.KO)(m,g,e);(0,r.KO)(m,g,"esm2017")}class mA{constructor(e,t,n){this.alias=e;this.aggregateType=t;this.fieldPath=n}}class mk{constructor(e="count",t){this._internalFieldPath=t;this.type="AggregateField";this.aggregateType=e}}class mx{constructor(e,t,n){this._userDataWriter=t;this._data=n;this.type="AggregateQuerySnapshot";this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class mP{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mP(nS.fromBase64String(e))}catch(e){throw new M(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new mP(nS.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class mN{constructor(...e){for(let t=0;t<e.length;++t){if(e[t].length===0){throw new M(D.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). `+"Field names must not be empty.")}}this._internalPath=new ed(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function mD(){return new mN(ea)}class mM{constructor(e){this._methodName=e}}class mL{constructor(e,t){if(!isFinite(e)||e<-90||e>90){throw new M(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e)}if(!isFinite(t)||t<-180||t>180){throw new M(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t)}this._lat=e;this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return X(this._lat,e._lat)||X(this._long,e._long)}}class mj{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return ub(this._values,e._values)}}const mF=/^__.*__$/;class mB{constructor(e,t,n){this.data=e;this.fieldMask=t;this.fieldTransforms=n}toMutation(e,t){if(this.fieldMask!==null){return new sD(e,this.data,this.fieldMask,t,this.fieldTransforms)}else{return new sx(e,this.data,t,this.fieldTransforms)}}}class mU{constructor(e,t,n){this.data=e;this.fieldMask=t;this.fieldTransforms=n}toMutation(e,t){return new sD(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mV(e){switch(e){case 0:case 2:case 1:return true;case 3:case 4:return false;default:throw A(40011,{dataSource:e})}}class mz{constructor(e,t,n,r,i,s){this.settings=e;this.databaseId=t;this.serializer=n;this.ignoreUndefinedProperties=r;if(i===undefined){this.validatePath()}this.fieldTransforms=i||[];this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new mz(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e);const r=this.contextWith({path:n,arrayElement:false});r.validatePathSegment(e);return r}childContextForFieldPath(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e);const r=this.contextWith({path:n,arrayElement:false});r.validatePath();return r}childContextForArray(e){return this.contextWith({path:undefined,arrayElement:true})}createError(e){return gn(e,this.settings.methodName,this.settings.hasConverter||false,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==undefined||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==undefined}validatePath(){if(!this.path){return}for(let e=0;e<this.path.length;e++){this.validatePathSegment(this.path.get(e))}}validatePathSegment(e){if(e.length===0){throw this.createError("Document fields must not be empty")}if(mV(this.dataSource)&&mF.test(e)){throw this.createError('Document fields cannot begin and end with "__"')}}}class mq{constructor(e,t,n){this.databaseId=e;this.ignoreUndefinedProperties=t;this.serializer=n||dB(e)}createContext(e,t,n,r=false){return new mz({dataSource:e,methodName:t,targetDoc:n,path:ed.emptyPath(),arrayElement:false,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function m$(e){const t=e._freezeSettings();const n=dB(e._databaseId);return new mq(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mG(e,t,n,r,i,s={}){const o=e.createContext(s.merge||s.mergeFields?2:0,t,n,i);m7("Data must be an object, but it was:",o,r);const a=m2(r,o);let c;let l;if(s.merge){c=new nb(o.fieldMask);l=o.fieldTransforms}else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=m9(t,r,n);if(!o.contains(i)){throw new M(D.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`)}if(!gr(e,i)){e.push(i)}}c=new nb(e);l=o.fieldTransforms.filter(e=>c.covers(e.field))}else{c=null;l=o.fieldTransforms}return new mB(new rP(a),c,l)}class mW extends mM{_toFieldTransform(e){if(e.dataSource===2){e.fieldMask.push(e.path)}else if(e.dataSource===1){throw e.createError(`${this._methodName}() can only appear at the top level `+"of your update data")}else{throw e.createError(`${this._methodName}() cannot be used with set() unless you pass `+"{merge:true}")}return null}isEqual(e){return e instanceof mW}}function mH(e,t,n){return new mz({dataSource:3,targetDoc:t.settings.targetDoc,methodName:e._methodName,arrayElement:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class mK extends(null&&mM){_toFieldTransform(e){return new sb(e.path,new su)}isEqual(e){return e instanceof mK}}class mQ extends mM{constructor(e,t){super(e);this._elements=t}_toFieldTransform(e){const t=mH(this,e,true);const n=this._elements.map(e=>m1(e,t));const r=new sd(n);return new sb(e.path,r)}isEqual(e){return e instanceof mQ&&(0,a.bD)(this._elements,e._elements)}}class mY extends mM{constructor(e,t){super(e);this._elements=t}_toFieldTransform(e){const t=mH(this,e,true);const n=this._elements.map(e=>m1(e,t));const r=new sh(n);return new sb(e.path,r)}isEqual(e){return e instanceof mY&&(0,a.bD)(this._elements,e._elements)}}class mX extends mM{constructor(e,t){super(e);this._operand=t}_toFieldTransform(e){const t=new sm(e.serializer,si(e.serializer,this._operand));return new sb(e.path,t)}isEqual(e){return e instanceof mX&&this._operand===e._operand}}function mJ(e,t,n,r){const i=e.createContext(1,t,n);m7("Data must be an object, but it was:",i,r);const s=[];const o=rP.empty();nc(r,(e,r)=>{const c=gt(t,e,n);r=(0,a.Ku)(r);const l=i.childContextForFieldPath(c);if(r instanceof mW){s.push(c)}else{const e=m1(r,l);if(e!=null){s.push(c);o.set(c,e)}}});const c=new nb(s);return new mU(o,c,i.fieldTransforms)}function mZ(e,t,n,r,i,s){const o=e.createContext(1,t,n);const c=[m9(t,r,n)];const l=[i];if(s.length%2!==0){throw new M(D.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number `+"of arguments that alternate between field names and values.")}for(let e=0;e<s.length;e+=2){c.push(m9(t,s[e]));l.push(s[e+1])}const u=[];const d=rP.empty();for(let e=c.length-1;e>=0;--e){if(!gr(u,c[e])){const t=c[e];let n=l[e];n=(0,a.Ku)(n);const r=o.childContextForFieldPath(t);if(n instanceof mW){u.push(t)}else{const e=m1(n,r);if(e!=null){u.push(t);d.set(t,e)}}}}const f=new nb(u);return new mU(d,f,o.fieldTransforms)}function m0(e,t,n,r=false){const i=e.createContext(r?4:3,t);const s=m1(n,i);return s}function m1(e,t){e=(0,a.Ku)(e);if(m8(e)){m7("Unsupported field value:",t,e);return m2(e,t)}else if(e instanceof mM){m6(e,t);return null}else if(e===undefined&&t.ignoreUndefinedProperties){return null}else{if(t.path){t.fieldMask.push(t.path)}if(e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4){throw t.createError("Nested arrays are not supported")}return m3(e,t)}else{return m4(e,t)}}}function m2(e,t){const n={};if(nu(e)){if(t.path&&t.path.length>0){t.fieldMask.push(t.path)}}else{nc(e,(e,r)=>{const i=m1(r,t.childContextForField(e));if(i!=null){n[e]=i}})}return{mapValue:{fields:n}}}function m3(e,t){const n=[];let r=0;for(const i of e){let e=m1(i,t.childContextForArray(r));if(e==null){e={nullValue:"NULL_VALUE"}}n.push(e);r++}return{arrayValue:{values:n}}}function m6(e,t){if(!mV(t.dataSource)){throw t.createError(`${e._methodName}() can only be used with update() and set()`)}if(!t.path){throw t.createError(`${e._methodName}() is not currently supported inside arrays`)}const n=e._toFieldTransform(t);if(n){t.fieldTransforms.push(n)}}function m4(e,t){e=(0,a.Ku)(e);if(e===null){return{nullValue:"NULL_VALUE"}}else if(typeof e==="number"){return si(t.serializer,e)}else if(typeof e==="boolean"){return{booleanValue:e}}else if(typeof e==="string"){return{stringValue:e}}else if(e instanceof Date){const n=es.fromDate(e);return{timestampValue:om(t.serializer,n)}}else if(e instanceof es){const n=new es(e.seconds,Math.floor(e.nanoseconds/1e3)*1e3);return{timestampValue:om(t.serializer,n)}}else if(e instanceof mL){return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}}}else if(e instanceof mP){return{bytesValue:oy(t.serializer,e._byteString)}}else if(e instanceof me){const n=t.databaseId;const r=e.firestore._databaseId;if(!r.isEqual(n)){throw t.createError("Document reference is for database "+`${r.projectId}/${r.database} but should be `+`for database ${n.projectId}/${n.database}`)}return{referenceValue:oE(e.firestore._databaseId||t.databaseId,e._key.path)}}else if(e instanceof mj){return m5(e,t)}else{throw t.createError(`Unsupported field value: ${h7(e)}`)}}function m5(e,t){const n={fields:{[nW]:{stringValue:nQ},[nY]:{arrayValue:{values:e.toArray().map(e=>{if(typeof e!=="number"){throw t.createError("VectorValues must only contain numeric values.")}return sn(t.serializer,e)})}}}};return{mapValue:n}}function m8(e){return typeof e==="object"&&e!==null&&!(e instanceof Array)&&!(e instanceof Date)&&!(e instanceof es)&&!(e instanceof mL)&&!(e instanceof mP)&&!(e instanceof me)&&!(e instanceof mM)&&!(e instanceof mj)}function m7(e,t,n){if(!m8(n)||!h8(n)){const r=h7(n);if(r==="an object"){throw t.createError(e+" a custom object")}else{throw t.createError(e+" "+r)}}}function m9(e,t,n){t=(0,a.Ku)(t);if(t instanceof mN){return t._internalPath}else if(typeof t==="string"){return gt(e,t)}else{const t="Field path arguments must be of type string or ";throw gn(t,e,false,undefined,n)}}const ge=new RegExp("[~\\*/\\[\\]]");function gt(e,t,n){const r=t.search(ge);if(r>=0){throw gn(`Invalid field path (${t}). Paths must not contain `+`'~', '*', '/', '[', or ']'`,e,false,undefined,n)}try{return new mN(...t.split("."))._internalPath}catch(r){throw gn(`Invalid field path (${t}). Paths must not be empty, `+`begin with '.', end with '.', or contain '..'`,e,false,undefined,n)}}function gn(e,t,n,r,i){const s=r&&!r.isEmpty();const o=i!==undefined;let a=`Function ${t}() called with invalid data`;if(n){a+=" (via `toFirestore()`)"}a+=". ";let c="";if(s||o){c+=" (found";if(s){c+=` in field ${r}`}if(o){c+=` in document ${i}`}c+=")"}return new M(D.INVALID_ARGUMENT,a+e+c)}function gr(e,t){return e.some(e=>e.isEqual(t))}class gi{constructor(e,t,n,r,i){this._firestore=e;this._userDataWriter=t;this._key=n;this._document=r;this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(!this._document){return undefined}else if(this._converter){const e=new gs(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}else{return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(go("DocumentSnapshot.get",e));if(t!==null){return this._userDataWriter.convertValue(t)}}return undefined}}class gs extends gi{data(){return super.data()}}function go(e,t){if(typeof t==="string"){return gt(e,t)}else if(t instanceof mN){return t._internalPath}else{return t._delegate._internalPath}}function ga(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0){throw new M(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}}class gc{}class gl extends gc{}function gu(e,t,...n){let r=[];if(t instanceof gc){r.push(t)}r=r.concat(n);gB(r);for(const t of r){e=t._apply(e)}return e}class gd extends gl{constructor(e,t,n){super();this._field=e;this._op=t;this._value=n;this.type="where"}static _create(e,t,n){return new gd(e,t,n)}_apply(e){const t=this._parse(e);gM(e._query,t);return new p9(e.firestore,e.converter,iD(e._query,t))}_parse(e){const t=m$(e.firestore);const n=gO(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function gf(e,t,n){const r=t;const i=go("where",e);return gd._create(i,r,n)}class gh extends gc{constructor(e,t){super();this.type=e;this._queryConstraints=t}static _create(e,t){return new gh(e,t)}_parse(e){const t=this._queryConstraints.map(t=>{return t._parse(e)}).filter(e=>e.getFilters().length>0);if(t.length===1){return t[0]}return rH.create(t,this._getOperator())}_apply(e){const t=this._parse(e);if(t.getFilters().length===0){return e}gL(e._query,t);return new p9(e.firestore,e.converter,iD(e._query,t))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function gp(...e){e.forEach(e=>gF("or",e));return gh._create("or",e)}function gm(...e){e.forEach(e=>gF("and",e));return gh._create("and",e)}class gg extends gl{constructor(e,t){super();this._field=e;this._direction=t;this.type="orderBy"}static _create(e,t){return new gg(e,t)}_apply(e){const t=gA(e._query,this._field,this._direction);return new p9(e.firestore,e.converter,iM(e._query,t))}}function gy(e,t="asc"){const n=t;const r=go("orderBy",e);return gg._create(r,n)}class gv extends gl{constructor(e,t,n){super();this.type=e;this._limit=t;this._limitType=n}static _create(e,t,n){return new gv(e,t,n)}_apply(e){return new p9(e.firestore,e.converter,iL(e._query,this._limit,this._limitType))}}function gb(e){pt("limit",e);return gv._create("limit",e,"F")}function gw(e){pt("limitToLast",e);return gv._create("limitToLast",e,"L")}class gE extends gl{constructor(e,t,n){super();this.type=e;this._docOrFields=t;this._inclusive=n}static _create(e,t,n){return new gE(e,t,n)}_apply(e){const t=gR(e,this.type,this._docOrFields,this._inclusive);return new p9(e.firestore,e.converter,ij(e._query,t))}}function g_(...e){return gE._create("startAt",e,true)}function gS(...e){return gE._create("startAfter",e,false)}class gT extends gl{constructor(e,t,n){super();this.type=e;this._docOrFields=t;this._inclusive=n}static _create(e,t,n){return new gT(e,t,n)}_apply(e){const t=gR(e,this.type,this._docOrFields,this._inclusive);return new p9(e.firestore,e.converter,iF(e._query,t))}}function gC(...e){return gT._create("endBefore",e,false)}function gI(...e){return gT._create("endAt",e,true)}function gR(e,t,n,r){n[0]=(0,a.Ku)(n[0]);if(n[0]instanceof gi){return gk(e._query,e.firestore._databaseId,t,n[0]._document,r)}else{const i=m$(e.firestore);return gx(e._query,e.firestore._databaseId,i,t,n,r)}}function gO(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if(s==="array-contains"||s==="array-contains-any"){throw new M(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`)}else if(s==="in"||s==="not-in"){gN(o,s);const t=[];for(const n of o){t.push(gP(r,e,n))}a={arrayValue:{values:t}}}else{a=gP(r,e,o)}}else{if(s==="in"||s==="not-in"||s==="array-contains-any"){gN(o,s)}a=m0(n,t,o,s==="in"||s==="not-in")}const c=rW.create(i,s,a);return c}function gA(e,t,n){if(e.startAt!==null){throw new M(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before "+"calling orderBy().")}if(e.endAt!==null){throw new M(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before "+"calling orderBy().")}const r=new rV(t,n);return r}function gk(e,t,n,r,i){if(!r){throw new M(D.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for `+`${n}().`)}const s=[];for(const n of ik(e)){if(n.field.isKeyField()){s.push(rg(t,r.key))}else{const e=r.data.field(n.field);if(nD(e)){throw new M(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a "+'document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of '+"this field is unknown, you cannot start/end a query with it.)")}else if(e!==null){s.push(e)}else{const e=n.field.canonicalString();throw new M(D.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a `+`document for which the field '${e}' (used as the `+`orderBy) does not exist.`)}}}return new rL(s,i)}function gx(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length){throw new M(D.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). `+`The number of arguments must be less than or equal to the `+`number of orderBy() clauses`)}const a=[];for(let s=0;s<i.length;s++){const c=i[s];const l=o[s];if(l.field.isKeyField()){if(typeof c!=="string"){throw new M(D.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in `+`${r}(), but got a ${typeof c}`)}if(!iA(e)&&c.indexOf("/")!==-1){throw new M(D.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), `+`the value passed to ${r}() must be a plain document ID, but `+`'${c}' contains a slash.`)}const n=e.path.child(el.fromString(c));if(!ef.isDocumentKey(n)){throw new M(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by `+`documentId(), the value passed to ${r}() must result in a `+`valid document path, but '${n}' is not because it contains an odd number `+`of segments.`)}const i=new ef(n);a.push(rg(t,i))}else{const e=m0(n,r,c);a.push(e)}}return new rL(a,s)}function gP(e,t,n){n=(0,a.Ku)(n);if(typeof n==="string"){if(n===""){throw new M(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you "+"must provide a valid document ID, but it was an empty string.")}if(!iA(t)&&n.indexOf("/")!==-1){throw new M(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by `+`documentId(), you must provide a plain document ID, but `+`'${n}' contains a '/' character.`)}const r=t.path.child(el.fromString(n));if(!ef.isDocumentKey(r)){throw new M(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by `+`documentId(), the value provided must result in a valid document path, `+`but '${r}' is not because it has an odd number of segments (${r.length}).`)}return rg(e,new ef(r))}else if(n instanceof me){return rg(e,n._key)}else{throw new M(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid `+`string or a DocumentReference, but it was: `+`${h7(n)}.`)}}function gN(e,t){if(!Array.isArray(e)||e.length===0){throw new M(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for "+`'${t.toString()}' filters.`)}}function gD(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function gM(e,t){const n=gj(e.filters,gD(t.op));if(n!==null){if(n===t.op){throw new M(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one "+`'${t.op.toString()}' filter.`)}else{throw new M(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters `+`with '${n.toString()}' filters.`)}}}function gL(e,t){let n=e;const r=t.getFlattenedFilters();for(const e of r){gM(n,e);n=iD(n,e)}}function gj(e,t){for(const n of e){for(const e of n.getFlattenedFilters()){if(t.indexOf(e.op)>=0){return e.op}}}return null}function gF(e,t){if(!(t instanceof gd)&&!(t instanceof gh)){throw new M(D.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}}function gB(e){const t=e.filter(e=>e instanceof gh).length;const n=e.filter(e=>e instanceof gd).length;if(t>1||t>0&&n>0){throw new M(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use "+"more than one filter at the top level. Consider nesting the multiple "+"filters within an `and(...)` statement. For example: "+"change `query(query, where(...), or(...))` to "+"`query(query, and(where(...), or(...)))`.")}}class gU{convertValue(e,t="none"){switch(nJ(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nO(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nA(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw A(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};nc(e,(e,r)=>{n[e]=this.convertValue(r,t)});return n}convertVectorValue(e){var t,n,r;const i=(r=(n=(t=e.fields)===null||t===void 0?void 0:t[nY].arrayValue)===null||n===void 0?void 0:n.values)===null||r===void 0?void 0:r.map(e=>{return nO(e.doubleValue)});return new mj(i)}convertGeoPoint(e){return new mL(nO(e.latitude),nO(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=nL(e);if(n==null){return null}return this.convertValue(n,t);case"estimate":return this.convertTimestamp(nj(e));default:return null}}convertTimestamp(e){const t=nR(e);return new es(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=el.fromString(e);x(aw(n),9688,{name:e});const r=new nU(n.get(1),n.get(3));const i=new ef(n.popFirst(5));if(!r.isEqual(t)){I(`Document ${i} contains a document `+`reference within a different database (`+`${r.projectId}/${r.database}) which is not `+`supported. It will be treated as a reference in the current `+`database (${t.projectId}/${t.database}) `+`instead.`)}return i}}function gV(e,t,n){let r;if(e){if(n&&(n.merge||n.mergeFields)){r=e.toFirestore(t,n)}else{r=e.toFirestore(t)}}else{r=t}return r}class gz extends gU{constructor(e){super();this.firestore=e}convertBytes(e){return new mP(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new me(this.firestore,null,t)}}function gq(e){return new mk("sum",m9("sum",e))}function g$(e){return new mk("avg",m9("average",e))}function gG(){return new mk("count")}function gW(e,t){var n,r;return e instanceof mk&&t instanceof mk&&e.aggregateType===t.aggregateType&&((n=e._internalFieldPath)===null||n===void 0?void 0:n.canonicalString())===((r=t._internalFieldPath)===null||r===void 0?void 0:r.canonicalString())}function gH(e,t){return mo(e.query,t.query)&&deepEqual(e.data(),t.data())}function gK(e){return gQ(e,["next","error","complete"])}function gQ(e,t){if(typeof e!=="object"||e===null){return false}const n=e;for(const e of t){if(e in n&&typeof n[e]==="function"){return true}}return false}class gY{constructor(e,t){this.hasPendingWrites=e;this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gX extends gi{constructor(e,t,n,r,i,s){super(e,t,n,r,s);this._firestore=e;this._firestoreImpl=e;this.metadata=i}exists(){return super.exists()}data(e={}){if(!this._document){return undefined}else if(this._converter){const t=new gJ(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}else{return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(go("DocumentSnapshot.get",e));if(n!==null){return this._userDataWriter.convertValue(n,t.serverTimestamps)}}return undefined}}class gJ extends gX{data(e={}){return super.data(e)}}class gZ{constructor(e,t,n,r){this._firestore=e;this._userDataWriter=t;this._snapshot=r;this.metadata=new gY(r.hasPendingWrites,r.fromCache);this.query=n}get docs(){const e=[];this.forEach(t=>e.push(t));return e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new gJ(this._firestore,this._userDataWriter,n.key,n,new gY(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges){throw new M(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must "+"also pass { includeMetadataChanges:true } to onSnapshot().")}if(!this._cachedChanges||this._cachedChangesIncludeMetadataChanges!==t){this._cachedChanges=g0(this,t);this._cachedChangesIncludeMetadataChanges=t}return this._cachedChanges}}function g0(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new gJ(e._firestore,e._userDataWriter,n.doc.key,n.doc,new gY(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);n.doc;return{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}else{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||e.type!==3).map(t=>{const r=new gJ(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gY(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1;let s=-1;if(t.type!==0){i=n.indexOf(t.doc.key);n=n.delete(t.doc.key)}if(t.type!==1){n=n.add(t.doc);s=n.indexOf(t.doc.key)}return{type:g1(t.type),doc:r,oldIndex:i,newIndex:s}})}}function g1(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return A(61501,{type:e})}}function g2(e,t){if(e instanceof gX&&t instanceof gX){return e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter}else if(e instanceof gZ&&t instanceof gZ){return e._firestore===t._firestore&&mo(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}return false}function g3(e){e=pe(e,me);const t=pe(e.firestore,mf);const n=mm(t);return px(n,e._key).then(n=>ya(t,e,n))}class g6 extends gU{constructor(e){super();this.firestore=e}convertBytes(e){return new mP(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new me(this.firestore,null,t)}}function g4(e){e=pe(e,me);const t=pe(e.firestore,mf);const n=mm(t);const r=new g6(t);return pk(n,e._key).then(n=>new gX(t,r,e._key,n,new gY(n!==null&&n.hasLocalMutations,true),e.converter))}function g5(e){e=pe(e,me);const t=pe(e.firestore,mf);const n=mm(t);return px(n,e._key,{source:"server"}).then(n=>ya(t,e,n))}function g8(e){e=pe(e,p9);const t=pe(e.firestore,mf);const n=mm(t);const r=new g6(t);ga(e._query);return pN(n,e._query).then(n=>new gZ(t,r,e,n))}function g7(e){e=pe(e,p9);const t=pe(e.firestore,mf);const n=mm(t);const r=new g6(t);return pP(n,e._query).then(n=>new gZ(t,r,e,n))}function g9(e){e=pe(e,p9);const t=pe(e.firestore,mf);const n=mm(t);const r=new g6(t);return pN(n,e._query,{source:"server"}).then(n=>new gZ(t,r,e,n))}function ye(e,t,n){e=pe(e,me);const r=pe(e.firestore,mf);const i=gV(e.converter,t,n);const s=m$(r);const o=mG(s,"setDoc",e._key,i,e.converter!==null,n);const a=o.toMutation(e._key,sS.none());return yo(r,[a])}function yt(e,t,n,...r){e=pe(e,me);const i=pe(e.firestore,mf);const s=m$(i);t=getModularInstance(t);let o;if(typeof t==="string"||t instanceof mN){o=mZ(s,"updateDoc",e._key,t,n,r)}else{o=mJ(s,"updateDoc",e._key,t)}const a=o.toMutation(e._key,sS.exists(true));return yo(i,[a])}function yn(e){const t=pe(e.firestore,mf);const n=[new sU(e._key,sS.none())];return yo(t,n)}function yr(e,t){const n=pe(e.firestore,mf);const r=mi(e);const i=gV(e.converter,t);const s=m$(e.firestore);const o=mG(s,"addDoc",r._key,i,e.converter!==null,{});const a=o.toMutation(r._key,sS.exists(false));return yo(n,[a]).then(()=>r)}function yi(e,...t){var n,r,i;e=getModularInstance(e);let s={includeMetadataChanges:false,source:"default"};let o=0;if(typeof t[o]==="object"&&!gK(t[o])){s=t[o];o++}const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(gK(t[o])){const e=t[o];t[o]=(n=e.next)===null||n===void 0?void 0:n.bind(e);t[o+1]=(r=e.error)===null||r===void 0?void 0:r.bind(e);t[o+2]=(i=e.complete)===null||i===void 0?void 0:i.bind(e)}let c;let l;let u;if(e instanceof me){l=pe(e.firestore,mf);u=iS(e._key.path);c={next:n=>{if(t[o]){t[o](ya(l,e,n))}},error:t[o+1],complete:t[o+2]}}else{const n=pe(e,p9);l=pe(n.firestore,mf);u=n._query;const r=new g6(l);c={next:e=>{if(t[o]){t[o](new gZ(l,r,n,e))}},error:t[o+1],complete:t[o+2]};ga(e._query)}const d=mm(l);return pA(d,u,a,c)}function ys(e,t){e=pe(e,mf);const n=mm(e);const r=gK(t)?t:{next:t};return pL(n,r)}function yo(e,t){const n=mm(e);return pM(n,t)}function ya(e,t,n){const r=n.docs.get(t._key);const i=new g6(e);return new gX(e,i,t._key,r,new gY(n.hasPendingWrites,n.fromCache),t.converter)}function yc(e){const t={count:gG()};return yl(e,t)}function yl(e,t){const n=pe(e.firestore,mf);const r=mm(n);const i=nl(t,(e,t)=>{return new mA(t,e.aggregateType,e._internalFieldPath)});return pD(r,e._query,i).then(t=>yu(n,e,t))}function yu(e,t,n){const r=new g6(e);const i=new mx(t,r,n);return i}class yd{constructor(e){this.kind="memory";this._onlineComponentProvider=h0.provider;if(e===null||e===void 0?void 0:e.garbageCollector){this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider}else{this._offlineComponentProvider={build:()=>new hX(undefined)}}}toJSON(){return{kind:this.kind}}}class yf{constructor(e){this.kind="persistent";let t;if(e===null||e===void 0?void 0:e.tabManager){e.tabManager._initialize(e);t=e.tabManager}else{t=yE(undefined);t._initialize(e)}this._onlineComponentProvider=t._onlineComponentProvider;this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class yh{constructor(){this.kind="memoryEager";this._offlineComponentProvider=hY.provider}toJSON(){return{kind:this.kind}}}class yp{constructor(e){this.kind="memoryLru";this._offlineComponentProvider={build:()=>new hX(e)}}toJSON(){return{kind:this.kind}}}function ym(){return new yh}function yg(e){return new yp(e===null||e===void 0?void 0:e.cacheSizeBytes)}function yy(e){return new yd(e)}function yv(e){return new yf(e)}class yb{constructor(e){this.forceOwnership=e;this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=h0.provider;this._offlineComponentProvider={build:t=>new hJ(t,e===null||e===void 0?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class yw{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=h0.provider;this._offlineComponentProvider={build:t=>new hZ(t,e===null||e===void 0?void 0:e.cacheSizeBytes)}}}function yE(e){return new yb(e===null||e===void 0?void 0:e.forceOwnership)}function y_(){return new yw}const yS={maxAttempts:5};function yT(e){if(e.maxAttempts<1){throw new M(D.INVALID_ARGUMENT,"Max attempts must be at least 1")}}class yC{constructor(e,t){this._firestore=e;this._commitHandler=t;this._mutations=[];this._committed=false;this._dataReader=m$(e)}set(e,t,n){this._verifyNotCommitted();const r=yI(e,this._firestore);const i=gV(r.converter,t,n);const s=mG(this._dataReader,"WriteBatch.set",r._key,i,r.converter!==null,n);this._mutations.push(s.toMutation(r._key,sS.none()));return this}update(e,t,n,...r){this._verifyNotCommitted();const i=yI(e,this._firestore);t=getModularInstance(t);let s;if(typeof t==="string"||t instanceof mN){s=mZ(this._dataReader,"WriteBatch.update",i._key,t,n,r)}else{s=mJ(this._dataReader,"WriteBatch.update",i._key,t)}this._mutations.push(s.toMutation(i._key,sS.exists(true)));return this}delete(e){this._verifyNotCommitted();const t=yI(e,this._firestore);this._mutations=this._mutations.concat(new sU(t._key,sS.none()));return this}commit(){this._verifyNotCommitted();this._committed=true;if(this._mutations.length>0){return this._commitHandler(this._mutations)}return Promise.resolve()}_verifyNotCommitted(){if(this._committed){throw new M(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() "+"has been called.")}}}function yI(e,t){e=(0,a.Ku)(e);if(e.firestore!==t){throw new M(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.")}else{return e}}class yR{constructor(e,t){this._firestore=e;this._transaction=t;this._dataReader=m$(e)}get(e){const t=yI(e,this._firestore);const n=new gz(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||e.length!==1){return A(24041)}const r=e[0];if(r.isFoundDocument()){return new gi(this._firestore,n,r.key,r,t.converter)}else if(r.isNoDocument()){return new gi(this._firestore,n,t._key,null,t.converter)}else{throw A(18433,{doc:r})}})}set(e,t,n){const r=yI(e,this._firestore);const i=gV(r.converter,t,n);const s=mG(this._dataReader,"Transaction.set",r._key,i,r.converter!==null,n);this._transaction.set(r._key,s);return this}update(e,t,n,...r){const i=yI(e,this._firestore);t=(0,a.Ku)(t);let s;if(typeof t==="string"||t instanceof mN){s=mZ(this._dataReader,"Transaction.update",i._key,t,n,r)}else{s=mJ(this._dataReader,"Transaction.update",i._key,t)}this._transaction.update(i._key,s);return this}delete(e){const t=yI(e,this._firestore);this._transaction.delete(t._key);return this}}class yO extends yR{constructor(e,t){super(e,t);this._firestore=e}get(e){const t=yI(e,this._firestore);const n=new g6(this._firestore);return super.get(e).then(e=>new gX(this._firestore,n,t._key,e._document,new gY(false,false),t.converter))}}function yA(e,t,n){e=pe(e,mf);const r=Object.assign(Object.assign({},yS),n);yT(r);const i=mm(e);return pj(i,n=>t(new yO(e,n)),r)}function yk(){return new mW("deleteField")}function yx(){return new mK("serverTimestamp")}function yP(...e){return new mQ("arrayUnion",e)}function yN(...e){return new mY("arrayRemove",e)}function yD(e){return new mX("increment",e)}function yM(e){return new mj(e)}function yL(e){e=pe(e,mf);mm(e);return new yC(e,t=>yo(e,t))}function yj(e,t){e=pe(e,mf);const n=mm(e);if(!n._uninitializedComponentsProvider||n._uninitializedComponentsProvider._offline.kind==="memory"){R("Cannot enable indexes when persistence is disabled");return Promise.resolve()}const r=yF(t);return pG(n,r)}function yF(e){const t=typeof e==="string"?yB(e):e;const n=[];if(Array.isArray(t.indexes)){for(const e of t.indexes){const t=yU(e,"collectionGroup");const r=[];if(Array.isArray(e.fields)){for(const t of e.fields){const e=yU(t,"fieldPath");const n=gt("setIndexConfiguration",e);if(t.arrayConfig==="CONTAINS"){r.push(new eE(n,2))}else if(t.order==="ASCENDING"){r.push(new eE(n,0))}else if(t.order==="DESCENDING"){r.push(new eE(n,1))}}}n.push(new em(em.UNKNOWN_ID,t,r,eS.empty()))}}return n}function yB(e){try{return JSON.parse(e)}catch(e){throw new M(D.INVALID_ARGUMENT,"Failed to parse JSON: "+(e===null||e===void 0?void 0:e.message))}}function yU(e,t){if(typeof e[t]!=="string"){throw new M(D.INVALID_ARGUMENT,"Missing string value for: "+t)}return e[t]}class yV{constructor(e){this._firestore=e;this.type="PersistentCacheIndexManager"}}function yz(e){var t;e=pe(e,mf);const n=yH.get(e);if(n){return n}const r=mm(e);if(((t=r._uninitializedComponentsProvider)===null||t===void 0?void 0:t._offline.kind)!=="persistent"){return null}const i=new yV(e);yH.set(e,i);return i}function yq(e){yW(e,true)}function y$(e){yW(e,false)}function yG(e){const t=mm(e._firestore);const n=pH(t);n.then(e=>C("deleting all persistent cache indexes succeeded")).catch(e=>R("deleting all persistent cache indexes failed",e))}function yW(e,t){const n=mm(e._firestore);const r=pW(n,t);r.then(e=>C(`setting persistent cache index auto creation `+`isEnabled=${t} succeeded`)).catch(e=>R(`setting persistent cache index auto creation `+`isEnabled=${t} failed`,e))}const yH=new WeakMap;function yK(e){var t;const n=pe(e.firestore,mf);const r=mm(n);const i=(t=r._onlineComponents)===null||t===void 0?void 0:t.datastore.serializer;if(i===undefined){return null}return oY(i,ix(e._query)).queryTarget}function yQ(e,t){var n;const r=nl(t,(e,t)=>{return new mA(t,e.aggregateType,e._internalFieldPath)});const i=pe(e.firestore,mf);const s=mm(i);const o=(n=s._onlineComponents)===null||n===void 0?void 0:n.datastore.serializer;if(o===undefined){return null}return oX(o,iP(e._query),r,true).request}class yY{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return yX.instance.onExistenceFilterMismatch(e)}}class yX{constructor(){this.existenceFilterMismatchCallbacksById=new Map}static get instance(){if(!yJ){yJ=new yX;s0(yJ)}return yJ}notifyOnExistenceFilterMismatch(e){this.existenceFilterMismatchCallbacksById.forEach(t=>t(e))}onExistenceFilterMismatch(e){const t=Symbol();const n=this.existenceFilterMismatchCallbacksById;n.set(t,e);return()=>n.delete(t)}}let yJ=null;mO("node");},75539:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"InvariantError",{enumerable:true,get:function(){return n}});class n extends Error{constructor(e,t){super("Invariant: "+(e.endsWith(".")?e:e+".")+" This is a bug in Next.js.",t);this.name="InvariantError"}}},75677:(e,t,n)=>{"use strict";e.exports=s;var r=n(26996);(s.prototype=Object.create(r.prototype)).constructor=s;var i=n(8707);function s(e){r.call(this,e)}s._configure=function(){if(i.Buffer)s.prototype._slice=i.Buffer.prototype.slice};s.prototype.string=function e(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};s._configure()},76250:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.OutlierDetectionLoadBalancingConfig=t.BaseSubchannelWrapper=t.registerAdminService=t.FilterStackFactory=t.BaseFilter=t.PickResultType=t.QueuePicker=t.UnavailablePicker=t.ChildLoadBalancerHandler=t.subchannelAddressToString=t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.registerLoadBalancerType=t.createChildChannelControlHelper=t.BackoffTimeout=t.durationToMs=t.uriToString=t.createResolver=t.registerResolver=t.log=t.trace=void 0;var r=n(31359);Object.defineProperty(t,"trace",{enumerable:true,get:function(){return r.trace}});Object.defineProperty(t,"log",{enumerable:true,get:function(){return r.log}});var i=n(5674);Object.defineProperty(t,"registerResolver",{enumerable:true,get:function(){return i.registerResolver}});Object.defineProperty(t,"createResolver",{enumerable:true,get:function(){return i.createResolver}});var s=n(26786);Object.defineProperty(t,"uriToString",{enumerable:true,get:function(){return s.uriToString}});var o=n(80324);Object.defineProperty(t,"durationToMs",{enumerable:true,get:function(){return o.durationToMs}});var a=n(50268);Object.defineProperty(t,"BackoffTimeout",{enumerable:true,get:function(){return a.BackoffTimeout}});var c=n(86239);Object.defineProperty(t,"createChildChannelControlHelper",{enumerable:true,get:function(){return c.createChildChannelControlHelper}});Object.defineProperty(t,"registerLoadBalancerType",{enumerable:true,get:function(){return c.registerLoadBalancerType}});Object.defineProperty(t,"getFirstUsableConfig",{enumerable:true,get:function(){return c.getFirstUsableConfig}});Object.defineProperty(t,"validateLoadBalancingConfig",{enumerable:true,get:function(){return c.validateLoadBalancingConfig}});var l=n(43356);Object.defineProperty(t,"subchannelAddressToString",{enumerable:true,get:function(){return l.subchannelAddressToString}});var u=n(72309);Object.defineProperty(t,"ChildLoadBalancerHandler",{enumerable:true,get:function(){return u.ChildLoadBalancerHandler}});var d=n(72910);Object.defineProperty(t,"UnavailablePicker",{enumerable:true,get:function(){return d.UnavailablePicker}});Object.defineProperty(t,"QueuePicker",{enumerable:true,get:function(){return d.QueuePicker}});Object.defineProperty(t,"PickResultType",{enumerable:true,get:function(){return d.PickResultType}});var f=n(40962);Object.defineProperty(t,"BaseFilter",{enumerable:true,get:function(){return f.BaseFilter}});var h=n(54003);Object.defineProperty(t,"FilterStackFactory",{enumerable:true,get:function(){return h.FilterStackFactory}});var p=n(17061);Object.defineProperty(t,"registerAdminService",{enumerable:true,get:function(){return p.registerAdminService}});var m=n(4719);Object.defineProperty(t,"BaseSubchannelWrapper",{enumerable:true,get:function(){return m.BaseSubchannelWrapper}});var g=n(1532);Object.defineProperty(t,"OutlierDetectionLoadBalancingConfig",{enumerable:true,get:function(){return g.OutlierDetectionLoadBalancingConfig}})},76299:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"isPostpone",{enumerable:true,get:function(){return r}});const n=Symbol.for("react.postpone");function r(e){return typeof e==="object"&&e!==null&&e.$$typeof===n}},76631:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LoadBalancingCall=void 0;const r=n(18155);const i=n(71271);const s=n(26412);const o=n(86777);const a=n(72910);const c=n(26786);const l=n(31359);const u=n(73911);const d=n(73496);const f="load_balancing_call";class h{constructor(e,t,n,r,i,s,o){var a,l;this.channel=e;this.callConfig=t;this.methodName=n;this.host=r;this.credentials=i;this.deadline=s;this.callNumber=o;this.child=null;this.readPending=false;this.pendingMessage=null;this.pendingHalfClose=false;this.ended=false;this.metadata=null;this.listener=null;this.onCallEnded=null;const u=this.methodName.split("/");let d="";if(u.length>=2){d=u[1]}const f=(l=(a=(0,c.splitHostPort)(this.host))===null||a===void 0?void 0:a.host)!==null&&l!==void 0?l:"localhost";this.serviceUrl=`https://${f}/${d}`}trace(e){l.trace(i.LogVerbosity.DEBUG,f,"["+this.callNumber+"] "+e)}outputStatus(e,t){var n,r;if(!this.ended){this.ended=true;this.trace("ended with status: code="+e.code+' details="'+e.details+'"');const i=Object.assign(Object.assign({},e),{progress:t});(n=this.listener)===null||n===void 0?void 0:n.onReceiveStatus(i);(r=this.onCallEnded)===null||r===void 0?void 0:r.call(this,i.code)}}doPick(){var e,t;if(this.ended){return}if(!this.metadata){throw new Error("doPick called before start")}this.trace("Pick called");const n=this.channel.doPick(this.metadata,this.callConfig.pickInformation);const c=n.subchannel?"("+n.subchannel.getChannelzRef().id+") "+n.subchannel.getAddress():""+n.subchannel;this.trace("Pick result: "+a.PickResultType[n.pickResultType]+" subchannel: "+c+" status: "+((e=n.status)===null||e===void 0?void 0:e.code)+" "+((t=n.status)===null||t===void 0?void 0:t.details));switch(n.pickResultType){case a.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(e=>{var t,a,l;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}const u=this.metadata.clone();u.merge(e);if(u.get("authorization").length>1){this.outputStatus({code:i.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new o.Metadata},"PROCESSED")}if(n.subchannel.getConnectivityState()!==r.ConnectivityState.READY){this.trace("Picked subchannel "+c+" has state "+r.ConnectivityState[n.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick");this.doPick();return}if(this.deadline!==Infinity){u.set("grpc-timeout",(0,s.getDeadlineTimeoutString)(this.deadline))}try{this.child=n.subchannel.getRealSubchannel().createCall(u,this.host,this.methodName,{onReceiveMetadata:e=>{this.trace("Received metadata");this.listener.onReceiveMetadata(e)},onReceiveMessage:e=>{this.trace("Received message");this.listener.onReceiveMessage(e)},onReceiveStatus:e=>{this.trace("Received status");if(e.rstCode===d.constants.NGHTTP2_REFUSED_STREAM){this.outputStatus(e,"REFUSED")}else{this.outputStatus(e,"PROCESSED")}}})}catch(e){this.trace("Failed to start call on picked subchannel "+c+" with error "+e.message);this.outputStatus({code:i.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+e.message,metadata:new o.Metadata},"NOT_STARTED");return}(a=(t=this.callConfig).onCommitted)===null||a===void 0?void 0:a.call(t);(l=n.onCallStarted)===null||l===void 0?void 0:l.call(n);this.onCallEnded=n.onCallEnded;this.trace("Created child call ["+this.child.getCallNumber()+"]");if(this.readPending){this.child.startRead()}if(this.pendingMessage){this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message)}if(this.pendingHalfClose){this.child.halfClose()}},e=>{const{code:t,details:n}=(0,u.restrictControlPlaneStatusCode)(typeof e.code==="number"?e.code:i.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${e.message}`);this.outputStatus({code:t,details:n,metadata:new o.Metadata},"PROCESSED")});break;case a.PickResultType.DROP:const{code:l,details:f}=(0,u.restrictControlPlaneStatusCode)(n.status.code,n.status.details);setImmediate(()=>{this.outputStatus({code:l,details:f,metadata:n.status.metadata},"DROP")});break;case a.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady){this.channel.queueCallForPick(this)}else{const{code:e,details:t}=(0,u.restrictControlPlaneStatusCode)(n.status.code,n.status.details);setImmediate(()=>{this.outputStatus({code:e,details:t,metadata:n.status.metadata},"PROCESSED")})}break;case a.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var n;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"');(n=this.child)===null||n===void 0?void 0:n.cancelWithStatus(e,t);this.outputStatus({code:e,details:t,metadata:new o.Metadata},"PROCESSED")}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called");this.listener=t;this.metadata=e;this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);if(this.child){this.child.sendMessageWithContext(e,t)}else{this.pendingMessage={context:e,message:t}}}startRead(){this.trace("startRead called");if(this.child){this.child.startRead()}else{this.readPending=true}}halfClose(){this.trace("halfClose called");if(this.child){this.child.halfClose()}else{this.pendingHalfClose=true}}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}}t.LoadBalancingCall=h},76926:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:true,get:function(){return u}});const r=s(n(61120));function i(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var n=i(t);if(n&&n.has(e)){return n.get(e)}var r={__proto__:null};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;if(a&&(a.get||a.set)){Object.defineProperty(r,o,a)}else{r[o]=e[o]}}}r.default=e;if(n){n.set(e,r)}return r}const o={current:null};const a=typeof r.cache==="function"?r.cache:e=>e;const c=false?0:console.warn;const l=a(e=>{try{c(o.current)}finally{o.current=null}});function u(e){return function t(...n){const r=e(...n);if(false){var i}else{c(r)}}}},77341:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{getOrigin:function(){return s},resolveArray:function(){return r},resolveAsArrayOrUndefined:function(){return i}});function r(e){if(Array.isArray(e)){return e}return[e]}function i(e){if(typeof e==="undefined"||e===null){return undefined}return r(e)}function s(e){let t=undefined;if(typeof e==="string"){try{e=new URL(e);t=e.origin}catch{}}return t}},77359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{isFullStringUrl:function(){return o},parseUrl:function(){return a},stripNextRscUnionQuery:function(){return c}});const i=n(9977);const s="http://n";function o(e){return/https?:\/\//.test(e)}function a(e){let t=undefined;try{t=new URL(e,s)}catch{}return t}function c(e){const t=new URL(e,s);t.searchParams.delete(i.NEXT_RSC_UNION_QUERY);return t.pathname+t.search}},77968:(e,t,n)=>{"use strict";e.exports=d;var r=n(64824);((d.prototype=Object.create(r.prototype)).constructor=d).className="Namespace";var i=n(73267),s=n(93107),o=n(12630);var a,c,l;d.fromJSON=function e(e,t){return new d(e,t.options).addJSON(t.nested)};function u(e,t){if(!(e&&e.length))return undefined;var n={};for(var r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}d.arrayToJSON=u;d.isReservedId=function e(e,t){if(e){for(var n=0;n<e.length;++n)if(typeof e[n]!=="string"&&e[n][0]<=t&&e[n][1]>t)return true}return false};d.isReservedName=function e(e,t){if(e){for(var n=0;n<e.length;++n)if(e[n]===t)return true}return false};function d(e,t){r.call(this,e,t);this.nested=undefined;this._nestedArray=null;this._lookupCache={};this._needsRecursiveFeatureResolution=true;this._needsRecursiveResolve=true}function f(e){e._nestedArray=null;e._lookupCache={};var t=e;while(t=t.parent){t._lookupCache={}}return e}Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=s.toArray(this.nested))}});d.prototype.toJSON=function e(e){return s.toObject(["options",this.options,"nested",u(this.nestedArray,e)])};d.prototype.addJSON=function e(e){var t=this;if(e){for(var n=Object.keys(e),r=0,s;r<n.length;++r){s=e[n[r]];t.add((s.fields!==undefined?a.fromJSON:s.values!==undefined?l.fromJSON:s.methods!==undefined?c.fromJSON:s.id!==undefined?i.fromJSON:d.fromJSON)(n[r],s))}}return this};d.prototype.get=function e(e){return this.nested&&this.nested[e]||null};d.prototype.getEnum=function e(e){if(this.nested&&this.nested[e]instanceof l)return this.nested[e].values;throw Error("no such enum: "+e)};d.prototype.add=function e(e){if(!(e instanceof i&&e.extend!==undefined||e instanceof a||e instanceof o||e instanceof l||e instanceof c||e instanceof d))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var t=this.get(e.name);if(t){if(t instanceof d&&e instanceof d&&!(t instanceof a||t instanceof c)){var n=t.nestedArray;for(var r=0;r<n.length;++r)e.add(n[r]);this.remove(t);if(!this.nested)this.nested={};e.setOptions(t.options,true)}else throw Error("duplicate name '"+e.name+"' in "+this)}}this.nested[e.name]=e;if(!(this instanceof a||this instanceof c||this instanceof l||this instanceof i)){if(!e._edition){e._edition=e._defaultEdition}}this._needsRecursiveFeatureResolution=true;this._needsRecursiveResolve=true;var s=this;while(s=s.parent){s._needsRecursiveFeatureResolution=true;s._needsRecursiveResolve=true}e.onAdd(this);return f(this)};d.prototype.remove=function e(e){if(!(e instanceof r))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);delete this.nested[e.name];if(!Object.keys(this.nested).length)this.nested=undefined;e.onRemove(this);return f(this)};d.prototype.define=function e(e,t){if(s.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");var n=this;while(e.length>0){var r=e.shift();if(n.nested&&n.nested[r]){n=n.nested[r];if(!(n instanceof d))throw Error("path conflicts with non-namespace objects")}else n.add(n=new d(r))}if(t)n.addJSON(t);return n};d.prototype.resolveAll=function e(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var e=this.nestedArray,t=0;this.resolve();while(t<e.length)if(e[t]instanceof d)e[t++].resolveAll();else e[t++].resolve();this._needsRecursiveResolve=false;return this};d.prototype._resolveFeaturesRecursive=function e(e){if(!this._needsRecursiveFeatureResolution)return this;this._needsRecursiveFeatureResolution=false;e=this._edition||e;r.prototype._resolveFeaturesRecursive.call(this,e);this.nestedArray.forEach(t=>{t._resolveFeaturesRecursive(e)});return this};d.prototype.lookup=function e(e,t,n){if(typeof t==="boolean"){n=t;t=undefined}else if(t&&!Array.isArray(t))t=[t];if(s.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;var r=e.join(".");if(e[0]==="")return this.root.lookup(e.slice(1),t);var i=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+r];if(i&&(!t||t.indexOf(i.constructor)>-1)){return i}i=this._lookupImpl(e,r);if(i&&(!t||t.indexOf(i.constructor)>-1)){return i}if(n)return null;var o=this;while(o.parent){i=o.parent._lookupImpl(e,r);if(i&&(!t||t.indexOf(i.constructor)>-1)){return i}o=o.parent}return null};d.prototype._lookupImpl=function e(e,t){if(Object.prototype.hasOwnProperty.call(this._lookupCache,t)){return this._lookupCache[t]}var n=this.get(e[0]);var r=null;if(n){if(e.length===1){r=n}else if(n instanceof d){e=e.slice(1);r=n._lookupImpl(e,e.join("."))}}else{for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof d&&(n=this._nestedArray[i]._lookupImpl(e,t)))r=n}this._lookupCache[t]=r;return r};d.prototype.lookupType=function e(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such type: "+e);return t};d.prototype.lookupEnum=function e(e){var t=this.lookup(e,[l]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t};d.prototype.lookupTypeOrEnum=function e(e){var t=this.lookup(e,[a,l]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t};d.prototype.lookupService=function e(e){var t=this.lookup(e,[c]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t};d._configure=function(e,t,n){a=e;c=t;l=n}},78671:(e,t,n)=>{"use strict";let r;if(false){}else{r=n(33873)}e.exports=r},78726:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(82614);const i=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]];const s=(0,r.A)("X",i)},80178:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{ReadonlyURLSearchParams:function(){return d},RedirectType:function(){return s.RedirectType},forbidden:function(){return a.forbidden},notFound:function(){return o.notFound},permanentRedirect:function(){return i.permanentRedirect},redirect:function(){return i.redirect},unauthorized:function(){return c.unauthorized},unstable_rethrow:function(){return l.unstable_rethrow}});const i=n(36875);const s=n(97860);const o=n(55211);const a=n(80414);const c=n(80929);const l=n(68613);class u extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class d extends URLSearchParams{append(){throw new u}delete(){throw new u}set(){throw new u}sort(){throw new u}}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},80324:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isDuration=t.durationToMs=t.msToDuration=void 0;function n(e){return{seconds:e/1e3|0,nanos:e%1e3*1e6|0}}t.msToDuration=n;function r(e){return e.seconds*1e3+e.nanos/1e6|0}t.durationToMs=r;function i(e){return typeof e.seconds==="number"&&typeof e.nanos==="number"}t.isDuration=i},80407:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{Meta:function(){return c},MetaFilter:function(){return l},MultiMeta:function(){return p}});const i=n(37413);const s=a(n(61120));const o=n(89735);function a(e){return e&&e.__esModule?e:{default:e}}function c({name:e,property:t,content:n,media:r}){if(typeof n!=="undefined"&&n!==null&&n!==""){return(0,i.jsx)("meta",{...e?{name:e}:{property:t},...r?{media:r}:undefined,content:typeof n==="string"?n:n.toString()})}return null}function l(e){const t=[];for(const n of e){if(Array.isArray(n)){t.push(...n.filter(o.nonNullable))}else if((0,o.nonNullable)(n)){t.push(n)}}return t}function u(e){return e.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})}const d=new Set(["og:image","twitter:image","og:video","og:audio"]);function f(e,t){if(d.has(e)&&t==="url"){return e}if(e.startsWith("og:")||e.startsWith("twitter:")){t=u(t)}return e+":"+t}function h({content:e,namePrefix:t,propertyPrefix:n}){if(!e)return null;return l(Object.entries(e).map(([e,r])=>{return typeof r==="undefined"?null:c({...n&&{property:f(n,e)},...t&&{name:f(t,e)},content:typeof r==="string"?r:r==null?void 0:r.toString()})}))}function p({propertyPrefix:e,namePrefix:t,contents:n}){if(typeof n==="undefined"||n===null){return null}return l(n.map(n=>{if(typeof n==="string"||typeof n==="number"||n instanceof URL){return c({...e?{property:e}:{name:t},content:n})}else{return h({namePrefix:t,propertyPrefix:e,content:n})}}))}},80414:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"forbidden",{enumerable:true,get:function(){return s}});const r=n(86358);const i=""+r.HTTP_ERROR_FALLBACK_ERROR_CODE+";403";function s(){if(true){throw Object.defineProperty(new Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:false,configurable:true})}const e=Object.defineProperty(new Error(i),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true});e.digest=i;throw e}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},80929:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"unauthorized",{enumerable:true,get:function(){return s}});const r=n(86358);const i=""+r.HTTP_ERROR_FALLBACK_ERROR_CODE+";401";function s(){if(true){throw Object.defineProperty(new Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:false,configurable:true})}const e=Object.defineProperty(new Error(i),"__NEXT_ERROR_CODE",{value:"E394",enumerable:false,configurable:true});e.digest=i;throw e}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},81208:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{BailoutToCSRError:function(){return i},isBailoutToCSRError:function(){return s}});const r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class i extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function s(e){if(typeof e!=="object"||e===null||!("digest"in e)){return false}return e.digest===r}},81260:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getNextCallNumber=void 0;let n=0;function r(){return n++}t.getNextCallNumber=r},82348:(e,t,n)=>{"use strict";n.d(t,{QP:()=>eT});const r="-";const i=e=>{const t=c(e);const{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;const o=e=>{const n=e.split(r);if(n[0]===""&&n.length!==1){n.shift()}return s(n,t)||a(e)};const l=(e,t)=>{const r=n[e]||[];if(t&&i[e]){return[...r,...i[e]]}return r};return{getClassGroupId:o,getConflictingClassGroupIds:l}};const s=(e,t)=>{if(e.length===0){return t.classGroupId}const n=e[0];const i=t.nextPart.get(n);const o=i?s(e.slice(1),i):undefined;if(o){return o}if(t.validators.length===0){return undefined}const a=e.join(r);return t.validators.find(({validator:e})=>e(a))?.classGroupId};const o=/^\[(.+)\]$/;const a=e=>{if(o.test(e)){const t=o.exec(e)[1];const n=t?.substring(0,t.indexOf(":"));if(n){return"arbitrary.."+n}}};const c=e=>{const{theme:t,classGroups:n}=e;const r={nextPart:new Map,validators:[]};for(const e in n){l(n[e],r,e,t)}return r};const l=(e,t,n,r)=>{e.forEach(e=>{if(typeof e==="string"){const r=e===""?t:u(t,e);r.classGroupId=n;return}if(typeof e==="function"){if(d(e)){l(e(r),t,n,r);return}t.validators.push({validator:e,classGroupId:n});return}Object.entries(e).forEach(([e,i])=>{l(i,u(t,e),n,r)})})};const u=(e,t)=>{let n=e;t.split(r).forEach(e=>{if(!n.nextPart.has(e)){n.nextPart.set(e,{nextPart:new Map,validators:[]})}n=n.nextPart.get(e)});return n};const d=e=>e.isThemeGetter;const f=e=>{if(e<1){return{get:()=>undefined,set:()=>{}}}let t=0;let n=new Map;let r=new Map;const i=(i,s)=>{n.set(i,s);t++;if(t>e){t=0;r=n;n=new Map}};return{get(e){let t=n.get(e);if(t!==undefined){return t}if((t=r.get(e))!==undefined){i(e,t);return t}},set(e,t){if(n.has(e)){n.set(e,t)}else{i(e,t)}}}};const h="!";const p=":";const m=p.length;const g=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n=0;let r=0;let i=0;let s;for(let o=0;o<e.length;o++){let a=e[o];if(n===0&&r===0){if(a===p){t.push(e.slice(i,o));i=o+m;continue}if(a==="/"){s=o;continue}}if(a==="["){n++}else if(a==="]"){n--}else if(a==="("){r++}else if(a===")"){r--}}const o=t.length===0?e:e.substring(i);const a=y(o);const c=a!==o;const l=s&&s>i?s-i:undefined;return{modifiers:t,hasImportantModifier:c,baseClassName:a,maybePostfixModifierPosition:l}};if(t){const e=t+p;const n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:true,modifiers:[],hasImportantModifier:false,baseClassName:t,maybePostfixModifierPosition:undefined}}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r};const y=e=>{if(e.endsWith(h)){return e.substring(0,e.length-1)}if(e.startsWith(h)){return e.substring(1)}return e};const v=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,true]));const n=e=>{if(e.length<=1){return e}const n=[];let r=[];e.forEach(e=>{const i=e[0]==="["||t[e];if(i){n.push(...r.sort(),e);r=[]}else{r.push(e)}});n.push(...r.sort());return n};return n};const b=e=>({cache:f(e.cacheSize),parseClassName:g(e),sortModifiers:v(e),...i(e)});const w=/\s+/;const E=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t;const o=[];const a=e.trim().split(w);let c="";for(let e=a.length-1;e>=0;e-=1){const t=a[e];const{isExternal:l,modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}=n(t);if(l){c=t+(c.length>0?" "+c:c);continue}let m=!!p;let g=r(m?f.substring(0,p):f);if(!g){if(!m){c=t+(c.length>0?" "+c:c);continue}g=r(f);if(!g){c=t+(c.length>0?" "+c:c);continue}m=false}const y=s(u).join(":");const v=d?y+h:y;const b=v+g;if(o.includes(b)){continue}o.push(b);const w=i(g,m);for(let e=0;e<w.length;++e){const t=w[e];o.push(v+t)}c=t+(c.length>0?" "+c:c)}return c};function _(){let e=0;let t;let n;let r="";while(e<arguments.length){if(t=arguments[e++]){if(n=S(t)){r&&(r+=" ");r+=n}}}return r}const S=e=>{if(typeof e==="string"){return e}let t;let n="";for(let r=0;r<e.length;r++){if(e[r]){if(t=S(e[r])){n&&(n+=" ");n+=t}}}return n};function T(e,...t){let n;let r;let i;let s=o;function o(o){const c=t.reduce((e,t)=>t(e),e());n=b(c);r=n.cache.get;i=n.cache.set;s=a;return a(o)}function a(e){const t=r(e);if(t){return t}const s=E(e,n);i(e,s);return s}return function e(){return s(_.apply(null,arguments))}}const C=e=>{const t=t=>t[e]||[];t.isThemeGetter=true;return t};const I=/^\[(?:(\w[\w-]*):)?(.+)\]$/i;const R=/^\((?:(\w[\w-]*):)?(.+)\)$/i;const O=/^\d+\/\d+$/;const A=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/;const k=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/;const x=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/;const P=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;const N=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;const D=e=>O.test(e);const M=e=>Boolean(e)&&!Number.isNaN(Number(e));const L=e=>Boolean(e)&&Number.isInteger(Number(e));const j=e=>e.endsWith("%")&&M(e.slice(0,-1));const F=e=>A.test(e);const B=()=>true;const U=e=>k.test(e)&&!x.test(e);const V=()=>false;const z=e=>P.test(e);const q=e=>N.test(e);const $=e=>!W(e)&&!J(e);const G=e=>es(e,ed,V);const W=e=>I.test(e);const H=e=>es(e,ef,U);const K=e=>es(e,eh,M);const Q=e=>es(e,ea,V);const Y=e=>es(e,el,q);const X=e=>es(e,V,z);const J=e=>R.test(e);const Z=e=>eo(e,ef);const ee=e=>eo(e,ep);const et=e=>eo(e,ea);const en=e=>eo(e,ed);const er=e=>eo(e,el);const ei=e=>eo(e,em,true);const es=(e,t,n)=>{const r=I.exec(e);if(r){if(r[1]){return t(r[1])}return n(r[2])}return false};const eo=(e,t,n=false)=>{const r=R.exec(e);if(r){if(r[1]){return t(r[1])}return n}return false};const ea=e=>e==="position";const ec=new Set(["image","url"]);const el=e=>ec.has(e);const eu=new Set(["length","size","percentage"]);const ed=e=>eu.has(e);const ef=e=>e==="length";const eh=e=>e==="number";const ep=e=>e==="family-name";const em=e=>e==="shadow";const eg=Object.defineProperty({__proto__:null,isAny:B,isAnyNonArbitrary:$,isArbitraryImage:Y,isArbitraryLength:H,isArbitraryNumber:K,isArbitraryPosition:Q,isArbitraryShadow:X,isArbitrarySize:G,isArbitraryValue:W,isArbitraryVariable:J,isArbitraryVariableFamilyName:ee,isArbitraryVariableImage:er,isArbitraryVariableLength:Z,isArbitraryVariablePosition:et,isArbitraryVariableShadow:ei,isArbitraryVariableSize:en,isFraction:D,isInteger:L,isNumber:M,isPercent:j,isTshirtSize:F},Symbol.toStringTag,{value:"Module"});const ey=()=>{const e=C("color");const t=C("font");const n=C("text");const r=C("font-weight");const i=C("tracking");const s=C("leading");const o=C("breakpoint");const a=C("container");const c=C("spacing");const l=C("radius");const u=C("shadow");const d=C("inset-shadow");const f=C("drop-shadow");const h=C("blur");const p=C("perspective");const m=C("aspect");const g=C("ease");const y=C("animate");const v=()=>["auto","avoid","all","avoid-page","page","left","right","column"];const b=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"];const w=()=>["auto","hidden","clip","visible","scroll"];const E=()=>["auto","contain","none"];const _=()=>[D,"px","full","auto",J,W,c];const S=()=>[L,"none","subgrid",J,W];const T=()=>["auto",{span:["full",L,J,W]},J,W];const I=()=>[L,"auto",J,W];const R=()=>["auto","min","max","fr",J,W];const O=()=>[J,W,c];const A=()=>["start","end","center","between","around","evenly","stretch","baseline"];const k=()=>["start","end","center","stretch"];const x=()=>[J,W,c];const P=()=>["px",...x()];const N=()=>["px","auto",...x()];const U=()=>[D,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",J,W,c];const V=()=>[e,J,W];const z=()=>[j,H];const q=()=>["","none","full",l,J,W];const es=()=>["",M,Z,H];const eo=()=>["solid","dashed","dotted","double"];const ea=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"];const ec=()=>["","none",h,J,W];const el=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",J,W];const eu=()=>["none",M,J,W];const ed=()=>["none",M,J,W];const ef=()=>[M,J,W];const eh=()=>[D,"full","px",J,W,c];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[F],breakpoint:[F],color:[B],container:[F],"drop-shadow":[F],ease:["in","out","in-out"],font:[$],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[F],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[F],shadow:[F],spacing:[M],text:[F],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",D,W,J,m]}],container:["container"],columns:[{columns:[M,W,J,a]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...b(),W,J]}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[L,"auto",J,W]}],basis:[{basis:[D,"full","auto",J,W,a,c]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[M,D,"auto","initial","none",W]}],grow:[{grow:["",M,J,W]}],shrink:[{shrink:["",M,J,W]}],order:[{order:[L,"first","last","none",J,W]}],"grid-cols":[{"grid-cols":S()}],"col-start-end":[{col:T()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":S()}],"row-start-end":[{row:T()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...k(),"normal"]}],"justify-self":[{"justify-self":["auto",...k()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...k(),"baseline"]}],"align-self":[{self:["auto",...k(),"baseline"]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...k(),"baseline"]}],"place-self":[{"place-self":["auto",...k()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:N()}],mx:[{mx:N()}],my:[{my:N()}],ms:[{ms:N()}],me:[{me:N()}],mt:[{mt:N()}],mr:[{mr:N()}],mb:[{mb:N()}],ml:[{ml:N()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[a,"screen",...U()]}],"min-w":[{"min-w":[a,"screen","none",...U()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...U()]}],h:[{h:["screen",...U()]}],"min-h":[{"min-h":["screen","none",...U()]}],"max-h":[{"max-h":["screen",...U()]}],"font-size":[{text:["base",n,Z,H]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,J,K]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",j,W]}],"font-family":[{font:[ee,W,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,J,W]}],"line-clamp":[{"line-clamp":[M,"none",J,K]}],leading:[{leading:[J,W,s,c]}],"list-image":[{"list-image":["none",J,W]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",J,W]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...eo(),"wavy"]}],"text-decoration-thickness":[{decoration:[M,"from-font","auto",J,H]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[M,"auto",J,W]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...x()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",J,W]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",J,W]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...b(),et,Q]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",en,G]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},L,J,W],radial:["",J,W],conic:[L,J,W]},er,Y]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:es()}],"border-w-x":[{"border-x":es()}],"border-w-y":[{"border-y":es()}],"border-w-s":[{"border-s":es()}],"border-w-e":[{"border-e":es()}],"border-w-t":[{"border-t":es()}],"border-w-r":[{"border-r":es()}],"border-w-b":[{"border-b":es()}],"border-w-l":[{"border-l":es()}],"divide-x":[{"divide-x":es()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":es()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...eo(),"hidden","none"]}],"divide-style":[{divide:[...eo(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...eo(),"none","hidden"]}],"outline-offset":[{"outline-offset":[M,J,W]}],"outline-w":[{outline:["",M,Z,H]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",u,ei,X]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",J,W,d]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:es()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[M,H]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":es()}],"inset-ring-color":[{"inset-ring":V()}],opacity:[{opacity:[M,J,W]}],"mix-blend":[{"mix-blend":[...ea(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ea()}],filter:[{filter:["","none",J,W]}],blur:[{blur:ec()}],brightness:[{brightness:[M,J,W]}],contrast:[{contrast:[M,J,W]}],"drop-shadow":[{"drop-shadow":["","none",f,J,W]}],grayscale:[{grayscale:["",M,J,W]}],"hue-rotate":[{"hue-rotate":[M,J,W]}],invert:[{invert:["",M,J,W]}],saturate:[{saturate:[M,J,W]}],sepia:[{sepia:["",M,J,W]}],"backdrop-filter":[{"backdrop-filter":["","none",J,W]}],"backdrop-blur":[{"backdrop-blur":ec()}],"backdrop-brightness":[{"backdrop-brightness":[M,J,W]}],"backdrop-contrast":[{"backdrop-contrast":[M,J,W]}],"backdrop-grayscale":[{"backdrop-grayscale":["",M,J,W]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[M,J,W]}],"backdrop-invert":[{"backdrop-invert":["",M,J,W]}],"backdrop-opacity":[{"backdrop-opacity":[M,J,W]}],"backdrop-saturate":[{"backdrop-saturate":[M,J,W]}],"backdrop-sepia":[{"backdrop-sepia":["",M,J,W]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",J,W]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[M,"initial",J,W]}],ease:[{ease:["linear","initial",g,J,W]}],delay:[{delay:[M,J,W]}],animate:[{animate:["none",y,J,W]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,J,W]}],"perspective-origin":[{"perspective-origin":el()}],rotate:[{rotate:eu()}],"rotate-x":[{"rotate-x":eu()}],"rotate-y":[{"rotate-y":eu()}],"rotate-z":[{"rotate-z":eu()}],scale:[{scale:ed()}],"scale-x":[{"scale-x":ed()}],"scale-y":[{"scale-y":ed()}],"scale-z":[{"scale-z":ed()}],"scale-3d":["scale-3d"],skew:[{skew:ef()}],"skew-x":[{"skew-x":ef()}],"skew-y":[{"skew-y":ef()}],transform:[{transform:[J,W,"","none","gpu","cpu"]}],"transform-origin":[{origin:el()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:eh()}],"translate-x":[{"translate-x":eh()}],"translate-y":[{"translate-y":eh()}],"translate-z":[{"translate-z":eh()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",J,W]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",J,W]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[M,Z,H,K]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}};const ev=(e,{cacheSize:t,prefix:n,experimentalParseClassName:r,extend:i={},override:s={}})=>{eb(e,"cacheSize",t);eb(e,"prefix",n);eb(e,"experimentalParseClassName",r);ew(e.theme,s.theme);ew(e.classGroups,s.classGroups);ew(e.conflictingClassGroups,s.conflictingClassGroups);ew(e.conflictingClassGroupModifiers,s.conflictingClassGroupModifiers);eb(e,"orderSensitiveModifiers",s.orderSensitiveModifiers);eE(e.theme,i.theme);eE(e.classGroups,i.classGroups);eE(e.conflictingClassGroups,i.conflictingClassGroups);eE(e.conflictingClassGroupModifiers,i.conflictingClassGroupModifiers);e_(e,i,"orderSensitiveModifiers");return e};const eb=(e,t,n)=>{if(n!==undefined){e[t]=n}};const ew=(e,t)=>{if(t){for(const n in t){eb(e,n,t[n])}}};const eE=(e,t)=>{if(t){for(const n in t){e_(e,t,n)}}};const e_=(e,t,n)=>{const r=t[n];if(r!==undefined){e[n]=e[n]?e[n].concat(r):r}};const eS=(e,...t)=>typeof e==="function"?T(ey,e,...t):T(()=>ev(ey(),e),...t);const eT=T(ey)},82566:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},82614:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(43210);const i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const s=(...e)=>e.filter((e,t,n)=>{return Boolean(e)&&e.trim()!==""&&n.indexOf(e)===t}).join(" ").trim();var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const a=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:c,iconNode:l,...u},d)=>{return(0,r.createElement)("svg",{ref:d,...o,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:s("lucide",a),...u},[...l.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(c)?c:[c]])});const c=(e,t)=>{const n=(0,r.forwardRef)(({className:n,...o},c)=>(0,r.createElement)(a,{ref:c,iconNode:t,className:s(`lucide-${i(e)}`,n),...o}));n.displayName=`${e}`;return n}},82703:(e,t,n)=>{"use strict";e.exports=d;var r=n(77968);((d.prototype=Object.create(r.prototype)).constructor=d).className="Root";var i=n(73267),s=n(32110),o=n(12630),a=n(93107);var c,l,u;function d(e){r.call(this,"",e);this.deferred=[];this.files=[];this._edition="proto2";this._fullyQualifiedObjects={}}d.fromJSON=function e(e,t){if(!t)t=new d;if(e.options)t.setOptions(e.options);return t.addJSON(e.nested).resolveAll()};d.prototype.resolvePath=a.path.resolve;d.prototype.fetch=a.fetch;function f(){}d.prototype.load=function e(t,n,r){if(typeof n==="function"){r=n;n=undefined}var i=this;if(!r){return a.asPromise(e,i,t,n)}var s=r===f;function o(e,t){if(!r){return}if(s){throw e}if(t){t.resolveAll()}var n=r;r=null;n(e,t)}function c(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var n=e.substring(t);if(n in u)return n}return null}function d(e,t){try{if(a.isString(t)&&t.charAt(0)==="{")t=JSON.parse(t);if(!a.isString(t))i.setOptions(t.options).addJSON(t.nested);else{l.filename=e;var r=l(t,i,n),u,d=0;if(r.imports){for(;d<r.imports.length;++d)if(u=c(r.imports[d])||i.resolvePath(e,r.imports[d]))h(u)}if(r.weakImports){for(d=0;d<r.weakImports.length;++d)if(u=c(r.weakImports[d])||i.resolvePath(e,r.weakImports[d]))h(u,true)}}}catch(e){o(e)}if(!s&&!p){o(null,i)}}function h(e,t){e=c(e)||e;if(i.files.indexOf(e)>-1){return}i.files.push(e);if(e in u){if(s){d(e,u[e])}else{++p;setTimeout(function(){--p;d(e,u[e])})}return}if(s){var n;try{n=a.fs.readFileSync(e).toString("utf8")}catch(e){if(!t)o(e);return}d(e,n)}else{++p;i.fetch(e,function(n,s){--p;if(!r){return}if(n){if(!t)o(n);else if(!p)o(null,i);return}d(e,s)})}}var p=0;if(a.isString(t)){t=[t]}for(var m=0,g;m<t.length;++m)if(g=i.resolvePath("",t[m]))h(g);if(s){i.resolveAll();return i}if(!p){o(null,i)}return i};d.prototype.loadSync=function e(e,t){if(!a.isNode)throw Error("not supported");return this.load(e,t,f)};d.prototype.resolveAll=function e(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return r.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function p(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new i(t.fullName,t.id,t.type,t.rule,undefined,t.options);if(n.get(r.name)){return true}r.declaringField=t;t.extensionField=r;n.add(r);return true}return false}d.prototype._handleAdd=function e(e){if(e instanceof i){if(e.extend!==undefined&&!e.extensionField){if(!p(this,e))this.deferred.push(e)}}else if(e instanceof s){if(h.test(e.name))e.parent[e.name]=e.values}else if(!(e instanceof o)){if(e instanceof c)for(var t=0;t<this.deferred.length;)if(p(this,this.deferred[t]))this.deferred.splice(t,1);else++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);if(h.test(e.name))e.parent[e.name]=e}if(e instanceof c||e instanceof s||e instanceof i){this._fullyQualifiedObjects[e.fullName]=e}};d.prototype._handleRemove=function e(e){if(e instanceof i){if(e.extend!==undefined){if(e.extensionField){e.extensionField.parent.remove(e.extensionField);e.extensionField=null}else{var t=this.deferred.indexOf(e);if(t>-1)this.deferred.splice(t,1)}}}else if(e instanceof s){if(h.test(e.name))delete e.parent[e.name]}else if(e instanceof r){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);if(h.test(e.name))delete e.parent[e.name]}delete this._fullyQualifiedObjects[e.fullName]};d._configure=function(e,t,n){c=e;l=t;u=n}},83091:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{createPrerenderSearchParamsForClientPage:function(){return g},createSearchParamsFromClient:function(){return h},createServerSearchParamsForMetadata:function(){return p},createServerSearchParamsForServerPage:function(){return m},makeErroringExoticSearchParamsForUseCache:function(){return S}});const i=n(43763);const s=n(84971);const o=n(63033);const a=n(71617);const c=n(68388);const l=n(76926);const u=n(72609);const d=n(8719);const f=n(44523);function h(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(t,n);default:}}return v(e,t)}const p=m;function m(e,t){const n=o.workUnitAsyncStorage.getStore();if(n){switch(n.type){case"prerender":case"prerender-ppr":case"prerender-legacy":return y(t,n);default:}}return v(e,t)}function g(e){if(e.forceStatic){return Promise.resolve({})}const t=o.workUnitAsyncStorage.getStore();if(t&&t.type==="prerender"){return(0,c.makeHangingPromise)(t.renderSignal,"`searchParams`")}return Promise.resolve({})}function y(e,t){if(e.forceStatic){return Promise.resolve({})}if(t.type==="prerender"){return E(e.route,t)}return _(e,t)}function v(e,t){if(t.forceStatic){return Promise.resolve({})}else{if(false){}else{return T(e,t)}}}const b=new WeakMap;const w=new WeakMap;function E(e,t){const n=b.get(t);if(n){return n}const r=(0,c.makeHangingPromise)(t.renderSignal,"`searchParams`");const o=new Proxy(r,{get(n,o,a){if(Object.hasOwn(r,o)){return i.ReflectAdapter.get(n,o,a)}switch(o){case"then":{const e="`await searchParams`, `searchParams.then`, or similar";(0,s.annotateDynamicAccess)(e,t);return i.ReflectAdapter.get(n,o,a)}case"status":{const e="`use(searchParams)`, `searchParams.status`, or similar";(0,s.annotateDynamicAccess)(e,t);return i.ReflectAdapter.get(n,o,a)}default:{if(typeof o==="string"&&!u.wellKnownProperties.has(o)){const n=(0,u.describeStringPropertyAccess)("searchParams",o);const r=A(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}return i.ReflectAdapter.get(n,o,a)}}},has(n,r){if(typeof r==="string"){const n=(0,u.describeHasCheckingStringProperty)("searchParams",r);const i=A(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}return i.ReflectAdapter.has(n,r)},ownKeys(){const n="`{...searchParams}`, `Object.keys(searchParams)`, or similar";const r=A(e,n);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,n,r,t)}});b.set(t,o);return o}function _(e,t){const n=b.get(e);if(n){return n}const r={};const o=Promise.resolve(r);const a=new Proxy(o,{get(n,r,a){if(Object.hasOwn(o,r)){return i.ReflectAdapter.get(n,r,a)}switch(r){case"then":{const n="`await searchParams`, `searchParams.then`, or similar";if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}return}case"status":{const n="`use(searchParams)`, `searchParams.status`, or similar";if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}return}default:{if(typeof r==="string"&&!u.wellKnownProperties.has(r)){const n=(0,u.describeStringPropertyAccess)("searchParams",r);if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}}return i.ReflectAdapter.get(n,r,a)}}},has(n,r){if(typeof r==="string"){const n=(0,u.describeHasCheckingStringProperty)("searchParams",r);if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}return false}return i.ReflectAdapter.has(n,r)},ownKeys(){const n="`{...searchParams}`, `Object.keys(searchParams)`, or similar";if(e.dynamicShouldError){(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(e.route,n)}else if(t.type==="prerender-ppr"){(0,s.postponeWithTracking)(e.route,n,t.dynamicTracking)}else{(0,s.throwToInterruptStaticGeneration)(n,e,t)}}});b.set(e,a);return a}function S(e){const t=w.get(e);if(t){return t}const n=Promise.resolve({});const r=new Proxy(n,{get(t,r,s){if(Object.hasOwn(n,r)){return i.ReflectAdapter.get(t,r,s)}if(typeof r==="string"&&(r==="then"||!u.wellKnownProperties.has(r))){(0,d.throwForSearchParamsAccessInUseCache)(e)}return i.ReflectAdapter.get(t,r,s)},has(t,n){if(typeof n==="string"&&(n==="then"||!u.wellKnownProperties.has(n))){(0,d.throwForSearchParamsAccessInUseCache)(e)}return i.ReflectAdapter.has(t,n)},ownKeys(){(0,d.throwForSearchParamsAccessInUseCache)(e)}});w.set(e,r);return r}function T(e,t){const n=b.get(e);if(n){return n}const r=Promise.resolve(e);b.set(e,r);Object.keys(e).forEach(n=>{if(!u.wellKnownProperties.has(n)){Object.defineProperty(r,n,{get(){const r=o.workUnitAsyncStorage.getStore();(0,s.trackDynamicDataInDynamicRender)(t,r);return e[n]},set(e){Object.defineProperty(r,n,{value:e,writable:true,enumerable:true})},enumerable:true,configurable:true})}});return r}function C(e,t){const n=b.get(e);if(n){return n}const r=new Set;const a=[];let c=false;const l=new Proxy(e,{get(e,n,r){if(typeof n==="string"&&c){if(t.dynamicShouldError){const e=(0,u.describeStringPropertyAccess)("searchParams",n);(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(t.route,e)}const e=o.workUnitAsyncStorage.getStore();(0,s.trackDynamicDataInDynamicRender)(t,e)}return i.ReflectAdapter.get(e,n,r)},has(e,n){if(typeof n==="string"){if(t.dynamicShouldError){const e=(0,u.describeHasCheckingStringProperty)("searchParams",n);(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(t.route,e)}}return Reflect.has(e,n)},ownKeys(e){if(t.dynamicShouldError){const e="`{...searchParams}`, `Object.keys(searchParams)`, or similar";(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(t.route,e)}return Reflect.ownKeys(e)}});const h=new Promise(t=>(0,f.scheduleImmediate)(()=>t(e)));h.then(()=>{c=true});Object.keys(e).forEach(e=>{if(u.wellKnownProperties.has(e)){a.push(e)}else{r.add(e);Object.defineProperty(h,e,{get(){return l[e]},set(t){Object.defineProperty(h,e,{value:t,writable:true,enumerable:true})},enumerable:true,configurable:true})}});const p=new Proxy(h,{get(e,n,s){if(n==="then"&&t.dynamicShouldError){const e="`searchParams.then`";(0,d.throwWithStaticGenerationBailoutErrorWithDynamicError)(t.route,e)}if(typeof n==="string"){if(!u.wellKnownProperties.has(n)&&(r.has(n)||Reflect.has(e,n)===false)){const e=(0,u.describeStringPropertyAccess)("searchParams",n);I(t.route,e)}}return i.ReflectAdapter.get(e,n,s)},set(e,t,n,i){if(typeof t==="string"){r.delete(t)}return Reflect.set(e,t,n,i)},has(e,n){if(typeof n==="string"){if(!u.wellKnownProperties.has(n)&&(r.has(n)||Reflect.has(e,n)===false)){const e=(0,u.describeHasCheckingStringProperty)("searchParams",n);I(t.route,e)}}return Reflect.has(e,n)},ownKeys(e){const n="`Object.keys(searchParams)` or similar";I(t.route,n,a);return Reflect.ownKeys(e)}});b.set(e,p);return p}function I(e,t,n){if(n&&n.length>0){O(e,t,n)}else{R(e,t)}const r=o.workUnitAsyncStorage.getStore();if(r&&r.type==="request"&&r.prerenderPhase===true){const e=r;(0,s.trackSynchronousRequestDataAccessInDev)(e)}}const R=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(A);const O=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(k);function A(e,t){const n=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${n}used ${t}. `+`\`searchParams\` should be awaited before using its properties. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E249",enumerable:false,configurable:true})}function k(e,t,n){const r=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${r}used ${t}. `+`\`searchParams\` should be awaited before using its properties. `+`The following properties were not available through enumeration `+`because they conflict with builtin or well-known property names: `+`${x(n)}. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E2",enumerable:false,configurable:true})}function x(e){switch(e.length){case 0:throw Object.defineProperty(new a.InvariantError("Expected describeListOfPropertyNames to be called with a non-empty list of strings."),"__NEXT_ERROR_CODE",{value:"E531",enumerable:false,configurable:true});case 1:return`\`${e[0]}\``;case 2:return`\`${e[0]}\` and \`${e[1]}\``;default:{let t="";for(let n=0;n<e.length-1;n++){t+=`\`${e[n]}\`, `}t+=`, and \`${e[e.length-1]}\``;return t}}}},83273:e=>{"use strict";e.exports=t;function t(e,t,n){var r=n||8192;var i=r>>>1;var s=null;var o=r;return function n(n){if(n<1||n>i)return e(n);if(o+n>r){s=e(r);o=0}var a=t.call(s,o,o+=n);if(o&7)o=(o|7)+1;return a}}},83717:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ReflectAdapter",{enumerable:true,get:function(){return n}});class n{static get(e,t,n){const r=Reflect.get(e,t,n);if(typeof r==="function"){return r.bind(e)}return r}static set(e,t,n,r){return Reflect.set(e,t,n,r)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},83913:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{DEFAULT_SEGMENT_KEY:function(){return a},PAGE_SEGMENT_KEY:function(){return o},addSearchParamsIfPageSegment:function(){return s},isGroupSegment:function(){return r},isParallelRouteSegment:function(){return i}});function r(e){return e[0]==="("&&e.endsWith(")")}function i(e){return e.startsWith("@")&&e!=="@children"}function s(e,t){const n=e.includes(o);if(n){const e=JSON.stringify(t);return e!=="{}"?o+"?"+e:o}return e}const o="__PAGE__";const a="__DEFAULT__"},84553:e=>{"use strict";e.exports=t;function t(){this._listeners={}}t.prototype.on=function e(e,t,n){(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this});return this};t.prototype.off=function e(e,t){if(e===undefined)this._listeners={};else{if(t===undefined)this._listeners[e]=[];else{var n=this._listeners[e];for(var r=0;r<n.length;)if(n[r].fn===t)n.splice(r,1);else++r}}return this};t.prototype.emit=function e(e){var t=this._listeners[e];if(t){var n=[],r=1;for(;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},84627:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{describeHasCheckingStringProperty:function(){return s},describeStringPropertyAccess:function(){return i},wellKnownProperties:function(){return o}});const r=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function i(e,t){if(r.test(t)){return"`"+e+"."+t+"`"}return"`"+e+"["+JSON.stringify(t)+"]`"}function s(e,t){const n=JSON.stringify(t);return"`Reflect.has("+e+", "+n+")`, `"+n+" in "+e+"`, or similar"}const o=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","toJSON","$$typeof","__esModule"])},85429:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ServerInsertMetadata",{enumerable:true,get:function(){return o}});const r=n(43210);const i=n(68524);const s=e=>{const t=(0,r.useContext)(i.ServerInsertedMetadataContext);if(t){t(e)}};function o(e){let{promise:t}=e;const{metadata:n}=(0,r.use)(t);s(()=>n);return null}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},85481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setup=void 0;const r=n(5674);class i{constructor(e,t,n){this.listener=t;this.addresses=[];this.hasReturnedResult=false;let r;if(e.authority===""){r="/"+e.path}else{r=e.path}this.addresses=[{path:r}]}updateResolution(){if(!this.hasReturnedResult){this.hasReturnedResult=true;process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{})}}destroy(){}static getDefaultAuthority(e){return"localhost"}}function s(){(0,r.registerResolver)("unix",i)}t.setup=s},86239:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.isLoadBalancerNameRegistered=t.createLoadBalancer=t.registerDefaultLoadBalancerType=t.registerLoadBalancerType=t.createChildChannelControlHelper=void 0;function n(e,t){var n,r,i,s,o,a,c,l,u,d;return{createSubchannel:(r=(n=t.createSubchannel)===null||n===void 0?void 0:n.bind(t))!==null&&r!==void 0?r:e.createSubchannel.bind(e),updateState:(s=(i=t.updateState)===null||i===void 0?void 0:i.bind(t))!==null&&s!==void 0?s:e.updateState.bind(e),requestReresolution:(a=(o=t.requestReresolution)===null||o===void 0?void 0:o.bind(t))!==null&&a!==void 0?a:e.requestReresolution.bind(e),addChannelzChild:(l=(c=t.addChannelzChild)===null||c===void 0?void 0:c.bind(t))!==null&&l!==void 0?l:e.addChannelzChild.bind(e),removeChannelzChild:(d=(u=t.removeChannelzChild)===null||u===void 0?void 0:u.bind(t))!==null&&d!==void 0?d:e.removeChannelzChild.bind(e)}}t.createChildChannelControlHelper=n;const r={};let i=null;function s(e,t,n){r[e]={LoadBalancer:t,LoadBalancingConfig:n}}t.registerLoadBalancerType=s;function o(e){i=e}t.registerDefaultLoadBalancerType=o;function a(e,t){const n=e.getLoadBalancerName();if(n in r){return new r[n].LoadBalancer(t)}else{return null}}t.createLoadBalancer=a;function c(e){return e in r}t.isLoadBalancerNameRegistered=c;function l(e,t=false){for(const t of e){if(t.getLoadBalancerName()in r){return t}}if(t){if(i){return new r[i].LoadBalancingConfig}else{return null}}else{return null}}t.getFirstUsableConfig=l;function u(e){if(!(e!==null&&typeof e==="object")){throw new Error("Load balancing config must be an object")}const t=Object.keys(e);if(t.length!==1){throw new Error("Provided load balancing config has multiple conflicting entries")}const n=t[0];if(n in r){return r[n].LoadBalancingConfig.createFromJson(e[n])}else{throw new Error(`Unrecognized load balancing config name ${n}`)}}t.validateLoadBalancingConfig=u},86346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"ClientPageRoot",{enumerable:true,get:function(){return s}});const r=n(60687);const i=n(75539);function s(e){let{Component:t,searchParams:s,params:o,promises:a}=e;if(true){const{workAsyncStorage:e}=n(29294);let a;let c;const l=e.getStore();if(!l){throw Object.defineProperty(new i.InvariantError("Expected workStore to exist when handling searchParams in a client Page."),"__NEXT_ERROR_CODE",{value:"E564",enumerable:false,configurable:true})}const{createSearchParamsFromClient:u}=n(9221);a=u(s,l);const{createParamsFromClient:d}=n(60824);c=d(o,l);return(0,r.jsx)(t,{params:c,searchParams:a})}else{}}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},86358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{HTTPAccessErrorStatus:function(){return r},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return s},getAccessFallbackErrorTypeByStatus:function(){return c},getAccessFallbackHTTPStatus:function(){return a},isHTTPAccessFallbackError:function(){return o}});const r={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401};const i=new Set(Object.values(r));const s="NEXT_HTTP_ERROR_FALLBACK";function o(e){if(typeof e!=="object"||e===null||!("digest"in e)||typeof e.digest!=="string"){return false}const[t,n]=e.digest.split(";");return t===s&&i.has(Number(n))}function a(e){const t=e.digest.split(";")[1];return Number(t)}function c(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},86719:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"handleSmoothScroll",{enumerable:true,get:function(){return n}});function n(e,t){if(t===void 0)t={};if(t.onlyHashChange){e();return}const n=document.documentElement;const r=n.style.scrollBehavior;n.style.scrollBehavior="auto";if(!t.dontForceLayout){n.getClientRects()}e();n.style.scrollBehavior=r}},86777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Metadata=void 0;const r=n(31359);const i=n(71271);const s=n(60776);const o=/^[0-9a-z_.-]+$/;const a=/^[ -~]*$/;function c(e){return o.test(e)}function l(e){return a.test(e)}function u(e){return e.endsWith("-bin")}function d(e){return!e.startsWith("grpc-")}function f(e){return e.toLowerCase()}function h(e,t){if(!c(e)){throw new Error('Metadata key "'+e+'" contains illegal characters')}if(t!==null&&t!==undefined){if(u(e)){if(!Buffer.isBuffer(t)){throw new Error("keys that end with '-bin' must have Buffer values")}}else{if(Buffer.isBuffer(t)){throw new Error("keys that don't end with '-bin' must have String values")}if(!l(t)){throw new Error('Metadata string value "'+t+'" contains illegal characters')}}}}class p{constructor(e={}){this.internalRepr=new Map;this.options=e}set(e,t){e=f(e);h(e,t);this.internalRepr.set(e,[t])}add(e,t){e=f(e);h(e,t);const n=this.internalRepr.get(e);if(n===undefined){this.internalRepr.set(e,[t])}else{n.push(t)}}remove(e){e=f(e);this.internalRepr.delete(e)}get(e){e=f(e);return this.internalRepr.get(e)||[]}getMap(){const e={};for(const[t,n]of this.internalRepr){if(n.length>0){const r=n[0];e[t]=Buffer.isBuffer(r)?Buffer.from(r):r}}return e}clone(){const e=new p(this.options);const t=e.internalRepr;for(const[e,n]of this.internalRepr){const r=n.map(e=>{if(Buffer.isBuffer(e)){return Buffer.from(e)}else{return e}});t.set(e,r)}return e}merge(e){for(const[t,n]of e.internalRepr){const e=(this.internalRepr.get(t)||[]).concat(n);this.internalRepr.set(t,e)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){const e={};for(const[t,n]of this.internalRepr){e[t]=n.map(m)}return e}toJSON(){const e={};for(const[t,n]of this.internalRepr){e[t]=n}return e}static fromHttp2Headers(e){const t=new p;for(const n of Object.keys(e)){if(n.charAt(0)===":"){continue}const o=e[n];try{if(u(n)){if(Array.isArray(o)){o.forEach(e=>{t.add(n,Buffer.from(e,"base64"))})}else if(o!==undefined){if(d(n)){o.split(",").forEach(e=>{t.add(n,Buffer.from(e.trim(),"base64"))})}else{t.add(n,Buffer.from(o,"base64"))}}}else{if(Array.isArray(o)){o.forEach(e=>{t.add(n,e)})}else if(o!==undefined){t.add(n,o)}}}catch(t){const e=`Failed to add metadata entry ${n}: ${o}. ${(0,s.getErrorMessage)(t)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,r.log)(i.LogVerbosity.ERROR,e)}}return t}}t.Metadata=p;const m=e=>{return Buffer.isBuffer(e)?e.toString("base64"):e}},86984:(e,t,n)=>{"use strict";e.exports=i;var r=n(8707);(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i;function i(e,t,n){if(typeof e!=="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this);this.rpcImpl=e;this.requestDelimited=Boolean(t);this.responseDelimited=Boolean(n)}i.prototype.rpcCall=function e(t,n,i,s,o){if(!s)throw TypeError("request must be specified");var a=this;if(!o)return r.asPromise(e,a,t,n,i,s);if(!a.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return undefined}try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](s).finish(),function e(e,n){if(e){a.emit("error",e,t);return o(e)}if(n===null){a.end(true);return undefined}if(!(n instanceof i)){try{n=i[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){a.emit("error",e,t);return o(e)}}a.emit("data",n,t);return o(null,n)})}catch(e){a.emit("error",e,t);setTimeout(function(){o(e)},0);return undefined}};i.prototype.end=function e(e){if(this.rpcImpl){if(!e)this.rpcImpl(null,null,null);this.rpcImpl=null;this.emit("end").off()}return this}},88060:(e,t,n)=>{"use strict";n.d(t,{$b:()=>i,Vy:()=>l});const r=[];var i;(function(e){e[e["DEBUG"]=0]="DEBUG";e[e["VERBOSE"]=1]="VERBOSE";e[e["INFO"]=2]="INFO";e[e["WARN"]=3]="WARN";e[e["ERROR"]=4]="ERROR";e[e["SILENT"]=5]="SILENT"})(i||(i={}));const s={"debug":i.DEBUG,"verbose":i.VERBOSE,"info":i.INFO,"warn":i.WARN,"error":i.ERROR,"silent":i.SILENT};const o=i.INFO;const a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"};const c=(e,t,...n)=>{if(t<e.logLevel){return}const r=new Date().toISOString();const i=a[t];if(i){console[i](`[${r}]  ${e.name}:`,...n)}else{throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)}};class l{constructor(e){this.name=e;this._logLevel=o;this._logHandler=c;this._userLogHandler=null;r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i)){throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``)}this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==="string"?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=="function"){throw new TypeError("Value assigned to `logHandler` must be a function")}this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e);this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e);this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e);this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e);this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e);this._logHandler(this,i.ERROR,...e)}}function u(e){r.forEach(t=>{t.setLogLevel(e)})}function d(e,t){for(const n of r){let r=null;if(t&&t.level){r=s[t.level]}if(e===null){n.userLogHandler=null}else{n.userLogHandler=(t,n,...s)=>{const o=s.map(e=>{if(e==null){return null}else if(typeof e==="string"){return e}else if(typeof e==="number"||typeof e==="boolean"){return e.toString()}else if(e instanceof Error){return e.message}else{try{return JSON.stringify(e)}catch(e){return null}}}).filter(e=>e).join(" ");if(n>=(r!==null&&r!==void 0?r:t.logLevel)){e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}}}},88092:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"isNextRouterError",{enumerable:true,get:function(){return s}});const r=n(86358);const i=n(97860);function s(e){return(0,i.isRedirectError)(e)||(0,r.isHTTPAccessFallbackError)(e)}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},88170:(e,t,n)=>{const{createProxy:r}=n(39844);e.exports=r("/data/data/com.termux/files/home/Golden-hours/node_modules/next/dist/client/components/error-boundary.js")},88295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.InternalChannel=void 0;const r=n(56070);const i=n(71309);const s=n(98316);const o=n(72910);const a=n(71271);const c=n(54003);const l=n(21135);const u=n(5674);const d=n(31359);const f=n(16239);const h=n(26786);const p=n(18155);const m=n(66827);const g=n(76631);const y=n(26412);const v=n(58546);const b=n(81260);const w=n(73911);const E=n(66683);const _=n(4719);const S=0x7fffffff;const T=1e3;const C=30*60*1e3;const I=new Map;const R=1<<24;const O=1<<20;class A extends _.BaseSubchannelWrapper{constructor(e,t){super(e);this.channel=t;this.refCount=0;this.subchannelStateListener=(e,n,r,i)=>{t.throttleKeepalive(i)};e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref();this.refCount+=1}unref(){this.child.unref();this.refCount-=1;if(this.refCount<=0){this.child.removeConnectivityStateListener(this.subchannelStateListener);this.channel.removeWrappedSubchannel(this)}}}class k{constructor(e,t,n){var g,y,v,b,_,k,x,P;this.credentials=t;this.options=n;this.connectivityState=p.ConnectivityState.IDLE;this.currentPicker=new o.UnavailablePicker;this.configSelectionQueue=[];this.pickQueue=[];this.connectivityStateWatchers=[];this.configSelector=null;this.currentResolutionError=null;this.wrappedSubchannels=new Set;this.callCount=0;this.idleTimer=null;this.channelzEnabled=true;this.callTracker=new m.ChannelzCallTracker;this.childrenTracker=new m.ChannelzChildrenTracker;if(typeof e!=="string"){throw new TypeError("Channel target must be a string")}if(!(t instanceof r.ChannelCredentials)){throw new TypeError("Channel credentials must be a ChannelCredentials object")}if(n){if(typeof n!=="object"){throw new TypeError("Channel options must be an object")}}this.originalTarget=e;const N=(0,h.parseUri)(e);if(N===null){throw new Error(`Could not parse target name "${e}"`)}const D=(0,u.mapUriDefaultScheme)(N);if(D===null){throw new Error(`Could not find a default scheme for target name "${e}"`)}this.callRefTimer=setInterval(()=>{},S);(y=(g=this.callRefTimer).unref)===null||y===void 0?void 0:y.call(g);if(this.options["grpc.enable_channelz"]===0){this.channelzEnabled=false}this.channelzTrace=new m.ChannelzTrace;this.channelzRef=(0,m.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled);if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Channel created")}if(this.options["grpc.default_authority"]){this.defaultAuthority=this.options["grpc.default_authority"]}else{this.defaultAuthority=(0,u.getDefaultAuthority)(D)}const M=(0,f.mapProxyName)(D,n);this.target=M.target;this.options=Object.assign({},this.options,M.extraOptions);this.subchannelPool=(0,s.getSubchannelPool)(((v=n["grpc.use_local_subchannel_pool"])!==null&&v!==void 0?v:0)===0);this.retryBufferTracker=new E.MessageBufferTracker((b=n["grpc.retry_buffer_size"])!==null&&b!==void 0?b:R,(_=n["grpc.per_rpc_retry_buffer_size"])!==null&&_!==void 0?_:O);this.keepaliveTime=(k=n["grpc.keepalive_time_ms"])!==null&&k!==void 0?k:-1;this.idleTimeoutMs=Math.max((x=n["grpc.client_idle_timeout_ms"])!==null&&x!==void 0?x:C,T);const L={createSubchannel:(e,t)=>{const n=this.subchannelPool.getOrCreateSubchannel(this.target,e,Object.assign({},this.options,t),this.credentials);n.throttleKeepalive(this.keepaliveTime);if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",n.getChannelzRef())}const r=new A(n,this);this.wrappedSubchannels.add(r);return r},updateState:(e,t)=>{this.currentPicker=t;const n=this.pickQueue.slice();this.pickQueue=[];if(n.length>0){this.callRefTimerUnref()}for(const e of n){e.doPick()}this.updateState(e)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:e=>{if(this.channelzEnabled){this.childrenTracker.refChild(e)}},removeChannelzChild:e=>{if(this.channelzEnabled){this.childrenTracker.unrefChild(e)}}};this.resolvingLoadBalancer=new i.ResolvingLoadBalancer(this.target,L,n,(e,t)=>{if(e.retryThrottling){I.set(this.getTarget(),new E.RetryThrottler(e.retryThrottling.maxTokens,e.retryThrottling.tokenRatio,I.get(this.getTarget())))}else{I.delete(this.getTarget())}if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded")}this.configSelector=t;this.currentResolutionError=null;process.nextTick(()=>{const e=this.configSelectionQueue;this.configSelectionQueue=[];if(e.length>0){this.callRefTimerUnref()}for(const t of e){t.getConfig()}})},e=>{if(this.channelzEnabled){this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+e.code+' and details "'+e.details+'"')}if(this.configSelectionQueue.length>0){this.trace("Name resolution failed with calls queued for config selection")}if(this.configSelector===null){this.currentResolutionError=Object.assign(Object.assign({},(0,w.restrictControlPlaneStatusCode)(e.code,e.details)),{metadata:e.metadata})}const t=this.configSelectionQueue;this.configSelectionQueue=[];if(t.length>0){this.callRefTimerUnref()}for(const n of t){n.reportResolverError(e)}});this.filterStackFactory=new c.FilterStackFactory([new l.CompressionFilterFactory(this,this.options)]);this.trace("Channel constructed with options "+JSON.stringify(n,undefined,2));const j=new Error;(0,d.trace)(a.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") "+"Channel constructed \n"+((P=j.stack)===null||P===void 0?void 0:P.substring(j.stack.indexOf("\n")+1)));this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,d.trace)(t!==null&&t!==void 0?t:a.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,h.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,n,r;if(!((t=(e=this.callRefTimer).hasRef)===null||t===void 0?void 0:t.call(e))){this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length);(r=(n=this.callRefTimer).ref)===null||r===void 0?void 0:r.call(n)}}callRefTimerUnref(){var e,t;if(!this.callRefTimer.hasRef||this.callRefTimer.hasRef()){this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length);(t=(e=this.callRefTimer).unref)===null||t===void 0?void 0:t.call(e)}}removeConnectivityStateWatcher(e){const t=this.connectivityStateWatchers.findIndex(t=>t===e);if(t>=0){this.connectivityStateWatchers.splice(t,1)}}updateState(e){(0,d.trace)(a.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,h.uriToString)(this.target)+" "+p.ConnectivityState[this.connectivityState]+" -> "+p.ConnectivityState[e]);if(this.channelzEnabled){this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+p.ConnectivityState[e])}this.connectivityState=e;const t=this.connectivityStateWatchers.slice();for(const n of t){if(e!==n.currentState){if(n.timer){clearTimeout(n.timer)}this.removeConnectivityStateWatcher(n);n.callback()}}if(e!==p.ConnectivityState.TRANSIENT_FAILURE){this.currentResolutionError=null}}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(const t of this.wrappedSubchannels){t.throttleKeepalive(e)}}}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e);this.callRefTimerRef()}getConfig(e,t){this.resolvingLoadBalancer.exitIdle();if(this.configSelector){return{type:"SUCCESS",config:this.configSelector(e,t)}}else{if(this.currentResolutionError){return{type:"ERROR",error:this.currentResolutionError}}else{return{type:"NONE"}}}}queueCallForConfig(e){this.configSelectionQueue.push(e);this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy();this.updateState(p.ConnectivityState.IDLE);this.currentPicker=new o.QueuePicker(this.resolvingLoadBalancer);if(this.idleTimer){clearTimeout(this.idleTimer);this.idleTimer=null}}startIdleTimeout(e){var t,n;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}const e=new Date;const t=e.valueOf()-this.lastActivityTimestamp.valueOf();if(t>=this.idleTimeoutMs){this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity");this.enterIdle()}else{this.startIdleTimeout(this.idleTimeoutMs-t)}},e);(n=(t=this.idleTimer).unref)===null||n===void 0?void 0:n.call(t)}maybeStartIdleTimer(){if(this.connectivityState!==p.ConnectivityState.SHUTDOWN&&!this.idleTimer){this.startIdleTimeout(this.idleTimeoutMs)}}onCallStart(){if(this.channelzEnabled){this.callTracker.addCallStarted()}this.callCount+=1}onCallEnd(e){if(this.channelzEnabled){if(e.code===a.Status.OK){this.callTracker.addCallSucceeded()}else{this.callTracker.addCallFailed()}}this.callCount-=1;this.lastActivityTimestamp=new Date;this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,n,r,i){const s=(0,b.getNextCallNumber)();this.trace("createLoadBalancingCall ["+s+'] method="'+t+'"');return new g.LoadBalancingCall(this,e,t,n,r,i,s)}createRetryingCall(e,t,n,r,i){const s=(0,b.getNextCallNumber)();this.trace("createRetryingCall ["+s+'] method="'+t+'"');return new E.RetryingCall(this,e,t,n,r,i,s,this.retryBufferTracker,I.get(this.getTarget()))}createInnerCall(e,t,n,r,i){if(this.options["grpc.enable_retries"]===0){return this.createLoadBalancingCall(e,t,n,r,i)}else{return this.createRetryingCall(e,t,n,r,i)}}createResolvingCall(e,t,n,r,i){const s=(0,b.getNextCallNumber)();this.trace("createResolvingCall ["+s+'] method="'+e+'", deadline='+(0,y.deadlineToString)(t));const o={deadline:t,flags:i!==null&&i!==void 0?i:a.Propagate.DEFAULTS,host:n!==null&&n!==void 0?n:this.defaultAuthority,parentCall:r};const c=new v.ResolvingCall(this,e,o,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),s);this.onCallStart();c.addStatusWatcher(e=>{this.onCallEnd(e)});return c}close(){this.resolvingLoadBalancer.destroy();this.updateState(p.ConnectivityState.SHUTDOWN);clearInterval(this.callRefTimer);if(this.idleTimer){clearTimeout(this.idleTimer)}if(this.channelzEnabled){(0,m.unregisterChannelzRef)(this.channelzRef)}this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,h.uriToString)(this.target)}getConnectivityState(e){const t=this.connectivityState;if(e){this.resolvingLoadBalancer.exitIdle();this.lastActivityTimestamp=new Date;this.maybeStartIdleTimer()}return t}watchConnectivityState(e,t,n){if(this.connectivityState===p.ConnectivityState.SHUTDOWN){throw new Error("Channel has been shut down")}let r=null;if(t!==Infinity){const e=t instanceof Date?t:new Date(t);const s=new Date;if(t===-Infinity||e<=s){process.nextTick(n,new Error("Deadline passed without connectivity state change"));return}r=setTimeout(()=>{this.removeConnectivityStateWatcher(i);n(new Error("Deadline passed without connectivity state change"))},e.getTime()-s.getTime())}const i={currentState:e,callback:n,timer:r};this.connectivityStateWatchers.push(i)}getChannelzRef(){return this.channelzRef}createCall(e,t,n,r,i){if(typeof e!=="string"){throw new TypeError("Channel#createCall: method must be a string")}if(!(typeof t==="number"||t instanceof Date)){throw new TypeError("Channel#createCall: deadline must be a number or Date")}if(this.connectivityState===p.ConnectivityState.SHUTDOWN){throw new Error("Channel has been shut down")}return this.createResolvingCall(e,t,n,r,i)}}t.InternalChannel=k},89330:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"unresolvedThenable",{enumerable:true,get:function(){return n}});const n={then:()=>{}};if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},89374:(e,t,n)=>{"use strict";var r=e.exports=n(95477);r.build="light";function i(e,t,n){if(typeof t==="function"){n=t;t=new r.Root}else if(!t)t=new r.Root;return t.load(e,n)}r.load=i;function s(e,t){if(!t)t=new r.Root;return t.loadSync(e)}r.loadSync=s;r.encoder=n(30847);r.decoder=n(62823);r.verifier=n(16973);r.converter=n(97659);r.ReflectionObject=n(64824);r.Namespace=n(77968);r.Root=n(82703);r.Enum=n(32110);r.Type=n(54351);r.Field=n(73267);r.OneOf=n(12630);r.MapField=n(25585);r.Service=n(3076);r.Method=n(71202);r.Message=n(8920);r.wrappers=n(63695);r.types=n(61810);r.util=n(93107);r.ReflectionObject._configure(r.Root);r.Namespace._configure(r.Type,r.Service,r.Enum);r.Root._configure(r.Type);r.Field._configure(r.Type)},89644:module=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}},89735:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"nonNullable",{enumerable:true,get:function(){return n}});function n(e){return e!==null&&e!==undefined}},89999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function(){return s}});const r=n(37413);const i=n(1765);function s(){return(0,r.jsx)(i.HTTPAccessErrorFallback,{status:403,message:"This page could not be accessed."})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},91563:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function n(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}n(t,{ACTION_HEADER:function(){return i},FLIGHT_HEADERS:function(){return f},NEXT_DID_POSTPONE_HEADER:function(){return m},NEXT_HMR_REFRESH_HASH_COOKIE:function(){return l},NEXT_HMR_REFRESH_HEADER:function(){return c},NEXT_IS_PRERENDER_HEADER:function(){return v},NEXT_REWRITTEN_PATH_HEADER:function(){return g},NEXT_REWRITTEN_QUERY_HEADER:function(){return y},NEXT_ROUTER_PREFETCH_HEADER:function(){return o},NEXT_ROUTER_SEGMENT_PREFETCH_HEADER:function(){return a},NEXT_ROUTER_STALE_TIME_HEADER:function(){return p},NEXT_ROUTER_STATE_TREE_HEADER:function(){return s},NEXT_RSC_UNION_QUERY:function(){return h},NEXT_URL:function(){return u},RSC_CONTENT_TYPE_HEADER:function(){return d},RSC_HEADER:function(){return r}});const r="RSC";const i="Next-Action";const s="Next-Router-State-Tree";const o="Next-Router-Prefetch";const a="Next-Router-Segment-Prefetch";const c="Next-HMR-Refresh";const l="__next_hmr_refresh_hash__";const u="Next-Url";const d="text/x-component";const f=[r,s,o,c,a];const h="_rsc";const p="x-nextjs-stale-time";const m="x-nextjs-postponed";const g="x-nextjs-rewritten-path";const y="x-nextjs-rewritten-query";const v="x-nextjs-prerender";if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},91992:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"isThenable",{enumerable:true,get:function(){return n}});function n(e){return e!==null&&typeof e==="object"&&"then"in e&&typeof e.then==="function"}},93107:(e,t,n)=>{"use strict";var r=e.exports=n(8707);var i=n(46642);var s,o;r.codegen=n(98344);r.fetch=n(17757);r.path=n(71140);r.fs=r.inquire("fs");r.toArray=function e(e){if(e){var t=Object.keys(e),n=new Array(t.length),r=0;while(r<t.length)n[r]=e[t[r++]];return n}return[]};r.toObject=function e(e){var t={},n=0;while(n<e.length){var r=e[n++],i=e[n++];if(i!==undefined)t[r]=i}return t};var a=/\\/g,c=/"/g;r.isReserved=function e(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};r.safeProp=function e(e){if(!/^[$\w_]+$/.test(e)||r.isReserved(e))return'["'+e.replace(a,"\\\\").replace(c,'\\"')+'"]';return"."+e};r.ucFirst=function e(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;r.camelCase=function e(e){return e.substring(0,1)+e.substring(1).replace(l,function(e,t){return t.toUpperCase()})};r.compareFieldsById=function e(e,t){return e.id-t.id};r.decorateType=function e(e,t){if(e.$type){if(t&&e.$type.name!==t){r.decorateRoot.remove(e.$type);e.$type.name=t;r.decorateRoot.add(e.$type)}return e.$type}if(!s)s=n(54351);var i=new s(t||e.name);r.decorateRoot.add(i);i.ctor=e;Object.defineProperty(e,"$type",{value:i,enumerable:false});Object.defineProperty(e.prototype,"$type",{value:i,enumerable:false});return i};var u=0;r.decorateEnum=function e(e){if(e.$type)return e.$type;if(!o)o=n(32110);var t=new o("Enum"+u++,e);r.decorateRoot.add(t);Object.defineProperty(e,"$type",{value:t,enumerable:false});return t};r.setProperty=function e(e,t,n,r){function i(e,t,n){var s=t.shift();if(s==="__proto__"||s==="prototype"){return e}if(t.length>0){e[s]=i(e[s]||{},t,n)}else{var o=e[s];if(o&&r)return e;if(o)n=[].concat(o).concat(n);e[s]=n}return e}if(typeof e!=="object")throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");t=t.split(".");return i(e,t,n)};Object.defineProperty(r,"decorateRoot",{get:function(){return i["decorated"]||(i["decorated"]=new(n(82703)))}})},93474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Http2SubchannelCall=void 0;const r=n(73496);const i=n(21820);const s=n(71271);const o=n(86777);const a=n(71037);const c=n(31359);const l=n(71271);const u="subchannel_call";function d(e){for(const[t,n]of Object.entries(i.constants.errno)){if(n===e){return t}}return"Unknown system error "+e}class f{constructor(e,t,n,i,c){var l;this.http2Stream=e;this.callEventTracker=t;this.listener=n;this.transport=i;this.callId=c;this.isReadFilterPending=false;this.isPushPending=false;this.canPush=false;this.readsClosed=false;this.statusOutput=false;this.unpushedReadMessages=[];this.mappedStatusCode=s.Status.UNKNOWN;this.finalStatus=null;this.internalError=null;const u=(l=i.getOptions()["grpc.max_receive_message_length"])!==null&&l!==void 0?l:s.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new a.StreamDecoder(u);e.on("response",(e,t)=>{let n="";for(const t of Object.keys(e)){n+="		"+t+": "+e[t]+"\n"}this.trace("Received server headers:\n"+n);switch(e[":status"]){case 400:this.mappedStatusCode=s.Status.INTERNAL;break;case 401:this.mappedStatusCode=s.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=s.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=s.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=s.Status.UNAVAILABLE;break;default:this.mappedStatusCode=s.Status.UNKNOWN}if(t&r.constants.NGHTTP2_FLAG_END_STREAM){this.handleTrailers(e)}else{let t;try{t=o.Metadata.fromHttp2Headers(e)}catch(e){this.endCall({code:s.Status.UNKNOWN,details:e.message,metadata:new o.Metadata});return}this.listener.onReceiveMetadata(t)}});e.on("trailers",e=>{this.handleTrailers(e)});e.on("data",e=>{if(this.statusOutput){return}this.trace("receive HTTP/2 data frame of length "+e.length);let t;try{t=this.decoder.write(e)}catch(e){this.cancelWithStatus(s.Status.RESOURCE_EXHAUSTED,e.message);return}for(const e of t){this.trace("parsed message of length "+e.length);this.callEventTracker.addMessageReceived();this.tryPush(e)}});e.on("end",()=>{this.readsClosed=true;this.maybeOutputStatus()});e.on("close",()=>{process.nextTick(()=>{var t;this.trace("HTTP/2 stream closed with code "+e.rstCode);if(((t=this.finalStatus)===null||t===void 0?void 0:t.code)===s.Status.OK){return}let n;let i="";switch(e.rstCode){case r.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null){return}n=s.Status.INTERNAL;i=`Received RST_STREAM with code ${e.rstCode}`;break;case r.constants.NGHTTP2_REFUSED_STREAM:n=s.Status.UNAVAILABLE;i="Stream refused by server";break;case r.constants.NGHTTP2_CANCEL:n=s.Status.CANCELLED;i="Call cancelled";break;case r.constants.NGHTTP2_ENHANCE_YOUR_CALM:n=s.Status.RESOURCE_EXHAUSTED;i="Bandwidth exhausted or memory limit exceeded";break;case r.constants.NGHTTP2_INADEQUATE_SECURITY:n=s.Status.PERMISSION_DENIED;i="Protocol not secure enough";break;case r.constants.NGHTTP2_INTERNAL_ERROR:n=s.Status.INTERNAL;if(this.internalError===null){i=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`}else{if(this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"){n=s.Status.UNAVAILABLE;i=this.internalError.message}else{i=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`}}break;default:n=s.Status.INTERNAL;i=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:n,details:i,metadata:new o.Metadata,rstCode:e.rstCode})})});e.on("error",e=>{if(e.code!=="ERR_HTTP2_STREAM_ERROR"){this.trace("Node error event: message="+e.message+" code="+e.code+" errno="+d(e.errno)+" syscall="+e.syscall);this.internalError=e}this.callEventTracker.onStreamEnd(false)})}onDisconnect(){this.endCall({code:s.Status.UNAVAILABLE,details:"Connection dropped",metadata:new o.Metadata})}outputStatus(){if(!this.statusOutput){this.statusOutput=true;this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"');this.callEventTracker.onCallEnd(this.finalStatus);process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)});this.http2Stream.resume()}}trace(e){c.trace(l.LogVerbosity.DEBUG,u,"["+this.callId+"] "+e)}endCall(e){if(this.finalStatus===null||this.finalStatus.code===s.Status.OK){this.finalStatus=e;this.maybeOutputStatus()}this.destroyHttp2Stream()}maybeOutputStatus(){if(this.finalStatus!==null){if(this.finalStatus.code!==s.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending){this.outputStatus()}}}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null));this.canPush=false;this.isPushPending=true;process.nextTick(()=>{this.isPushPending=false;if(this.statusOutput){return}this.listener.onReceiveMessage(e);this.maybeOutputStatus()})}tryPush(e){if(this.canPush){this.http2Stream.pause();this.push(e)}else{this.trace("unpushedReadMessages.push message of length "+e.length);this.unpushedReadMessages.push(e)}}handleTrailers(e){this.callEventTracker.onStreamEnd(true);let t="";for(const n of Object.keys(e)){t+="		"+n+": "+e[n]+"\n"}this.trace("Received server trailers:\n"+t);let n;try{n=o.Metadata.fromHttp2Headers(e)}catch(e){n=new o.Metadata}const r=n.getMap();let i=this.mappedStatusCode;if(i===s.Status.UNKNOWN&&typeof r["grpc-status"]==="string"){const e=Number(r["grpc-status"]);if(e in s.Status){i=e;this.trace("received status code "+e+" from server")}n.remove("grpc-status")}let a="";if(typeof r["grpc-message"]==="string"){try{a=decodeURI(r["grpc-message"])}catch(e){a=r["grpc-message"]}n.remove("grpc-message");this.trace('received status details string "'+a+'" from server')}const c={code:i,details:a,metadata:n};this.endCall(c)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed){let t;if(((e=this.finalStatus)===null||e===void 0?void 0:e.code)===s.Status.OK){t=r.constants.NGHTTP2_NO_ERROR}else{t=r.constants.NGHTTP2_CANCEL}this.trace("close http2 stream with code "+t);this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"');this.endCall({code:e,details:t,metadata:new o.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==s.Status.OK){this.readsClosed=true;this.maybeOutputStatus();return}this.canPush=true;if(this.unpushedReadMessages.length>0){const e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);const n=t=>{process.nextTick(()=>{var n;let r=s.Status.UNAVAILABLE;if((t===null||t===void 0?void 0:t.code)==="ERR_STREAM_WRITE_AFTER_END"){r=s.Status.INTERNAL}if(t){this.cancelWithStatus(r,`Write error: ${t.message}`)}(n=e.callback)===null||n===void 0?void 0:n.call(e)})};this.trace("sending data chunk of length "+t.length);this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,n)}catch(e){this.endCall({code:s.Status.UNAVAILABLE,details:`Write failed with error ${e.message}`,metadata:new o.Metadata})}}halfClose(){this.trace("end() called");this.trace("calling end() on HTTP/2 stream");this.http2Stream.end()}}t.Http2SubchannelCall=f},93883:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"useUntrackedPathname",{enumerable:true,get:function(){return o}});const r=n(43210);const i=n(10449);function s(){if(true){const{workAsyncStorage:e}=n(29294);const t=e.getStore();if(!t)return false;const{fallbackRouteParams:r}=t;if(!r||r.size===0)return false;return true}return false}function o(){if(s()){return null}return(0,r.useContext)(i.PathnameContext)}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},93972:(e,t,n)=>{"use strict";e.exports=n(65239).vendored["react-rsc"].ReactServerDOMWebpackStaticEdge},94041:(e,t,n)=>{"use strict";if(false){}else{if(false){}else{if(false){}else{if(false){}else{e.exports=n(10846)}}}}},95477:(e,t,n)=>{"use strict";var r=t;r.build="minimal";r.Writer=n(96120);r.BufferWriter=n(54369);r.Reader=n(26996);r.BufferReader=n(75677);r.util=n(8707);r.rpc=n(27236);r.roots=n(46642);r.configure=i;function i(){r.util._configure();r.Writer._configure(r.BufferWriter);r.Reader._configure(r.BufferReader)}i()},96120:(e,t,n)=>{"use strict";e.exports=d;var r=n(8707);var i;var s=r.LongBits,o=r.base64,a=r.utf8;function c(e,t,n){this.fn=e;this.len=t;this.next=undefined;this.val=n}function l(){}function u(e){this.head=e.head;this.tail=e.tail;this.len=e.len;this.next=e.states}function d(){this.len=0;this.head=new c(l,0,0);this.tail=this.head;this.states=null}var f=function e(){return r.Buffer?function e(){return(d.create=function e(){return new i})()}:function e(){return new d}};d.create=f();d.alloc=function e(e){return new r.Array(e)};if(r.Array!==Array)d.alloc=r.pool(d.alloc,r.Array.prototype.subarray);d.prototype._push=function e(e,t,n){this.tail=this.tail.next=new c(e,t,n);this.len+=t;return this};function h(e,t,n){t[n]=e&255}function p(e,t,n){while(e>127){t[n++]=e&127|128;e>>>=7}t[n]=e}function m(e,t){this.len=e;this.next=undefined;this.val=t}m.prototype=Object.create(c.prototype);m.prototype.fn=p;d.prototype.uint32=function e(e){this.len+=(this.tail=this.tail.next=new m((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:5,e)).len;return this};d.prototype.int32=function e(e){return e<0?this._push(g,10,s.fromNumber(e)):this.uint32(e)};d.prototype.sint32=function e(e){return this.uint32((e<<1^e>>31)>>>0)};function g(e,t,n){while(e.hi){t[n++]=e.lo&127|128;e.lo=(e.lo>>>7|e.hi<<25)>>>0;e.hi>>>=7}while(e.lo>127){t[n++]=e.lo&127|128;e.lo=e.lo>>>7}t[n++]=e.lo}d.prototype.uint64=function e(e){var t=s.from(e);return this._push(g,t.length(),t)};d.prototype.int64=d.prototype.uint64;d.prototype.sint64=function e(e){var t=s.from(e).zzEncode();return this._push(g,t.length(),t)};d.prototype.bool=function e(e){return this._push(h,1,e?1:0)};function y(e,t,n){t[n]=e&255;t[n+1]=e>>>8&255;t[n+2]=e>>>16&255;t[n+3]=e>>>24}d.prototype.fixed32=function e(e){return this._push(y,4,e>>>0)};d.prototype.sfixed32=d.prototype.fixed32;d.prototype.fixed64=function e(e){var t=s.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)};d.prototype.sfixed64=d.prototype.fixed64;d.prototype.float=function e(e){return this._push(r.float.writeFloatLE,4,e)};d.prototype.double=function e(e){return this._push(r.float.writeDoubleLE,8,e)};var v=r.Array.prototype.set?function e(e,t,n){t.set(e,n)}:function e(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function e(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(r.isString(e)){var n=d.alloc(t=o.length(e));o.decode(e,n,0);e=n}return this.uint32(t)._push(v,t,e)};d.prototype.string=function e(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(h,1,0)};d.prototype.fork=function e(){this.states=new u(this);this.head=this.tail=new c(l,0,0);this.len=0;return this};d.prototype.reset=function e(){if(this.states){this.head=this.states.head;this.tail=this.states.tail;this.len=this.states.len;this.states=this.states.next}else{this.head=this.tail=new c(l,0,0);this.len=0}return this};d.prototype.ldelim=function e(){var e=this.head,t=this.tail,n=this.len;this.reset().uint32(n);if(n){this.tail.next=e.next;this.tail=t;this.len+=n}return this};d.prototype.finish=function e(){var e=this.head.next,t=this.constructor.alloc(this.len),n=0;while(e){e.fn(e.val,t,n);n+=e.len;e=e.next}return t};d._configure=function(e){i=e;d.create=f();i._configure()}},96138:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},96258:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{getSocialImageMetadataBaseFallback:function(){return u},isStringOrURL:function(){return o},resolveAbsoluteUrlWithPathname:function(){return m},resolveRelativeUrl:function(){return f},resolveUrl:function(){return d}});const i=s(n(78671));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){return typeof e==="string"||e instanceof URL}function a(){return new URL(`http://localhost:${process.env.PORT||3e3}`)}function c(){const e=process.env.VERCEL_BRANCH_URL||process.env.VERCEL_URL;return e?new URL(`https://${e}`):undefined}function l(){const e=process.env.VERCEL_PROJECT_PRODUCTION_URL;return e?new URL(`https://${e}`):undefined}function u(e){const t=a();const n=c();const r=l();let i;if(false){}else{i=true&&n&&process.env.VERCEL_ENV==="preview"?n:e||r||t}return i}function d(e,t){if(e instanceof URL)return e;if(!e)return null;try{const t=new URL(e);return t}catch{}if(!t){t=a()}const n=t.pathname||"";const r=i.default.posix.join(n,e);return new URL(r,t)}function f(e,t){if(typeof e==="string"&&e.startsWith("./")){return i.default.posix.resolve(t,e)}return e}const h=/^(?:\/((?!\.well-known(?:\/.*)?)(?:[^/]+\/)*[^/]+\.\w+))(\/?|$)/i;function p(e){return h.test(e)}function m(e,t,{trailingSlash:n,pathname:r}){e=f(e,r);let i="";const s=t?d(e,t):e;if(typeof s==="string"){i=s}else{i=s.pathname==="/"?s.origin:s.href}if(n&&!i.endsWith("/")){let e=i.startsWith("/");let n=i.includes("?");let r=false;let s=false;if(!e){try{const e=new URL(i);r=t!=null&&e.origin!==t.origin;s=p(e.pathname)}catch{r=true}if(!s&&!r&&!n)return`${i}/`}}return i}},96844:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{taintObjectReference:function(){return c},taintUniqueValue:function(){return l}});const i=o(n(61120));function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var n=new WeakMap;return(s=function(e){return e?n:t})(e)}function o(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||typeof e!=="object"&&typeof e!=="function"){return{default:e}}var n=s(t);if(n&&n.has(e)){return n.get(e)}var r={__proto__:null};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e){if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;if(a&&(a.get||a.set)){Object.defineProperty(r,o,a)}else{r[o]=e[o]}}}r.default=e;if(n){n.set(e,r)}return r}function a(){throw Object.defineProperty(new Error("Taint can only be used with the taint flag."),"__NEXT_ERROR_CODE",{value:"E354",enumerable:false,configurable:true})}const c=false?0:a;const l=false?0:a},97173:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function(){return a}});const r=n(40740);const i=n(60687);const s=r._(n(43210));const o=n(22142);function a(){const e=(0,s.useContext)(o.TemplateContext);return(0,i.jsx)(i.Fragment,{children:e})}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},97181:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{resolveIcon:function(){return a},resolveIcons:function(){return c}});const i=n(77341);const s=n(96258);const o=n(4871);function a(e){if((0,s.isStringOrURL)(e))return{url:e};else if(Array.isArray(e))return e;return e}const c=e=>{if(!e){return null}const t={icon:[],apple:[]};if(Array.isArray(e)){t.icon=e.map(a).filter(Boolean)}else if((0,s.isStringOrURL)(e)){t.icon=[a(e)]}else{for(const n of o.IconKeys){const r=(0,i.resolveAsArrayOrUndefined)(e[n]);if(r)t[n]=r.map(a)}}return t}},97587:(e,t,n)=>{"use strict";var r;r={value:true};r=r=t.rS=t.Yi=r=t.Ib=r=r=void 0;const i=n(47099);const s=n(68474);const o=n(61614);const a=n(27603);const c=n(56061);r=c;function l(e){return"@type"in e&&typeof e["@type"]==="string"}r=l;var u;(function(e){e["IDEMPOTENCY_UNKNOWN"]="IDEMPOTENCY_UNKNOWN";e["NO_SIDE_EFFECTS"]="NO_SIDE_EFFECTS";e["IDEMPOTENT"]="IDEMPOTENT"})(u=t.Ib||(t.Ib={}));const d={longs:String,enums:String,bytes:String,defaults:true,oneofs:true,json:true};function f(e,t){if(e===""){return t}else{return e+"."+t}}function h(e){return e instanceof s.Service||e instanceof s.Type||e instanceof s.Enum}function p(e){return e instanceof s.Namespace||e instanceof s.Root}function m(e,t){const n=f(t,e.name);if(h(e)){return[[n,e]]}else{if(p(e)&&typeof e.nested!=="undefined"){return Object.keys(e.nested).map(t=>{return m(e.nested[t],n)}).reduce((e,t)=>e.concat(t),[])}}return[]}function g(e,t){return function n(n){return e.toObject(e.decode(n),t)}}function y(e){return function t(t){if(Array.isArray(t)){throw new Error(`Failed to serialize message: expected object with ${e.name} structure, got array instead`)}const n=e.fromObject(t);return e.encode(n).finish()}}function v(e){return(e||[]).reduce((e,t)=>{for(const[n,r]of Object.entries(t)){switch(n){case"uninterpreted_option":e.uninterpreted_option.push(t.uninterpreted_option);break;default:e[n]=r}}return e},{deprecated:false,idempotency_level:u.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function b(e,t,n,r){const s=e.resolvedRequestType;const o=e.resolvedResponseType;return{path:"/"+t+"/"+e.name,requestStream:!!e.requestStream,responseStream:!!e.responseStream,requestSerialize:y(s),requestDeserialize:g(s,n),responseSerialize:y(o),responseDeserialize:g(o,n),originalName:i(e.name),requestType:E(s,r),responseType:E(o,r),options:v(e.parsedOptions)}}function w(e,t,n,r){const i={};for(const s of e.methodsArray){i[s.name]=b(s,t,n,r)}return i}function E(e,t){const n=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:n.$type.toObject(n,d),fileDescriptorProtos:t}}function _(e,t){const n=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:n.$type.toObject(n,d),fileDescriptorProtos:t}}function S(e,t,n,r){if(e instanceof s.Service){return w(e,t,n,r)}else if(e instanceof s.Type){return E(e,r)}else if(e instanceof s.Enum){return _(e,r)}else{throw new Error("Type mismatch in reflection object handling")}}function T(e,t){const n={};e.resolveAll();const r=e.toDescriptor("proto3").file;const i=r.map(e=>Buffer.from(o.FileDescriptorProto.encode(e).finish()));for(const[r,s]of m(e,"")){n[r]=S(s,r,t,i)}return n}function C(e,t){t=t||{};const n=s.Root.fromDescriptor(e);n.resolveAll();return T(n,t)}function I(e,t){return(0,a.loadProtosWithOptions)(e,t).then(e=>{return T(e,t)})}r=I;function R(e,t){const n=(0,a.loadProtosWithOptionsSync)(e,t);return T(n,t)}t.Yi=R;function O(e,t){t=t||{};const n=s.Root.fromJSON(e);n.resolveAll();return T(n,t)}t.rS=O;function A(e,t){const n=o.FileDescriptorSet.decode(e);return C(n,t)}r=A;function k(e,t){const n=o.FileDescriptorSet.fromObject(e);return C(n,t)}r=k;(0,a.addCommonProtos)()},97659:(e,t,n)=>{"use strict";var r=t;var i=n(32110),s=n(93107);function o(e,t,n,r){var s=false;if(t.resolvedType){if(t.resolvedType instanceof i){e("switch(d%s){",r);for(var o=t.resolvedType.values,a=Object.keys(o),c=0;c<a.length;++c){if(o[a[c]]===t.typeDefault&&!s){e("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',r,r,r);if(!t.repeated)e("break");s=true}e("case%j:",a[c])("case %i:",o[a[c]])("m%s=%j",r,o[a[c]])("break")}e("}")}else e('if(typeof d%s!=="object")',r)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r)}else{var l=false;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",r,r);break;case"uint64":l=true;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,l)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,l?"true":"");break;case"bytes":e('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length >= 0)",r)("m%s=d%s",r,r);break;case"string":e("m%s=String(d%s)",r,r);break;case"bool":e("m%s=Boolean(d%s)",r,r);break}}return e}r.fromObject=function e(e){var t=e.fieldsArray;var n=s.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<t.length;++r){var a=t[r].resolve(),c=s.safeProp(a.name);if(a.map){n("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c);o(n,a,r,c+"[ks[i]]")("}")("}")}else if(a.repeated){n("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c);o(n,a,r,c+"[i]")("}")("}")}else{if(!(a.resolvedType instanceof i))n("if(d%s!=null){",c);o(n,a,r,c);if(!(a.resolvedType instanceof i))n("}")}}return n("return m")};function a(e,t,n,r){if(t.resolvedType){if(t.resolvedType instanceof i)e("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",r,n,r,r,n,r,r);else e("d%s=types[%i].toObject(m%s,o)",r,n,r)}else{var s=false;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":s=true;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,s?"true":"",r);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:e("d%s=m%s",r,r);break}}return e}r.toObject=function e(e){var t=e.fieldsArray.slice().sort(s.compareFieldsById);if(!t.length)return s.codegen()("return {}");var n=s.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}");var r=[],o=[],c=[],l=0;for(;l<t.length;++l)if(!t[l].partOf)(t[l].resolve().repeated?r:t[l].map?o:c).push(t[l]);if(r.length){n("if(o.arrays||o.defaults){");for(l=0;l<r.length;++l)n("d%s=[]",s.safeProp(r[l].name));n("}")}if(o.length){n("if(o.objects||o.defaults){");for(l=0;l<o.length;++l)n("d%s={}",s.safeProp(o[l].name));n("}")}if(c.length){n("if(o.defaults){");for(l=0;l<c.length;++l){var u=c[l],d=s.safeProp(u.name);if(u.resolvedType instanceof i)n("d%s=o.enums===String?%j:%j",d,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var f="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",d,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",d,f)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",d,d)("}")}else n("d%s=%j",d,u.typeDefault)}n("}")}var h=false;for(l=0;l<t.length;++l){var u=t[l],p=e._fieldsArray.indexOf(u),d=s.safeProp(u.name);if(u.map){if(!h){h=true;n("var ks2")}n("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){");a(n,u,p,d+"[ks2[j]]")("}")}else if(u.repeated){n("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d);a(n,u,p,d+"[j]")("}")}else{n("if(m%s!=null&&m.hasOwnProperty(%j)){",d,u.name);a(n,u,p,d);if(u.partOf)n("if(o.oneofs)")("d%s=%j",s.safeProp(u.partOf.name),u.name)}n("}")}return n("return d")}},97860:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function r(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}r(t,{REDIRECT_ERROR_CODE:function(){return s},RedirectType:function(){return o},isRedirectError:function(){return a}});const i=n(17974);const s="NEXT_REDIRECT";var o=function(e){e["push"]="push";e["replace"]="replace";return e}({});function a(e){if(typeof e!=="object"||e===null||!("digest"in e)||typeof e.digest!=="string"){return false}const t=e.digest.split(";");const[n,r]=t;const o=t.slice(2,-2).join(";");const a=t.at(-2);const c=Number(a);return n===s&&(r==="replace"||r==="push")&&typeof o==="string"&&!isNaN(c)&&c in i.RedirectStatusCode}if((typeof t.default==="function"||typeof t.default==="object"&&t.default!==null)&&typeof t.default.__esModule==="undefined"){Object.defineProperty(t.default,"__esModule",{value:true});Object.assign(t.default,t);e.exports=t.default}},98316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getSubchannelPool=t.SubchannelPool=void 0;const r=n(57354);const i=n(24353);const s=n(43356);const o=n(26786);const a=n(70603);const c=1e4;class l{constructor(){this.pool=Object.create(null);this.cleanupTimer=null}unrefUnusedSubchannels(){let e=true;for(const t in this.pool){const n=this.pool[t];const r=n.filter(e=>!e.subchannel.unrefIfOneRef());if(r.length>0){e=false}this.pool[t]=r}if(e&&this.cleanupTimer!==null){clearInterval(this.cleanupTimer);this.cleanupTimer=null}}ensureCleanupTask(){var e,t;if(this.cleanupTimer===null){this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},c);(t=(e=this.cleanupTimer).unref)===null||t===void 0?void 0:t.call(e)}}getOrCreateSubchannel(e,t,n,c){this.ensureCleanupTask();const l=(0,o.uriToString)(e);if(l in this.pool){const e=this.pool[l];for(const i of e){if((0,s.subchannelAddressEqual)(t,i.subchannelAddress)&&(0,r.channelOptionsEqual)(n,i.channelArguments)&&c._equals(i.channelCredentials)){return i.subchannel}}}const u=new i.Subchannel(e,t,n,c,new a.Http2SubchannelConnector(e));if(!(l in this.pool)){this.pool[l]=[]}this.pool[l].push({subchannelAddress:t,channelArguments:n,channelCredentials:c,subchannel:u});u.ref();return u}}t.SubchannelPool=l;const u=new l;function d(e){if(e){return u}else{return new l}}t.getSubchannelPool=d},98344:e=>{"use strict";e.exports=t;function t(e,n){if(typeof e==="string"){n=e;e=undefined}var r=[];function i(e){if(typeof e!=="string"){var n=s();if(t.verbose)console.log("codegen: "+n);n="return "+n;if(e){var o=Object.keys(e),a=new Array(o.length+1),c=new Array(o.length),l=0;while(l<o.length){a[l]=o[l];c[l]=e[o[l++]]}a[l]=n;return Function.apply(null,a).apply(null,c)}return Function(n)()}var u=new Array(arguments.length-1),d=0;while(d<u.length)u[d]=arguments[++d];d=0;e=e.replace(/%([%dfijs])/g,function e(e,t){var n=u[d++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"});if(d!==u.length)throw Error("parameter count mismatch");r.push(e);return i}function s(t){return"function "+(t||n||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}i.toString=s;return i}t.verbose=false},98599:(e,t,n)=>{"use strict";n.d(t,{s:()=>o,t:()=>s});var r=n(43210);function i(e,t){if(typeof e==="function"){return e(t)}else if(e!==null&&e!==void 0){e.current=t}}function s(...e){return t=>{let n=false;const r=e.map(e=>{const r=i(e,t);if(!n&&typeof r=="function"){n=true}return r});if(n){return()=>{for(let t=0;t<r.length;t++){const n=r[t];if(typeof n=="function"){n()}else{i(e[t],null)}}}}}}function o(...e){return r.useCallback(s(...e),e)}}};